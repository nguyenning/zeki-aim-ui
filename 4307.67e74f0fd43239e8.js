"use strict";var Ke=Object.defineProperty,Je=Object.defineProperties,Ze=Object.getOwnPropertyDescriptors,je=Object.getOwnPropertySymbols,ze=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable,We=(Me,Se,q)=>Se in Me?Ke(Me,Se,{enumerable:!0,configurable:!0,writable:!0,value:q}):Me[Se]=q,Pe=(Me,Se)=>{for(var q in Se||(Se={}))ze.call(Se,q)&&We(Me,q,Se[q]);if(je)for(var q of je(Se))Ye.call(Se,q)&&We(Me,q,Se[q]);return Me},Oe=(Me,Se)=>Je(Me,Ze(Se));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[4307],{89890:(Me,Se,q)=>{q.d(Se,{J:()=>be});var se,ge,de,me={exports:{}};se=me,void 0!==(de=function(){function le(y){this.message="JPEG error: "+y}return(le.prototype=new Error).name="JpegError",le.constructor=le,le}(),ge=function(){if(!self||!self.Uint8ClampedArray)return null;var le=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),y=4017,ce=5793,H=2896;function $(){this.decodeTransform=null,this.colorTransform=-1}function oe(v,O){for(var B,u,l=0,d=[],f=16;f>0&&!v[f-1];)f--;d.push({children:[],index:0});var b,I=d[0];for(B=0;B<f;B++){for(u=0;u<v[B];u++){for((I=d.pop()).children[I.index]=O[l];I.index>0;)I=d.pop();for(I.index++,d.push(I);d.length<=B;)d.push(b={children:[],index:0}),I.children[I.index]=b.children,I=b;l++}B+1<f&&(d.push(b={children:[],index:0}),I.children[I.index]=b.children,I=b)}return d[0].children}function X(v,O,B){return 64*((v.blocksPerLine+1)*O+B)}function ue(v,O,B,u,l,d,f,b,I){var m=B.mcusPerLine,p=O,g=0,E=0;function k(){if(E>0)return E--,g>>E&1;if(255===(g=v[O++])){var Q=v[O++];if(Q)throw new de("unexpected marker "+(g<<8|Q).toString(16))}return E=7,g>>>7}function N(Q){for(var ne=Q;;){if("number"==typeof(ne=ne[k()]))return ne;if("object"!=typeof ne)throw new de("invalid huffman sequence")}}function M(Q){for(var ne=0;Q>0;)ne=ne<<1|k(),Q--;return ne}function W(Q){if(1===Q)return 1===k()?1:-1;var ne=M(Q);return ne>=1<<Q-1?ne:ne+(-1<<Q)+1}var _,h=0,P=0;function L(Q,ne,_e,Ce,xe){ne(Q,X(Q,(_e/m|0)*Q.v+Ce,_e%m*Q.h+xe))}var A,U,S,j,R,G,F=u.length;G=B.progressive?0===d?0===b?function i(Q,ne){var _e=N(Q.huffmanTableDC),Ce=0===_e?0:W(_e)<<I;Q.blockData[ne]=Q.pred+=Ce}:function c(Q,ne){Q.blockData[ne]|=k()<<I}:0===b?function w(Q,ne){if(h>0)h--;else for(var _e=d,Ce=f;_e<=Ce;){var xe=N(Q.huffmanTableAC),Ie=15&xe,ve=xe>>4;if(0!==Ie){var Te=le[_e+=ve];Q.blockData[ne+Te]=W(Ie)*(1<<I),_e++}else{if(ve<15){h=M(ve)+(1<<ve)-1;break}_e+=16}}}:function x(Q,ne){for(var _e,Ce,xe=d,Ie=f,ve=0;xe<=Ie;){var Te=le[xe];switch(P){case 0:if(ve=(Ce=N(Q.huffmanTableAC))>>4,0==(_e=15&Ce))ve<15?(h=M(ve)+(1<<ve),P=4):(ve=16,P=1);else{if(1!==_e)throw new de("invalid ACn encoding");_=W(_e),P=ve?2:3}continue;case 1:case 2:Q.blockData[ne+Te]?Q.blockData[ne+Te]+=k()<<I:0==--ve&&(P=2===P?3:0);break;case 3:Q.blockData[ne+Te]?Q.blockData[ne+Te]+=k()<<I:(Q.blockData[ne+Te]=_<<I,P=0);break;case 4:Q.blockData[ne+Te]&&(Q.blockData[ne+Te]+=k()<<I)}xe++}4===P&&0==--h&&(P=0)}:function D(Q,ne){var _e=N(Q.huffmanTableDC),Ce=0===_e?0:W(_e);Q.blockData[ne]=Q.pred+=Ce;for(var xe=1;xe<64;){var Ie=N(Q.huffmanTableAC),ve=15&Ie,Te=Ie>>4;if(0!==ve){var De=le[xe+=Te];Q.blockData[ne+De]=W(ve),xe++}else{if(Te<15)break;xe+=16}}};var Z,z,Y,ee,Q,_e,ie=0;for(z=1===F?u[0].blocksPerLine*u[0].blocksPerColumn:m*B.mcusPerColumn;ie<z;){var re=l?Math.min(z-ie,l):z;for(U=0;U<F;U++)u[U].pred=0;if(h=0,1===F)for(A=u[0],R=0;R<re;R++)G(Q=A,X(Q,(_e=ie)/Q.blocksPerLine|0,_e%Q.blocksPerLine)),ie++;else for(R=0;R<re;R++){for(U=0;U<F;U++)for(Y=(A=u[U]).h,ee=A.v,S=0;S<ee;S++)for(j=0;j<Y;j++)L(A,G,ie,S,j);ie++}E=0,(Z=J(v,O))&&Z.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+Z.invalid),O=Z.offset);var ae=Z&&Z.marker;if(!ae||ae<=65280)throw new de("marker was not found");if(!(ae>=65488&&ae<=65495))break;O+=2}return(Z=J(v,O))&&Z.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+Z.invalid),O=Z.offset),O-p}function K(v,O,B){var u,l,d,f,b,I,m,C,p,g,E,k,N,M,W,D,i,c=v.quantizationTable,h=v.blockData;if(!c)throw new de("missing required Quantization Table.");for(var w=0;w<64;w+=8)p=h[O+w],p*=c[w],0!=((g=h[O+w+1])|(E=h[O+w+2])|(k=h[O+w+3])|(N=h[O+w+4])|(M=h[O+w+5])|(W=h[O+w+6])|(D=h[O+w+7]))?(l=(u=(u=ce*p+128>>8)+(l=ce*(N*=c[w+4])+128>>8)+1>>1)-l,i=3784*(d=E*=c[w+2])+1567*(f=W*=c[w+6])+128>>8,d=1567*d-3784*f+128>>8,m=(b=(b=H*((g*=c[w+1])-(D*=c[w+7]))+128>>8)+(m=(M*=c[w+5])<<4)+1>>1)-m,I=(C=(C=H*(g+D)+128>>8)+(I=(k*=c[w+3])<<4)+1>>1)-I,f=(u=u+(f=i)+1>>1)-f,d=(l=l+d+1>>1)-d,i=2276*b+3406*C+2048>>12,b=3406*b-2276*C+2048>>12,C=i,i=799*I+m*y+2048>>12,I=I*y-799*m+2048>>12,m=i,B[w]=u+C,B[w+7]=u-C,B[w+1]=l+m,B[w+6]=l-m,B[w+2]=d+I,B[w+5]=d-I,B[w+3]=f+b,B[w+4]=f-b):(B[w]=i=ce*p+512>>10,B[w+1]=i,B[w+2]=i,B[w+3]=i,B[w+4]=i,B[w+5]=i,B[w+6]=i,B[w+7]=i);for(var _=0;_<8;++_)p=B[_],0!=((g=B[_+8])|(E=B[_+16])|(k=B[_+24])|(N=B[_+32])|(M=B[_+40])|(W=B[_+48])|(D=B[_+56]))?(l=(u=4112+((u=ce*p+2048>>12)+(l=ce*N+2048>>12)+1>>1))-l,i=3784*(d=E)+1567*(f=W)+2048>>12,d=1567*d-3784*f+2048>>12,f=i,m=(b=(b=H*(g-D)+2048>>12)+(m=M)+1>>1)-m,I=(C=(C=H*(g+D)+2048>>12)+(I=k)+1>>1)-I,i=2276*b+3406*C+2048>>12,b=3406*b-2276*C+2048>>12,C=i,i=799*I+m*y+2048>>12,I=I*y-799*m+2048>>12,p=(p=(u=u+f+1>>1)+C)<16?0:p>=4080?255:p>>4,g=(g=(l=l+d+1>>1)+(m=i))<16?0:g>=4080?255:g>>4,E=(E=(d=l-d)+I)<16?0:E>=4080?255:E>>4,k=(k=(f=u-f)+b)<16?0:k>=4080?255:k>>4,N=(N=f-b)<16?0:N>=4080?255:N>>4,M=(M=d-I)<16?0:M>=4080?255:M>>4,W=(W=l-m)<16?0:W>=4080?255:W>>4,D=(D=u-C)<16?0:D>=4080?255:D>>4,h[O+_]=p,h[O+_+8]=g,h[O+_+16]=E,h[O+_+24]=k,h[O+_+32]=N,h[O+_+40]=M,h[O+_+48]=W,h[O+_+56]=D):(i=(i=ce*p+8192>>14)<-2040?0:i>=2024?255:i+2056>>4,h[O+_]=i,h[O+_+8]=i,h[O+_+16]=i,h[O+_+24]=i,h[O+_+32]=i,h[O+_+40]=i,h[O+_+48]=i,h[O+_+56]=i)}function V(v,O){for(var B=O.blocksPerLine,u=O.blocksPerColumn,l=new Int16Array(64),d=0;d<u;d++)for(var f=0;f<B;f++)K(O,X(O,d,f),l);return O.blockData}function J(v,O,B){function u(I){return v[I]<<8|v[I+1]}var l=v.length-1,d=B<O?B:O;if(O>=l)return null;var f=u(O);if(f>=65472&&f<=65534)return{invalid:null,marker:f,offset:O};for(var b=u(d);!(b>=65472&&b<=65534);){if(++d>=l)return null;b=u(d)}return{invalid:f.toString(16),marker:b,offset:d}}return $.prototype={parse:function(v){function O(){var Q=v[f]<<8|v[f+1];return f+=2,Q}function B(){var Q=O(),ne=f+Q-2,_e=J(v,ne,f);_e&&_e.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+_e.invalid),ne=_e.offset);var Ce=v.subarray(f,ne);return f+=Ce.length,Ce}function u(Q){for(var ne=Math.ceil(Q.samplesPerLine/8/Q.maxH),_e=Math.ceil(Q.scanLines/8/Q.maxV),Ce=0;Ce<Q.components.length;Ce++){R=Q.components[Ce];var xe=Math.ceil(Math.ceil(Q.samplesPerLine/8)*R.h/Q.maxH),Ie=Math.ceil(Math.ceil(Q.scanLines/8)*R.v/Q.maxV);R.blockData=new Int16Array(_e*R.v*64*(ne*R.h+1)),R.blocksPerLine=xe,R.blocksPerColumn=Ie}Q.mcusPerLine=ne,Q.mcusPerColumn=_e}var l,d,f=0,b=null,I=null,m=[],C=[],p=[],g=O();if(65496!==g)throw new de("SOI not found");for(g=O();65497!==g;){var E,k,N;switch(g){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var M=B();65504===g&&74===M[0]&&70===M[1]&&73===M[2]&&70===M[3]&&0===M[4]&&(b={version:{major:M[5],minor:M[6]},densityUnits:M[7],xDensity:M[8]<<8|M[9],yDensity:M[10]<<8|M[11],thumbWidth:M[12],thumbHeight:M[13],thumbData:M.subarray(14,14+3*M[12]*M[13])}),65518===g&&65===M[0]&&100===M[1]&&111===M[2]&&98===M[3]&&101===M[4]&&(I={version:M[5]<<8|M[6],flags0:M[7]<<8|M[8],flags1:M[9]<<8|M[10],transformCode:M[11]});break;case 65499:for(var W=O()+f-2;f<W;){var D=v[f++],i=new Uint16Array(64);if(D>>4==0)for(k=0;k<64;k++)i[le[k]]=v[f++];else{if(D>>4!=1)throw new de("DQT - invalid table spec");for(k=0;k<64;k++)i[le[k]]=O()}m[15&D]=i}break;case 65472:case 65473:case 65474:if(l)throw new de("Only single frame JPEGs supported");O(),(l={}).extended=65473===g,l.progressive=65474===g,l.precision=v[f++],l.scanLines=O(),l.samplesPerLine=O(),l.components=[],l.componentIds={};var c,h=v[f++],w=0,_=0;for(E=0;E<h;E++){c=v[f];var P=v[f+1]>>4,x=15&v[f+1];w<P&&(w=P),_<x&&(_=x),N=l.components.push({h:P,v:x,quantizationId:v[f+2],quantizationTable:null}),l.componentIds[c]=N-1,f+=3}l.maxH=w,l.maxV=_,u(l);break;case 65476:var T=O();for(E=2;E<T;){var A=v[f++],U=new Uint8Array(16),S=0;for(k=0;k<16;k++,f++)S+=U[k]=v[f];var j=new Uint8Array(S);for(k=0;k<S;k++,f++)j[k]=v[f];E+=17+S,(A>>4==0?p:C)[15&A]=oe(U,j)}break;case 65501:O(),d=O();break;case 65498:O();var R,G=v[f++],F=[];for(E=0;E<G;E++){var Z=l.componentIds[v[f++]],z=v[f++];(R=l.components[Z]).huffmanTableDC=p[z>>4],R.huffmanTableAC=C[15&z],F.push(R)}var Y=v[f++],ee=v[f++],ie=v[f++],re=ue(v,f,l,F,d,Y,ee,ie>>4,15&ie);f+=re;break;case 65535:255!==v[f]&&f--;break;default:if(255===v[f-3]&&v[f-2]>=192&&v[f-2]<=254){f-=3;break}throw new de("unknown marker "+g.toString(16))}g=O()}for(this.width=l.samplesPerLine,this.height=l.scanLines,this.jfif=b,this.eof=f,this.adobe=I,this.components=[],E=0;E<l.components.length;E++){var ae=m[(R=l.components[E]).quantizationId];ae&&(R.quantizationTable=ae),this.components.push({output:V(0,R),scaleX:R.h/l.maxH,scaleY:R.v/l.maxV,blocksPerLine:R.blocksPerLine,blocksPerColumn:R.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(v,O){var B,u,l,d,f,b,I,m,C,p,g,E=this.width/v,k=this.height/O,N=0,M=this.components.length,W=v*O*M,D=new Uint8ClampedArray(W),i=new Uint32Array(v),c=4294967288;for(I=0;I<M;I++){for(u=(B=this.components[I]).scaleX*E,l=B.scaleY*k,N=I,g=B.output,d=B.blocksPerLine+1<<3,f=0;f<v;f++)i[f]=((m=0|f*u)&c)<<3|7&m;for(b=0;b<O;b++)for(p=d*((m=0|b*l)&c)|(7&m)<<3,f=0;f<v;f++)D[N]=g[p+i[f]],N+=M}var h=this.decodeTransform;if(h)for(I=0;I<W;)for(m=0,C=0;m<M;m++,I++,C+=2)D[I]=(D[I]*h[C]>>8)+h[C+1];return D},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this.colorTransform:1===this.colorTransform},_convertYccToRgb:function(v){for(var O,B,u,l=0,d=v.length;l<d;l+=3)B=v[l+1],v[l]=(O=v[l])-179.456+1.402*(u=v[l+2]),v[l+1]=O+135.459-.344*B-.714*u,v[l+2]=O-226.816+1.772*B;return v},_convertYcckToRgb:function(v){for(var O,B,u,l,d=0,f=0,b=v.length;f<b;f+=4)v[d++]=(B=v[f+1])*(-660635669420364e-19*B+.000437130475926232*(u=v[f+2])-54080610064599e-18*(O=v[f])+.00048449797120281*(l=v[f+3])-.154362151871126)-122.67195406894+u*(-.000957964378445773*u+.000817076911346625*O-.00477271405408747*l+1.53380253221734)+O*(.000961250184130688*O-.00266257332283933*l+.48357088451265)+l*(-.000336197177618394*l+.484791561490776),v[d++]=107.268039397724+B*(219927104525741e-19*B-.000640992018297945*u+.000659397001245577*O+.000426105652938837*l-.176491792462875)+u*(-.000778269941513683*u+.00130872261408275*O+.000770482631801132*l-.151051492775562)+O*(.00126935368114843*O-.00265090189010898*l+.25802910206845)+l*(-.000318913117588328*l-.213742400323665),v[d++]=B*(-.000570115196973677*B-263409051004589e-19*u+.0020741088115012*O-.00288260236853442*l+.814272968359295)-20.810012546947+u*(-153496057440975e-19*u-.000132689043961446*O+.000560833691242812*l-.195152027534049)+O*(.00174418132927582*O-.00255243321439347*l+.116935020465145)+l*(-.000343531996510555*l+.24165260232407);return v},_convertYcckToCmyk:function(v){for(var O,B,u,l=0,d=v.length;l<d;l+=4)B=v[l+1],v[l]=434.456-(O=v[l])-1.402*(u=v[l+2]),v[l+1]=119.541-O+.344*B+.714*u,v[l+2]=481.816-O-1.772*B;return v},_convertCmykToRgb:function(v){for(var O,B,u,l,d=0,f=1/255,b=0,I=v.length;b<I;b+=4)v[d++]=255+(O=v[b]*f)*(-4.387332384609988*O+54.48615194189176*(B=v[b+1]*f)+18.82290502165302*(u=v[b+2]*f)+212.25662451639585*(l=v[b+3]*f)-285.2331026137004)+B*(1.7149763477362134*B-5.6096736904047315*u-17.873870861415444*l-5.497006427196366)+u*(-2.5217340131683033*u-21.248923337353073*l+17.5119270841813)-l*(21.86122147463605*l+189.48180835922747),v[d++]=255+O*(8.841041422036149*O+60.118027045597366*B+6.871425592049007*u+31.159100130055922*l-79.2970844816548)+B*(-15.310361306967817*B+17.575251261109482*u+131.35250912493976*l-190.9453302588951)+u*(4.444339102852739*u+9.8632861493405*l-24.86741582555878)-l*(20.737325471181034*l+187.80453709719578),v[d++]=255+O*(.8842522430003296*O+8.078677503112928*B+30.89978309703729*u-.23883238689178934*l-14.183576799673286)+B*(10.49593273432072*B+63.02378494754052*u+50.606957656360734*l-112.23884253719248)+u*(.03296041114873217*u+115.60384449646641*l-193.58209356861505)-l*(22.33816807309886*l+180.12613974708367);return v},getData:function(v,O,B){if(this.numComponents>4)throw new de("Unsupported color mode");var u=this._getLinearizedBlockData(v,O);if(1===this.numComponents&&B){for(var l=u.length,d=new Uint8ClampedArray(3*l),f=0,b=0;b<l;b++){var I=u[b];d[f++]=I,d[f++]=I,d[f++]=I}return d}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(u);if(4===this.numComponents){if(this._isColorConversionNeeded())return B?this._convertYcckToRgb(u):this._convertYcckToCmyk(u);if(B)return this._convertCmykToRgb(u)}return u}},$}())&&(se.exports=ge);const be=me.exports},34022:(Me,Se,q)=>{q.d(Se,{Z:()=>be});var se,we,ge,me={exports:{}};we=me,se=function(){function de(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return de.prototype={ensureBuffer:function(le){var y=this.buffer,he=y?y.byteLength:0;if(le<he)return y;for(var pe=512;pe<le;)pe<<=1;for(var ye=new Uint8Array(pe),te=0;te<he;++te)ye[te]=y[te];return this.buffer=ye},getByte:function(){for(var le=this.pos;this.bufferLength<=le;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(le){var y=this.pos;if(le){this.ensureBuffer(y+le);for(var he=y+le;!this.eof&&this.bufferLength<he;)this.readBlock();var pe=this.bufferLength;he>pe&&(he=pe)}else{for(;!this.eof;)this.readBlock();he=this.bufferLength}return this.pos=he,this.buffer.subarray(y,he)},lookChar:function(){for(var le=this.pos;this.bufferLength<=le;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var le=this.pos;this.bufferLength<=le;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(le,y,he){for(var pe=le+y;this.bufferLength<=pe&&!this.eof;)this.readBlock();return new Stream(this.buffer,le,y,he)},skip:function(le){le||(le=1),this.pos+=le},reset:function(){this.pos=0}},de}(),void 0!==(ge=function(){if(!self||!self.Uint32Array)return null;var de=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),le=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),y=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),he=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],pe=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function ye(fe){throw new Error(fe)}function te(fe){var ce=0,H=fe[ce++],$=fe[ce++];-1!=H&&-1!=$||ye("Invalid header in flate stream"),8!=(15&H)&&ye("Unknown compression method in flate stream"),((H<<8)+$)%31!=0&&ye("Bad FCHECK in flate stream"),32&$&&ye("FDICT bit set in flate stream"),this.bytes=fe,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,se.call(this)}return(te.prototype=Object.create(se.prototype)).getBits=function(fe){for(var ce,H=this.codeSize,$=this.codeBuf,oe=this.bytes,X=this.bytesPos;H<fe;)void 0===(ce=oe[X++])&&ye("Bad encoding in flate stream"),$|=ce<<H,H+=8;return ce=$&(1<<fe)-1,this.codeBuf=$>>fe,this.codeSize=H-=fe,this.bytesPos=X,ce},te.prototype.getCode=function(fe){for(var ce=fe[0],H=fe[1],$=this.codeSize,oe=this.codeBuf,X=this.bytes,ue=this.bytesPos;$<H;){var K;void 0===(K=X[ue++])&&ye("Bad encoding in flate stream"),oe|=K<<$,$+=8}var V=ce[oe&(1<<H)-1],J=V>>16,v=65535&V;return(0==$||$<J||0==J)&&ye("Bad encoding in flate stream"),this.codeBuf=oe>>J,this.codeSize=$-J,this.bytesPos=ue,v},te.prototype.generateHuffmanTable=function(fe){for(var ce=fe.length,H=0,$=0;$<ce;++$)fe[$]>H&&(H=fe[$]);for(var oe=1<<H,X=new Uint32Array(oe),ue=1,K=0,V=2;ue<=H;++ue,K<<=1,V<<=1)for(var J=0;J<ce;++J)if(fe[J]==ue){var v=0,O=K;for($=0;$<ue;++$)v=v<<1|1&O,O>>=1;for($=v;$<oe;$+=V)X[$]=ue<<16|J;++K}return[X,H]},te.prototype.readBlock=function(){function fe(i,c,h,w,_){for(var P=i.getBits(h)+w;P-- >0;)c[V++]=_}var ce=this.getBits(3);if(1&ce&&(this.eof=!0),0!=(ce>>=1)){var H,$;if(1==ce)H=he,$=pe;else if(2==ce){for(var oe=this.getBits(5)+257,X=this.getBits(5)+1,ue=this.getBits(4)+4,K=Array(de.length),V=0;V<ue;)K[de[V++]]=this.getBits(3);for(var J=this.generateHuffmanTable(K),v=0,O=(V=0,oe+X),B=new Array(O);V<O;){var u=this.getCode(J);16==u?fe(this,B,2,3,v):17==u?fe(this,B,3,3,v=0):18==u?fe(this,B,7,11,v=0):B[V++]=v=u}H=this.generateHuffmanTable(B.slice(0,oe)),$=this.generateHuffmanTable(B.slice(oe,O))}else ye("Unknown block type in flate stream");for(var l=(M=this.buffer)?M.length:0,d=this.bufferLength;;){var f=this.getCode(H);if(f<256)d+1>=l&&(l=(M=this.ensureBuffer(d+1)).length),M[d++]=f;else{if(256==f)return void(this.bufferLength=d);var b=(f=le[f-=257])>>16;b>0&&(b=this.getBits(b)),v=(65535&f)+b,f=this.getCode($),(b=(f=y[f])>>16)>0&&(b=this.getBits(b));var I=(65535&f)+b;d+v>=l&&(l=(M=this.ensureBuffer(d+v)).length);for(var m=0;m<v;++m,++d)M[d]=M[d-I]}}}else{var C,p=this.bytes,g=this.bytesPos;void 0===(C=p[g++])&&ye("Bad block header in flate stream");var E=C;void 0===(C=p[g++])&&ye("Bad block header in flate stream"),E|=C<<8,void 0===(C=p[g++])&&ye("Bad block header in flate stream");var k=C;void 0===(C=p[g++])&&ye("Bad block header in flate stream"),(k|=C<<8)!=(65535&~E)&&ye("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var N=this.bufferLength,M=this.ensureBuffer(N+E),W=N+E;this.bufferLength=W;for(var D=N;D<W;++D){if(void 0===(C=p[g++])){this.eof=!0;break}M[D]=C}this.bytesPos=g}},te}())&&(we.exports=ge);const be=me.exports},79645:(Me,Se,q)=>{q.d(Se,{Z:()=>fe});var se=q(17626),we=q(86810),ge=q(62208),me=q(77712),y=(q(85931),q(8314),q(90912),q(76898)),he=q(2004),pe=q(65234),ye=q(27497);let te=class extends we.wq{constructor(ce){super(ce),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get dataType(){var H,$,oe;const ce=null!=(oe=null==($=null==(H=this.keyProperties)?void 0:H.DataType)?void 0:$.toLowerCase())?oe:"generic";return"stdtime"===ce?"standard-time":ce}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent(ce){ce&&this._set("nativeExtent",ce)}get nativePixelSize(){if((0,ge.Wi)(this.transform)||!this.transform.affectsPixelSize)return this.pixelSize;const ce=this.nativeExtent;return{x:ce.width/this.width,y:ce.height/this.height}}get hasMultidimensionalTranspose(){var ce;return!(null==(ce=this.storageInfo)||!ce.transposeInfo)}};(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"attributeTable",void 0),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"bandCount",void 0),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"colormap",void 0),(0,se._)([(0,me.Cb)({type:String,readOnly:!0})],te.prototype,"dataType",null),(0,se._)([(0,me.Cb)({type:he.Z,json:{write:!0}})],te.prototype,"extent",void 0),(0,se._)([(0,me.Cb)({type:he.Z,json:{write:!0}})],te.prototype,"nativeExtent",null),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"nativePixelSize",null),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"format",void 0),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"height",void 0),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"width",void 0),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"hasMultidimensionalTranspose",null),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"histograms",void 0),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"keyProperties",void 0),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"multidimensionalInfo",void 0),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"noDataValue",void 0),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"pixelSize",void 0),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"pixelType",void 0),(0,se._)([(0,me.Cb)()],te.prototype,"isPseudoSpatialReference",void 0),(0,se._)([(0,me.Cb)({type:pe.Z,json:{write:!0}})],te.prototype,"spatialReference",void 0),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"statistics",void 0),(0,se._)([(0,me.Cb)({type:ye.Z,json:{write:!0}})],te.prototype,"storageInfo",void 0),(0,se._)([(0,me.Cb)({json:{write:!0}})],te.prototype,"transform",void 0),te=(0,se._)([(0,y.j)("esri.layers.support.RasterInfo")],te);const fe=te},27497:(Me,Se,q)=>{q.d(Se,{Z:()=>pe});var se=q(17626),we=q(86810),ge=q(77712),le=(q(85931),q(8314),q(90912),q(76898)),y=q(49672);let he=class extends we.wq{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.transposeInfo=null,this.blockBoundary=null}};(0,se._)([(0,ge.Cb)({type:Number,json:{write:!0}})],he.prototype,"blockWidth",void 0),(0,se._)([(0,ge.Cb)({type:Number,json:{write:!0}})],he.prototype,"blockHeight",void 0),(0,se._)([(0,ge.Cb)({type:String,json:{write:!0}})],he.prototype,"compression",void 0),(0,se._)([(0,ge.Cb)({type:y.Z,json:{write:!0}})],he.prototype,"origin",void 0),(0,se._)([(0,ge.Cb)({type:Number,json:{write:!0}})],he.prototype,"firstPyramidLevel",void 0),(0,se._)([(0,ge.Cb)({type:Number,json:{write:!0}})],he.prototype,"maximumPyramidLevel",void 0),(0,se._)([(0,ge.Cb)({json:{write:!0}})],he.prototype,"pyramidResolutions",void 0),(0,se._)([(0,ge.Cb)({type:Number,json:{write:!0}})],he.prototype,"pyramidScalingFactor",void 0),(0,se._)([(0,ge.Cb)({type:Number,json:{write:!0}})],he.prototype,"pyramidBlockWidth",void 0),(0,se._)([(0,ge.Cb)({type:Number,json:{write:!0}})],he.prototype,"pyramidBlockHeight",void 0),(0,se._)([(0,ge.Cb)({type:Boolean,json:{write:!0}})],he.prototype,"isVirtualTileInfo",void 0),(0,se._)([(0,ge.Cb)({json:{write:!0}})],he.prototype,"tileInfo",void 0),(0,se._)([(0,ge.Cb)()],he.prototype,"transposeInfo",void 0),(0,se._)([(0,ge.Cb)()],he.prototype,"blockBoundary",void 0),he=(0,se._)([(0,le.j)("esri.layers.support.RasterStorageInfo")],he);const pe=he},15365:(Me,Se,q)=>{function se(we,ge){let me=0,be="",de=0,le=0;const y=we.length;for(;me<y;)le=we[me++],de=le>>4,de<8?de=1:15===de?(de=4,le=(7&le)<<18|(63&we[me++])<<12|(63&we[me++])<<6|63&we[me++]):14===de?(de=3,le=(15&le)<<12|(63&we[me++])<<6|63&we[me++]):(de=2,le=(31&le)<<6|63&we[me++]),(0!==le||ge)&&(be+=String.fromCharCode(le));return be}q.d(Se,{f:()=>se})},68786:(Me,Se,q)=>{q.d(Se,{Jx:()=>te,zD:()=>be});var se=q(54346);const we=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,128]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let ge=null,me=null;function be(){return ge||(ge=q.e(2045).then(q.bind(q,72045)).then(ce=>ce.l).then(({default:ce})=>ce({locateFile:H=>(0,se.V)(`esri/layers/support/rasterFormats/${H}`)})).then(ce=>{(function pe(ce){const{_malloc:H,_free:$,_lerc_getBlobInfo:oe,_lerc_getDataRanges:X,_lerc_decode_4D:ue,asm:K}=ce;let V;const J=Object.values(K).find(O=>O&&"buffer"in O&&O.buffer===ce.HEAPU8.buffer),v=O=>{const B=O.map(f=>function y(ce){return 16+(ce>>3<<3)}(f)),u=B.reduce((f,b)=>f+b),l=H(u);V=new Uint8Array(J.buffer);let d=B[0];B[0]=l;for(let f=1;f<B.length;f++){const b=B[f];B[f]=B[f-1]+d,d=b}return B};le.getBlobInfo=O=>{const l=new Uint8Array(48),d=new Uint8Array(24),[f,b,I]=v([O.length,l.length,d.length]);V.set(O,f),V.set(l,b),V.set(d,I);let m=oe(f,O.length,b,I,12,3);if(m)throw $(f),`lerc-getBlobInfo: error code is ${m}`;V=new Uint8Array(J.buffer),he(V,b,l),he(V,I,d);const C=new Uint32Array(l.buffer),p=new Float64Array(d.buffer),[g,E,k,N,M,W,D,i,c,,h]=C,w={version:g,dimCount:k,width:N,height:M,validPixelCount:D,bandCount:W,blobSize:i,maskCount:c,dataType:E,minValue:p[0],maxValue:p[1],maxZerror:p[2],statistics:[],bandCountWithNoData:h};if(h)return w;if(1===k&&1===W)return $(f),w.statistics.push({minValue:p[0],maxValue:p[1]}),w;const _=k*W*8,P=new Uint8Array(_),x=new Uint8Array(_);let L=f,T=0,A=0,U=!1;if(V.byteLength<f+2*_?($(f),U=!0,[L,T,A]=v([O.length,_,_]),V.set(O,L)):[T,A]=v([_,_]),V.set(P,T),V.set(x,A),m=X(L,O.length,k,W,T,A),m)throw $(L),U||$(T),`lerc-getDataRanges: error code is ${m}`;V=new Uint8Array(J.buffer),he(V,T,P),he(V,A,x);const S=new Float64Array(P.buffer),j=new Float64Array(x.buffer),R=w.statistics;for(let G=0;G<W;G++)if(k>1){const F=S.slice(G*k,(G+1)*k),Z=j.slice(G*k,(G+1)*k),z=Math.min.apply(null,F),Y=Math.max.apply(null,Z);R.push({minValue:z,maxValue:Y,dimStats:{minValues:F,maxValues:Z}})}else R.push({minValue:S[G],maxValue:j[G]});return $(L),U||$(T),w},le.decode=(O,B)=>{const{maskCount:u,dimCount:l,bandCount:d,width:f,height:b,dataType:I,bandCountWithNoData:m}=B,C=we[I],p=f*b,g=new Uint8Array(p*d),k=new Uint8Array(p*l*d*C.size),N=new Uint8Array(d),M=new Uint8Array(8*d),[W,D,i,c,h]=v([O.length,g.length,k.length,N.length,M.length]);V.set(O,W),V.set(g,D),V.set(k,i),V.set(N,c),V.set(M,h);const w=ue(W,O.length,u,D,l,f,b,d,I,i,c,h);if(w)throw $(W),`lerc-decode: error code is ${w}`;V=new Uint8Array(J.buffer),he(V,i,k),he(V,D,g);let _=null;if(m){he(V,c,N),he(V,h,M),_=[];const P=new Float64Array(M.buffer);for(let x=0;x<N.length;x++)_.push(N[x]?P[x]:null)}return $(W),{data:k,maskData:g,noDataValues:_}}})(ce),me=!0}),ge)}const le={getBlobInfo:null,decode:null};function he(ce,H,$){$.set(ce.slice(H,H+$.length))}function ye(ce,H,$,oe,X){if($<2)return ce;const ue=new oe(H*$);if(X)for(let K=0,V=0;K<H;K++)for(let J=0,v=K;J<$;J++,v+=H)ue[v]=ce[V++];else for(let K=0,V=0;K<H;K++)for(let J=0,v=K;J<$;J++,v+=H)ue[V++]=ce[v];return ue}function te(ce,H={}){var N;const $=null!=(N=H.inputOffset)?N:0,oe=ce instanceof Uint8Array?ce.subarray($):new Uint8Array(ce,$),X=le.getBlobInfo(oe),{data:ue,maskData:K}=le.decode(oe,X),{width:V,height:J,bandCount:v,dimCount:O,dataType:B,maskCount:u,statistics:l}=X,d=we[B],f=new d.ctor(ue.buffer),b=[],I=[],m=V*J,C=m*O;for(let M=0;M<v;M++){const W=f.subarray(M*C,(M+1)*C);if(H.returnPixelInterleavedDims)b.push(W);else{const D=ye(W,m,O,d.ctor,!0);b.push(D)}I.push(K.subarray(M*C,(M+1)*C))}const p=0===u?null:1===u?I[0]:new Uint8Array(m);if(u>1){p.set(I[0]);for(let M=1;M<I.length;M++){const W=I[M];for(let D=0;D<m;D++)p[D]=p[D]&W[D]}}const{noDataValue:g}=H;if(u>0&&null!=g&&d.range[0]<=g&&d.range[1]>=g)for(let M=0;M<v;M++){const W=b[M],D=I[M]||p;for(let i=0;i<m;i++)0===D[i]&&(W[i]=g)}return{width:V,height:J,bandCount:v,pixelType:H.pixelType&&0===X.version?H.pixelType:d.pixelType,dimCount:O,statistics:l,pixels:b,mask:p,bandMasks:u===v&&v>1?I:null}}},94194:(Me,Se,q)=>{function we(){const de=[];for(let le=0;le<=257;le++)de[le]=[le];return de}function ge(de,le){for(let y=0;y<le.length;y++)de.push(le[y])}q.d(Se,{J:()=>be});const me=new Set;function be(de,le,y,he=!0){const pe=function se(de,le,y,he=!0){if(le%4!=0||y%4!=0){const pe=new ArrayBuffer(4*Math.ceil(y/4)),ye=new Uint8Array(pe),te=new Uint8Array(de,le,y);if(he)for(let fe=0;fe<ye.length;fe+=4)ye[fe]=te[fe+3],ye[fe+1]=te[fe+2],ye[fe+2]=te[fe+1],ye[fe+3]=te[fe];else ye.set(te);return new Uint32Array(ye.buffer)}if(he){const pe=new Uint8Array(de,le,y),ye=new Uint8Array(pe.length);for(let te=0;te<ye.length;te+=4)ye[te]=pe[te+3],ye[te+1]=pe[te+2],ye[te+2]=pe[te+1],ye[te+3]=pe[te];return new Uint32Array(ye.buffer)}return new Uint32Array(de,le,y/4)}(de,le,y,he);let ye=9,te=we(),fe=32,ce=te.length,H=[],$=1,oe=pe[0],X=0;const ue=pe.length,K=8*(4*ue-y),V=[];for(;null!=oe;){if(fe>=ye)fe-=ye,X=oe>>>32-ye,oe<<=ye;else{X=oe>>>32-fe,oe=pe[$++];const v=ye-fe;fe=32-v,X=(X<<v)+(oe>>>fe),oe<<=v}if(257===X)break;if(256===X){ye=9,te=we(),ce=te.length,H=[];continue}const J=te[X];if(null==J){if(X>te.length)throw"data integrity issue: code does not exist on code page";H.push(H[0]),te[ce++]=H.slice(),ge(V,H)}else ge(V,J),H.push(J[0]),H.length>1&&(te[ce++]=H.slice()),H=J.slice();if(me.has(ce)&&ye++,0===fe&&(oe=pe[$++],fe=32),$>ue||$===ue&&fe<=K)break}return new Uint8Array(V)}me.add(511),me.add(1023),me.add(2047),me.add(4095),me.add(8191)},8614:(Me,Se,q)=>{q.d(Se,{J:()=>M,y:()=>N});var se=q(15861),we=q(26584),ge=q(60295),me=q(10699),be=q(34022);class de{constructor(i){i&&(this.canvas=i.canvas,this.ctx=i.ctx||i.canvas&&i.canvas.getContext("2d"))}decode(i,c,h){if(!i||i.byteLength<10)throw new we.Z("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:w,height:_,format:P}=c;const{applyJpegMask:x}=c;if(x&&(!w||!_))throw new we.Z("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise((L,T)=>{let A=null;"jpg"===P&&x&&(A=de._getMask(i,{width:w,height:_}));const U=new Blob([new Uint8Array(i)],{type:"image/"+P=="jpg"?"jpeg":P}),S=URL.createObjectURL(U),j=new Image;let R;j.src=S,j.onload=()=>{if(URL.revokeObjectURL(S),(0,me.Hc)(h))return void T((0,me.zE)());w=j.width,_=j.height,this.canvas?(this.canvas.width===w&&this.canvas.height===_||(this.canvas.width=w,this.canvas.height=_),this.ctx.clearRect(0,0,w,_)):(this.canvas=document.createElement("canvas"),this.canvas.width=w,this.canvas.height=_,this.ctx=this.canvas.getContext("2d")),this.ctx.drawImage(j,0,0);const G=this.ctx.getImageData(0,0,w,_);let F;if(R=G.data,c.renderOnCanvas){if(A)for(F=0;F<A.length;F++)R[4*F+3]=A[F]?255:0;return this.ctx.putImageData(G,0,0),void L(null)}const Z=w*_,z=new Uint8Array(Z),Y=new Uint8Array(Z),ee=new Uint8Array(Z);if(A)for(F=0;F<Z;F++)z[F]=R[4*F],Y[F]=R[4*F+1],ee[F]=R[4*F+2];else for(A=new Uint8Array(Z),F=0;F<Z;F++)z[F]=R[4*F],Y[F]=R[4*F+1],ee[F]=R[4*F+2],A[F]=R[4*F+3];L({width:w,height:_,pixels:[z,Y,ee],mask:A,pixelType:"u8"})},j.onerror=()=>{URL.revokeObjectURL(S),T("cannot load image")}})}static _getMask(i,c){let h=null;try{const w=new Uint8Array(i),_=Math.ceil(w.length/2);let P=0;const x=w.length-2;for(P=_;P<x&&(255!==w[P]||217!==w[P+1]);P++);if(P+=2,P<w.length-1){const L=new be.Z(w.subarray(P)).getBytes();h=new Uint8Array(c.width*c.height);let T=0;for(let A=0;A<L.length;A++)for(let U=7;U>=0;U--)h[T++]=L[A]>>U&1}}catch(w){}return h}}var le=q(89890),he=q(68786),pe=q(94194);const ye=(D,i)=>Math.floor(D.byteLength/(i.width*i.height*te(i.pixelType))),te=D=>{let i=1;switch(D){case Uint8Array:case Int8Array:i=1;break;case Uint16Array:case Int16Array:i=2;break;case Uint32Array:case Int32Array:case Float32Array:i=4;break;case Float64Array:i=8}return i};var H=q(93122),$=q(44853),oe=function(D){var w,_,P;function x(L){var T,U,S,j,R,G,F,Z,z,Y,ee,ie;for(this.data=L,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},j=null;;){switch(T=this.readUInt32(),F=function(){var re,ae;for(ae=[],re=0;re<4;++re)ae.push(String.fromCharCode(this.data[this.pos++]));return ae}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(T);break;case"fcTL":j&&this.animation.frames.push(j),this.pos+=4,j={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},S=this.readUInt16(),U=this.readUInt16()||100,j.delay=1e3*S/U,j.disposeOp=this.data[this.pos++],j.blendOp=this.data[this.pos++],j.data=[];break;case"IDAT":case"fdAT":for("fdAT"===F&&(this.pos+=4,T-=4),L=(null!=j?j.data:void 0)||this.imgData,Y=0;0<=T?Y<T:Y>T;0<=T?++Y:--Y)L.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(T),(Z=255-this.transparency.indexed.length)>0)for(ee=0;0<=Z?ee<Z:ee>Z;0<=Z?++ee:--ee)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(T)[0];break;case 2:this.transparency.rgb=this.read(T)}break;case"tEXt":R=(z=this.read(T)).indexOf(0),G=String.fromCharCode.apply(String,z.slice(0,R)),this.text[G]=String.fromCharCode.apply(String,z.slice(R+1));break;case"IEND":return j&&this.animation.frames.push(j),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(ie=this.colorType)||6===ie,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=T}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return x.load=function(L,T,A){var U;return"function"==typeof T&&(A=T),(U=new XMLHttpRequest).open("GET",L,!0),U.responseType="arraybuffer",U.onload=function(){var S;return S=new x(new Uint8Array(U.response||U.mozResponseArrayBuffer)),"function"==typeof(null!=T?T.getContext:void 0)&&S.render(T),"function"==typeof A?A(S):void 0},U.send(null)},x.prototype.read=function(L){var T,A;for(A=[],T=0;0<=L?T<L:T>L;0<=L?++T:--T)A.push(this.data[this.pos++]);return A},x.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},x.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},x.prototype.decodePixels=function(L){var T,A,U,S,j,R,G,F,z,Y,ee,ie,re,ae,Q,ne,_e,Ce,xe,Ie,ve,Te;if(null==L&&(L=this.imgData),0===L.length)return new Uint8Array(0);for(L=(L=new be.Z(L)).getBytes(),Q=(ee=this.pixelBitlength/8)*this.width,ie=new Uint8Array(Q*this.height),R=L.length,ae=0,re=0,A=0;re<R;){switch(L[re++]){case 0:for(S=Ce=0;Ce<Q;S=Ce+=1)ie[A++]=L[re++];break;case 1:for(S=xe=0;xe<Q;S=xe+=1)T=L[re++],j=S<ee?0:ie[A-ee],ie[A++]=(T+j)%256;break;case 2:for(S=Ie=0;Ie<Q;S=Ie+=1)T=L[re++],U=(S-S%ee)/ee,ie[A++]=((ne=ae&&ie[(ae-1)*Q+U*ee+S%ee])+T)%256;break;case 3:for(S=ve=0;ve<Q;S=ve+=1)T=L[re++],U=(S-S%ee)/ee,j=S<ee?0:ie[A-ee],ne=ae&&ie[(ae-1)*Q+U*ee+S%ee],ie[A++]=(T+Math.floor((j+ne)/2))%256;break;case 4:for(S=Te=0;Te<Q;S=Te+=1)T=L[re++],U=(S-S%ee)/ee,0===ae?ne=_e=0:(ne=ie[(ae-1)*Q+U*ee+S%ee],_e=U&&ie[(ae-1)*Q+(U-1)*ee+S%ee]),G=(j=S<ee?0:ie[A-ee])+ne-_e,F=Math.abs(G-j),z=Math.abs(G-ne),Y=Math.abs(G-_e),ie[A++]=(T+(F<=z&&F<=Y?j:z<=Y?ne:_e))%256;break;default:throw new Error("Invalid filter algorithm: "+L[re-1])}ae++}return ie},x.prototype.decodePalette=function(){var L,T,A,U,S,j,R,G,F;for(A=this.palette,j=this.transparency.indexed||[],S=new Uint8Array((j.length||0)+A.length),U=0,L=0,T=R=0,G=A.length;R<G;T=R+=3)S[U++]=A[T],S[U++]=A[T+1],S[U++]=A[T+2],S[U++]=null!=(F=j[L++])?F:255;return S},x.prototype.copyToImageData=function(L,T){var A,U,S,j,R,G,F,Z,z,Y,ee;if(U=this.colors,z=null,A=this.hasAlphaChannel,this.palette.length&&(z=null!=(ee=this._decodedPalette)?ee:this._decodedPalette=this.decodePalette(),U=4,A=!0),Z=(S=L.data||L).length,R=z||T,j=G=0,1===U)for(;j<Z;)F=z?4*T[j/4]:G,Y=R[F++],S[j++]=Y,S[j++]=Y,S[j++]=Y,S[j++]=A?R[F++]:this.transparency.grayscale&&this.transparency.grayscale===Y?0:255,G=F;else for(;j<Z;)F=z?4*T[j/4]:G,S[j++]=R[F++],S[j++]=R[F++],S[j++]=R[F++],S[j++]=A?R[F++]:this.transparency.rgb&&this.transparency.rgb[1]===R[F-3]&&this.transparency.rgb[3]===R[F-2]&&this.transparency.rgb[5]===R[F-1]?0:255,G=F},x.prototype.decode=function(){var L;return L=new Uint8Array(this.width*this.height*4),this.copyToImageData(L,this.decodePixels()),L},_=D.document&&D.document.createElement("canvas"),P=_&&_.getContext("2d"),w=function(L){var T;return P.width=L.width,P.height=L.height,P.clearRect(0,0,L.width,L.height),P.putImageData(L,0,0),(T=new Image).src=_.toDataURL(),T},x.prototype.decodeFrames=function(L){var T,A,U,S,j,R,G,F;if(this.animation){for(F=[],A=j=0,R=(G=this.animation.frames).length;j<R;A=++j)U=L.createImageData((T=G[A]).width,T.height),S=this.decodePixels(new Uint8Array(T.data)),this.copyToImageData(U,S),T.imageData=U,F.push(T.image=w(U));return F}},x.prototype.renderFrame=function(L,T){var A,U,S;return A=(U=this.animation.frames)[T],S=U[T-1],0===T&&L.clearRect(0,0,this.width,this.height),1===(null!=S?S.disposeOp:void 0)?L.clearRect(S.xOffset,S.yOffset,S.width,S.height):2===(null!=S?S.disposeOp:void 0)&&L.putImageData(S.imageData,S.xOffset,S.yOffset),0===A.blendOp&&L.clearRect(A.xOffset,A.yOffset,A.width,A.height),L.drawImage(A.image,A.xOffset,A.yOffset)},x.prototype.animate=function(L){var T,A,U,S,j,R,G=this;return A=0,S=(R=this.animation).numFrames,U=R.frames,j=R.numPlays,(T=function(){var F,Z;if(F=A++%S,Z=U[F],G.renderFrame(L,F),S>1&&A/S<j)return G.animation._timeout=setTimeout(T,Z.delay)})()},x.prototype.stopAnimation=function(){var L;return clearTimeout(null!=(L=this.animation)?L._timeout:void 0)},x.prototype.render=function(L){var T,A;return L._png&&L._png.stopAnimation(),L._png=this,L.width=this.width,L.height=this.height,T=L.getContext("2d"),this.animation?(this.decodeFrames(T),this.animate(T)):(A=T.createImageData(this.width,this.height),this.copyToImageData(A,this.decodePixels()),T.putImageData(A,0,0))},x}(self);const X=new Set(["jpg","png","bmp","gif"]),ue=new Set(["S8","U8","S16","U16","S32","U32","F32","F64"]);function K(D,i){return V.apply(this,arguments)}function V(){return(V=(0,se.Z)(function*(D,i){var U;if(!$.f)throw new we.Z("rasterCoded:decode","lerc decoder is not supported on big endian platform");yield(0,he.zD)();const{offset:c,noDataValue:h}=i;let w=null==(U=i.pixelType)?void 0:U.toUpperCase();w&&!ue.has(w)&&(w=null);const{width:_,height:P,pixelType:x,statistics:L,pixels:T,mask:A}=(0,he.Jx)(D,{inputOffset:c,noDataValue:h,pixelType:w,returnPixelInterleavedDims:i.returnPixelInterleavedDims});return new ge.Z({width:_,height:P,pixelType:x.toLowerCase(),pixels:T,mask:A,statistics:L})})).apply(this,arguments)}function J(D,i){return v.apply(this,arguments)}function v(){return(v=(0,se.Z)(function*(D,i){const c=yield(0,H.Jx)(D,i),h=new ge.Z({width:c.width,height:c.height,pixels:c.pixels,pixelType:c.pixelType.toLowerCase(),mask:c.mask,statistics:null});return h.updateStatistics(),h})).apply(this,arguments)}function O(D,i){return B.apply(this,arguments)}function B(){return(B=(0,se.Z)(function*(D,i){const c=yield(0,H.Uw)(D,i.customOptions),h=new ge.Z({width:c.width,height:c.height,pixels:c.pixels,pixelType:c.pixelType.toLowerCase(),mask:c.mask,statistics:null});return h.updateStatistics(),h})).apply(this,arguments)}function u(D,i){const c=i.pixelType||"u8",h=ge.Z.getPixelArrayConstructor(c),w="u8"===c?D:new h(D.buffer),_=[],P=i.planes||1;if(1===P)_.push(w);else for(let L=0;L<P;L++){const T=(i.width||1)*(i.height||D.length),A=new h(T);for(let U=0;U<T;U++)A[U]=w[U*P+L];_.push(A)}const x=new ge.Z({width:i.width||1,height:i.height||D.length,pixels:_,pixelType:c,statistics:null});return x.updateStatistics(),x}function l(D,i){return u(new be.Z(new Uint8Array(D)).getBytes(),i)}function d(D,i){return u((0,pe.J)(D,i.offset,i.eof,!i.isInputBigEndian),i)}function b(D,i){const c=class y{static decode(i,c=!1){const h=new Uint8Array(i),w=new le.J;w.parse(h);const{width:_,height:P,numComponents:x,eof:L}=w,T=w.getData(_,P,!0);let A;const U=_*P;let S=0,j=0,R=0;if(!c&&L<h.length-1)try{const Z=new be.Z(h.subarray(L)).getBytes();A=new Uint8Array(U);let z=0;for(S=0;S<Z.length;S++)for(R=7;R>=0;R--)A[z++]=Z[S]>>R&1}catch(Z){}let G,F=null;if(1===x&&T.length===_*P)F=[T,T,T];else{for(F=[],S=0;S<3;S++)G=new Uint8Array(U),F.push(G);for(R=0,j=0;j<U;j++)for(S=0;S<3;S++)F[S][j]=T[R++]}return{width:_,height:P,pixels:F,mask:A}}}.decode(D,i.hasNoZlibMask),h=new ge.Z({width:c.width,height:c.height,pixels:c.pixels,pixelType:"U8",mask:c.mask,statistics:null});return h.updateStatistics(),h}function I(D,i){const c=new Uint8Array(D),h=new oe(c),{width:w,height:_}=i,P=w*_,x=h.decode();let L,T=0,A=0;const U=new Uint8Array(P);for(T=0;T<P;T++)U[T]=x[4*T+3];const S=new ge.Z({width:w,height:_,pixels:[],pixelType:"U8",mask:U,statistics:[]});for(T=0;T<3;T++){for(L=new Uint8Array(P),A=0;A<P;A++)L[A]=x[4*A+T];S.addData({pixels:L})}return S.updateStatistics(),S}function m(D,i,c,h){return C.apply(this,arguments)}function C(){return(C=(0,se.Z)(function*(D,i,c,h){const w=new de,_=Pe({applyJpegMask:!1,format:i},c),P=yield w.decode(D,_,h),x=new ge.Z(P);return x.updateStatistics(),x})).apply(this,arguments)}function p(D){if(null==D)throw new we.Z("rasterCodec:decode","parameter encodeddata is required.");const i=new Uint8Array(D,0,10);let c="";return 255===i[0]&&216===i[1]?c="jpg":137===i[0]&&80===i[1]&&78===i[2]&&71===i[3]?c="png":67===i[0]&&110===i[1]&&116===i[2]&&90===i[3]&&73===i[4]&&109===i[5]&&97===i[6]&&103===i[7]&&101===i[8]&&32===i[9]?c="lerc":76===i[0]&&101===i[1]&&114===i[2]&&99===i[3]&&50===i[4]&&32===i[5]?c="lerc2":73===i[0]&&73===i[1]&&42===i[2]&&0===i[3]||77===i[0]&&77===i[1]&&0===i[2]&&42===i[3]||73===i[0]&&73===i[1]&&43===i[2]&&0===i[3]||77===i[0]&&77===i[1]&&0===i[2]&&43===i[3]?c="tiff":71===i[0]&&73===i[1]&&70===i[2]?c="gif":66===i[0]&&77===i[1]?c="bmp":String.fromCharCode.apply(null,i).toLowerCase().includes("error")&&(c="error"),c}function g(D){let i=null;switch(D){case"lerc":case"lerc2":i=K;break;case"jpg":i=b;break;case"png":i=I;break;case"bsq":case"bip":i=(c,h)=>function f(D,i,c){const{pixelTypeCtor:h}=function E(D){let i=null,c=null;switch(D?D.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":c=255,i=Uint8Array;break;case"u16":c=c||65535,i=Uint16Array;break;case"u32":c=c||2**32-1,i=Uint32Array;break;case"s8":c=c||-128,i=Int8Array;break;case"s16":c=c||-32768,i=Int16Array;break;case"s32":c=c||0-2**31,i=Int32Array;break;default:i=Float32Array}return{pixelTypeCtor:i,noDataValue:c}}(i.pixelType),w=(0,class ce{static decode(i,c){const h=c.pixelType,w=[],_=c.width*c.height,P=ye(i,c),{bandIds:x,format:L}=c,T=x&&x.length||ye(i,c),A=i.byteLength-i.byteLength%(_*te(h)),U=new h(i,0,_*P);let S,j,R,G,F;if("bip"===L)for(S=0;S<T;S++){for(G=new h(_),F=x?x[S]:S,j=0;j<_;j++)G[j]=U[j*P+F];w.push(G)}else if("bsq"===L)for(S=0;S<T;S++)F=x?x[S]:S,w.push(U.subarray(F*_,(F+1)*_));return A<i.byteLength-1&&(R=((D,i)=>{if(8*D.byteLength<i)return null;const c=new Uint8Array(D,0,Math.ceil(i/8)),h=new Uint8Array(i);let w=0,_=0,P=0,x=0;for(P=0;P<c.length-1;P++)for(_=c[P],x=7;x>=0;x--)h[w++]=_>>x&1;for(x=7;w<i-1;)_=c[c.length-1],h[w++]=_>>x&1,x--;return h})(i.slice(A),_)),{pixels:w,mask:R}}}.decode)(D,{width:i.width,height:i.height,pixelType:h,format:c}),_=new ge.Z({width:i.width,height:i.height,pixels:w.pixels,pixelType:i.pixelType,mask:w.mask,statistics:null});return _.updateStatistics(),_}(c,h,D);break;case"tiff":i=J;break;case"deflate":i=l;break;case"lzw":i=d;break;case"error":i=()=>{throw new we.Z("rasterCodec:decode","input data contains error")};break;default:i=()=>{throw new we.Z("rasterCodec:decode","unsupported raster format")}}return i}function k(D,i=1){if(!D)return;const{pixels:c,width:h,height:w,mask:_}=D;if(!c||0===c.length)return;const P=c.length,x=h-1,L=w-1,T=[];let A,U,S,j,R,G,F;const Z=ge.Z.getPixelArrayConstructor(D.pixelType);if(0===i){for(A=0;A<P;A++){for(R=c[A],G=new Z(x*L),U=0;U<L;U++)for(j=U*h,S=0;S<x;S++)G[U*x+S]=R[j+S];T.push(G)}if(_)for(F=new Uint8Array(x*L),U=0;U<L;U++)for(j=U*h,S=0;S<x;S++)F[U*x+S]=_[j+S]}else{for(A=0;A<P;A++){for(R=c[A],G=new Z(x*L),U=0;U<L;U++)for(j=U*h,S=0;S<x;S++)G[U*x+S]=(R[j+S]+R[j+S+1]+R[j+h+S]+R[j+h+S+1])/4;T.push(G)}if(_)for(F=new Uint8Array(x*L),U=0;U<L;U++)for(j=U*h,S=0;S<x;S++)F[U*x+S]=Math.min.apply(null,[_[j+S],_[j+S+1],_[j+h+S],_[j+h+S+1]])}D.width=x,D.height=L,D.mask=F,D.pixels=T}function N(D){let i=p(D);return"lerc2"===i?i="lerc":"error"===i&&(i=""),i}function M(D){return W.apply(this,arguments)}function W(){return(W=(0,se.Z)(function*(D,i={},c){if(null==D)throw new we.Z("rasterCodec:decode","missing encodeddata parameter.");let h,w,_=i.format&&i.format.toLowerCase();if(!("bsq"!==_&&"bip"!==_||null!=i.width&&null!=i.height))throw new we.Z("rasterCodec:decode","requires width and height in options parameter.");return"tiff"===_&&i.customOptions?O(D,i):((!_||"bsq"!==_&&"bip"!==_&&"deflate"!==_&&"lzw"!==_)&&(_=p(D)),i.useCanvas&&X.has(_)?w=yield m(D,_,i,c):(h=g(_),i.isPoint&&((i=Pe({},i)).width++,i.height++),w=yield h(D,i),i.isPoint&&k(w)),w)})).apply(this,arguments)}},93122:(Me,Se,q)=>{q.d(Se,{Dq:()=>d,FI:()=>f,If:()=>b,Jx:()=>W,Uw:()=>N,cK:()=>g,vr:()=>E});var se=q(15861),we=q(15365),ge=q(89890),me=q(68786),be=q(94194),de=q(635),le=q(44853),y=q(34022);const he=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],pe=4294967296,ye=new Set([1,5,6,7,8,34712,34887]);function te(i,c){let h="unknown";return 3===i?h="f32":1===i?1===c?h="u1":2===c?h="u2":4===c?h="u4":c<=8?h="u8":c<=16?h="u16":c<=32&&(h="u32"):2===i&&(c<=8?h="s8":c<=16?h="s16":c<=32&&(h="s32")),h}function fe(i){let c=null;switch(i?i.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":c=Uint8Array;break;case"u16":c=Uint16Array;break;case"u32":c=Uint32Array;break;case"s8":c=Int8Array;break;case"s16":c=Int16Array;break;case"s32":c=Int32Array;break;default:c=Float32Array}return c}function ce(i,c){return{x:c[0]*i.x+c[1]*i.y+c[2],y:c[3]*i.x+c[4]*i.y+c[5]}}function H(i,c){var h;return null==(h=i.get(c))?void 0:h.values}function $(i,c){var h;return null==(h=i.get(c))?void 0:h.values}function oe(i,c){var h;return null==(h=i.get(c))?void 0:h.values[0]}function X(i,c){var h;return null==(h=i.get(c))?void 0:h.values[0]}function ue(i,c,h,w=0,_=de.Z.TIFF_TAGS,P=4){const x=8===P,L=x?m(new DataView(i,h,8),0,c):new DataView(i,h,2).getUint16(0,c),T=4+2*P,A=x?8:2,U=A+L*T;if(h+U>i.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:U};const S=h+U+4<=i.byteLength?p(new DataView(i,h+U,8===P?8:4),0,c,8===P):null,j=h+A,R=new Map;let G,F,Z,z,Y,ee,ie;for(let re=0;re<L;re++){F=new DataView(i,j+T*re,T),Z=F.getUint16(0,c),Y=F.getUint16(2,c),z=de.Z.getTagName(Z,_);const ae=[];2===P?(ee=F.getUint16(4,c),ie=F.getUint16(6,c)):4===P?(ee=F.getUint32(4,c),ie=F.getUint32(8,c)):8===P&&(ee=p(F,4,c,!0),ie=p(F,12,c,!0),ae.push(F.getUint32(12,c)),ae.push(F.getUint32(16,c))),G={id:Z,type:Y,valueCount:ee,valueOffset:ie,valueOffsets:ae,values:null},d(i,c,G,w,!1,P),R.set(z,G)}return{success:!0,ifd:R,nextIFD:S,requiredBufferSize:U}}const K=(i,c)=>(0,me.Jx)(i,{inputOffset:c}).pixels[0];function V(i,c,h,w,_){return J.apply(this,arguments)}function J(){return(J=(0,se.Z)(function*(i,c,h,w,_){var z,Y;const P=le.f===c,x=X(h,"BITSPERSAMPLE"),L=te(null!=(z=X(h,"SAMPLEFORMAT"))?z:1,x),T=null!=(Y=X(h,"COMPRESSION"))?Y:1,A=fe(L);let U,S,j,R,G,F,Z;if(34887===T)return yield(0,me.zD)(),K(i,w);if(1===T)j=i.slice(w,w+_),R=new Uint8Array(j);else if(8===T||32946===T)R=new Uint8Array(i,w,_),F=new y.Z(R),Z=F.getBytes(),j=new ArrayBuffer(Z.length),R=new Uint8Array(j),R.set(Z);else if(6===T){R=new Uint8Array(i,w,_);const ee=new ge.J;ee.parse(R);const ie=ee.getData(ee.width,ee.height,!0);j=new ArrayBuffer(ie.length),R=new Uint8Array(j),R.set(ie)}else if(7===T){const ee=h.get("JPEGTABLES").values,ie=ee.length-2;R=new Uint8Array(ie+_-2);for(let ne=0;ne<ie;ne++)R[ne]=ee[ne];const re=new Uint8Array(i,w+2,_-2);for(let ne=0;ne<re.length;ne++)R[ie+ne]=re[ne];const ae=new ge.J;ae.parse(R);const Q=ae.getData(ae.width,ae.height,!0);j=new ArrayBuffer(Q.length),R=new Uint8Array(j),R.set(Q)}else 5===T&&(R=(0,be.J)(i,w,_,c),j=R.buffer);if("u8"===L||"s8"===L||P)S=new A(j);else{switch(j=new ArrayBuffer(R.length),G=new Uint8Array(j),L){case"u16":case"s16":for(U=0;U<R.length;U+=2)G[U]=R[U+1],G[U+1]=R[U];break;case"u32":case"s32":case"f32":for(U=0;U<R.length;U+=4)G[U]=R[U+3],G[U+1]=R[U+2],G[U+2]=R[U+1],G[U+3]=R[U]}S=new A(j)}return S})).apply(this,arguments)}function v(i,c,h){return O.apply(this,arguments)}function O(){return(O=(0,se.Z)(function*(i,c,h){var De;const w=$(h,"TILEOFFSETS");if(void 0===w)return null;const _=$(h,"TILEBYTECOUNTS"),{width:P,height:x,pixelType:L,tileWidth:T,tileHeight:A}=f([h]),U=b(h,c),S=c.planes,j=P*x,R=X(h,"BITSPERSAMPLE"),G=34887===(null!=(De=X(h,"COMPRESSION"))?De:1),F=fe(L),Z=[];for(let ke=0;ke<S;ke++)Z.push(new F(j));let z,Y,ee,ie,re,ae,Q,ne,_e,Ce,xe,Ie,ve;const Te=Math.ceil(P/T);if(R%8==0)if(G&&U&&S>1){const ke=Math.round(w.length/S);for(z=0;z<ke;z++){ae=Math.floor(z/Te)*A,Q=z%Te*T,ne=ae*P+Q;for(let Re=0;Re<S;Re++){const Le=z*S+Re;if(0!==_[Le])for(ee=yield V(i,c.littleEndian,h,w[Le],_[Le]),Ce=0,_e=ne,Ie=Math.min(T,P-Q),xe=Math.min(A,x-ae),ve=Z[Re],ie=0;ie<xe;ie++)for(_e=ne+ie*P,Ce=ie*T,re=0;re<Ie;re++,_e++,Ce++)ve[_e]=ee[Ce]}}}else for(z=0;z<w.length;z++)if(0!==_[z])for(ae=Math.floor(z/Te)*A,Q=z%Te*T,ne=ae*P+Q,ee=yield V(i,c.littleEndian,h,w[z],_[z]),Ce=0,_e=ne,Ie=Math.min(T,P-Q),xe=Math.min(A,x-ae),Y=0;Y<S;Y++)if(ve=Z[Y],U||G)for(ie=0;ie<xe;ie++)for(_e=ne+ie*P,Ce=T*A*Y+ie*T,re=0;re<Ie;re++,_e++,Ce++)ve[_e]=ee[Ce];else for(ie=0;ie<xe;ie++)for(_e=ne+ie*P,Ce=ie*T*S+Y,re=0;re<Ie;re++,_e++,Ce+=S)ve[_e]=ee[Ce];return{width:P,height:x,pixelType:L,pixels:Z}})).apply(this,arguments)}const B=(i,c,h)=>{var ve;const w=le.f===c.littleEndian,_=$(h,"STRIPOFFSETS");if(void 0===_)return null;const{width:P,height:x,pixelType:L}=f([h]),T=c.planes,A=P*x,U=X(h,"BITSPERSAMPLE"),S=fe(L),j=new S(A*T),R=$(h,"STRIPBYTECOUNTS"),G=X(h,"ROWSPERSTRIP"),F=null!=(ve=X(h,"COMPRESSION"))?ve:1;let Z,z,Y,ee,ie,re,ae,Q,ne,_e,Ce,xe=G;if(U%8==0)for(Z=0;Z<_.length;Z++){if(ie=Z*(G*P)*T,xe=(Z+1)*G>x?x-Z*G:G,"u8"===L||"s8"===L||w){if(8===F||32946===F)ae=new Uint8Array(i,_[Z],R[Z]),_e=new y.Z(ae),Ce=_e.getBytes(),re=new ArrayBuffer(Ce.length),ae=new Uint8Array(re),ae.set(Ce),ae.length!==xe*P*T*U/8&&console.log("strip byte counts is different than expected");else if(6===F){ae=new Uint8Array(i,_[Z],R[Z]);const Te=new ge.J;Te.parse(ae);const De=Te.getData(Te.width,Te.height,!0);re=new ArrayBuffer(De.length),ae=new Uint8Array(re),ae.set(De)}else 5===F?(ae=(0,be.J)(i,_[Z],R[Z],c.littleEndian),re=ae.buffer):1===F&&(R[Z]!==xe*P*T*U/8&&console.log("strip byte counts is different than expected"),re=i.slice(_[Z],_[Z]+R[Z]));ee=new S(re)}else{switch(6===F||8===F||32946===F?(ae=new Uint8Array(i,_[Z],R[Z]),_e=new y.Z(ae),ae=_e.getBytes(),re=new ArrayBuffer(ae.length),Q=new Uint8Array(re),ae.length!==xe*P*T*U/8&&console.log("strip byte counts is different than expected")):1===F&&(R[Z]!==xe*P*T*U/8&&console.log("strip byte counts is different than expected"),re=new ArrayBuffer(R[Z]),ae=new Uint8Array(i,_[Z],R[Z]),Q=new Uint8Array(re)),L){case"u16":case"s16":for(Y=0;Y<ae.length;Y+=2)Q[Y]=ae[Y+1],Q[Y+1]=ae[Y];break;case"u32":case"s32":case"f32":for(Y=0;Y<ae.length;Y+=4)Q[Y]=ae[Y+3],Q[Y+1]=ae[Y+2],Q[Y+2]=ae[Y+1],Q[Y+3]=ae[Y]}ee=new S(re)}j.set(ee,ie)}const Ie=[];if(1===T)Ie.push(j);else for(Z=0;Z<T;Z++){for(ne=new S(A),z=0;z<A;z++)ne[z]=j[z*T+Z];Ie.push(ne)}return{width:P,height:x,pixelType:L,pixels:Ie}},u=(i,c,h)=>{if(!(i&&i.length>0&&c&&h))return null;let w,_,P;const x=i[0].length,L=i.length,T=new Uint8Array(x);for(let A=0;A<L;A++)if(w=i[A],_=c[A],P=h[A],0===A)for(let U=0;U<x;U++)T[U]=w[U]<_||w[U]>P?0:1;else for(let U=0;U<x;U++)T[U]&&(T[U]=w[U]<_||w[U]>P?0:1);return T};function d(i,c,h,w=0,_=!1,P=4){if(h.values)return!0;const x=h.type,L=h.valueCount;let T=h.valueOffset,A=[];const U=he[x],S=8*U,j=L*U,R=L*he[x]*8;let G,F;const Z=8===P?64:32,z=h.valueOffsets;if(R>Z&&j>(_?i.byteLength:i?i.byteLength-T+w:0))return h.offlineOffsetSize=[T,j],h.values=null,!1;if(R<=Z){if(!c)if(Z<=32)T>>>=32-R;else{const Y=null!=z&&z.length?z[0]:T>>>0,ee=null!=z&&z.length?z[1]:Math.round((T-Y)/pe);R<=32?(T=Y>>>32-R,z[0]=T):(T=Y*2**(32-R)+(ee>>>32-R),z[0]=Y,z[1]=ee>>>32-R)}if(1===L&&S===Z)A=[T];else if(64===Z){const Y=null!=z&&z.length?z[0]:T>>>0,ee=null!=z&&z.length?z[1]:Math.round((T-Y)/pe);let ie=Y,re=32;for(F=1;F<=L;F++){const ae=32-S*F%32;if(re<S){const Q=ie<<ae>>>32-re;ie=ee,A.push(Q+(ee<<32-re>>>32-re)*2**(S-re)),re-=32-(S-re)}else A.push(ie<<ae>>>32-S),re-=S;0===re&&(re=32,ie=ee)}}else for(F=1;F<=L;F++)A.push(T<<32-S*F>>>32-S)}else{T-=w,_&&(T=0);for(let Y=T;Y<T+j;Y+=U){switch(x){case 1:case 2:case 7:G=new DataView(i,Y,1).getUint8(0);break;case 3:G=new DataView(i,Y,2).getUint16(0,c);break;case 4:case 13:G=new DataView(i,Y,4).getUint32(0,c);break;case 5:G=new DataView(i,Y,4).getUint32(0,c)/new DataView(i,Y+4,4).getUint32(0,c);break;case 6:G=new DataView(i,Y,1).getInt8(0);break;case 8:G=new DataView(i,Y,2).getInt16(0,c);break;case 9:G=new DataView(i,Y,4).getInt32(0,c);break;case 10:G=new DataView(i,Y,4).getInt32(0,c)/new DataView(i,Y+4,4).getInt32(0,c);break;case 11:G=new DataView(i,Y,4).getFloat32(0,c);break;case 12:G=new DataView(i,Y,8).getFloat64(0,c);break;case 16:case 18:G=m(new DataView(i,Y,8),0,c);break;case 17:G=C(new DataView(i,Y,8),0,c);break;default:G=null}A.push(G)}}if(2===x){let Y="";const ee=A;for(A=[],F=0;F<ee.length;F++)0===ee[F]&&""!==Y?(A.push(Y),Y=""):Y+=String.fromCharCode(ee[F]);""===Y&&0!==A.length||A.push(Y)}return h.values=A,!0}function f(i){var Le,Be;const c=i[0],h=X(c,"TILEWIDTH"),w=X(c,"TILELENGTH"),_=X(c,"IMAGEWIDTH"),P=X(c,"IMAGELENGTH"),x=X(c,"BITSPERSAMPLE"),L=X(c,"SAMPLESPERPIXEL"),T=null!=(Le=X(c,"SAMPLEFORMAT"))?Le:1,A=te(T,x),U=b(c),S=H(c,"GDAL_NODATA");let j;null!=S&&S.length&&(j=S.map(Ae=>parseFloat(Ae)),j.some(Ae=>isNaN(Ae))&&(j=null));const R=null!=(Be=X(c,"COMPRESSION"))?Be:1;let G;switch(R){case 1:G="NONE";break;case 2:case 3:case 4:case 32771:G="CCITT";break;case 5:G="LZW";break;case 6:case 7:G="JPEG";break;case 32773:G="PACKBITS";break;case 8:case 32946:G="DEFLATE";break;case 34712:G="JPEG2000";break;case 34887:G="LERC";break;default:G=String(R)}let F=!0,Z="";ye.has(R)||(F=!1,Z+="unsupported tag compression "+R),T>3&&(F=!1,Z+="unsupported tag sampleFormat "+T),x%8!=0&&(F=!1,Z+="unsupported tag bitsPerSample "+x);const z=oe(c,"GEOASCIIPARAMS");let Y;if(z){const Ae=z.split("|").find(Ue=>Ue.includes("ESRI PE String = ")),Ee=Ae?Ae.replace("ESRI PE String = ",""):"";Y=Ee.startsWith("COMPD_CS")||Ee.startsWith("PROJCS")||Ee.startsWith("GEOGCS")?{wkid:null,wkt:Ee}:null}const ee=$(c,"GEOTIEPOINTS"),ie=$(c,"GEOPIXELSCALE"),re=$(c,"GEOTRANSMATRIX"),ae=c.has("GEOKEYDIRECTORY")?c.get("GEOKEYDIRECTORY").data:null;let Q,ne,_e=!1;if(ae){_e=2===X(ae,"GTRasterTypeGeoKey");const Ae=X(ae,"GTModelTypeGeoKey");if(2===Ae){const Ee=X(ae,"GeographicTypeGeoKey");Ee>=1024&&Ee<=32766&&(Y={wkid:Ee})}else if(1===Ae){const Ee=X(ae,"ProjectedCSTypeGeoKey");Ee>=1024&&Ee<=32766&&(Y={wkid:Ee})}}if(ie&&ee&&ee.length>=6?(Q=[ie[0],0,ee[3]-ee[0]*ie[0],0,-Math.abs(ie[1]),ee[4]-ee[1]*ie[1]],_e&&(Q[2]-=.5*Q[0]+.5*Q[1],Q[5]-=.5*Q[3]+.5*Q[4])):re&&16===re.length&&(Q=_e?[re[0],re[1],re[3]-.5*re[0],re[4],re[5],re[7]-.5*re[5]]:[re[0],re[1],re[3],re[4],re[5],re[7]]),Q){const Ae=[{x:0,y:P},{x:0,y:0},{x:_,y:P},{x:_,y:0}];let Ee,Ue=Number.POSITIVE_INFINITY,Ge=Number.POSITIVE_INFINITY,Ne=Number.NEGATIVE_INFINITY,Fe=Number.NEGATIVE_INFINITY;for(let Ve=0;Ve<Ae.length;Ve++)Ee=ce(Ae[Ve],Q),Ue=Ee.x>Ue?Ue:Ee.x,Ne=Ee.x<Ne?Ne:Ee.x,Ge=Ee.y>Ge?Ge:Ee.y,Fe=Ee.y<Fe?Fe:Ee.y;ne={xmin:Ue,xmax:Ne,ymin:Ge,ymax:Fe,spatialReference:Y}}else ne={xmin:-.5,ymin:.5-P,xmax:_-.5,ymax:.5,spatialReference:Y};const Ce=i.filter(Ae=>1===oe(Ae,"NEWSUBFILETYPE"));let xe,Ie,ve,Te,De;if(Ce.length>0){xe=Math.round(Math.log(_/X(Ce[0],"IMAGEWIDTH"))/Math.LN2);const Ae=Ce[Ce.length-1];Ie=Math.round(Math.log(_/X(Ae,"IMAGEWIDTH"))/Math.LN2),ve=X(Ae,"TILEWIDTH"),Te=X(Ae,"TILELENGTH")}ve=Ie>0?ve||h:null,Te=Ie>0?Te||w:null,h&&(De=[{maxCol:Math.ceil(_/h)-1,maxRow:Math.ceil(P/w)-1,minRow:0,minCol:0}],Ce.forEach(Ae=>{De.push({maxCol:Math.ceil(X(Ae,"IMAGEWIDTH")/X(Ae,"TILEWIDTH"))-1,maxRow:Math.ceil(X(Ae,"IMAGELENGTH")/X(Ae,"TILELENGTH"))-1,minRow:0,minCol:0})}));const Re=(i=>{if(!i)return null;const c=i.match(/<Item(.*?)Item>/gi);if(!c||0===c.length)return null;const h=new Map;let w,_,P,x,L;for(let z=0;z<c.length;z++)w=c[z],_=w.slice(6,w.indexOf(">")),x=w.indexOf("sample="),x>-1&&(L=w.slice(x+8,w.indexOf('"',x+8))),x=w.indexOf("name="),x>-1&&(_=w.slice(x+6,w.indexOf('"',x+6))),_&&(P=w.slice(w.indexOf(">")+1,w.indexOf("</Item>")).trim(),null!=L?h.has(_)?h.get(_)[L]=P:h.set(_,[P]):h.set(_,P)),L=null;const T=h.get("STATISTICS_MINIMUM"),A=h.get("STATISTICS_MAXIMUM"),U=h.get("STATISTICS_MEAN"),S=h.get("STATISTICS_STDDEV");let j=null;if(T&&A){j=[];for(let z=0;z<T.length;z++)j.push({min:parseFloat(T[z]),max:parseFloat(A[z]),avg:U&&parseFloat(U[z]),stddev:S&&parseFloat(S[z])})}const R=h.get("BandName"),G=h.get("WavelengthMin"),F=h.get("WavelengthMax");let Z=null;if(R){Z=[];for(let z=0;z<R.length;z++)Z.push({BandName:R[z],WavelengthMin:G&&parseFloat(G[z]),WavelengthMax:F&&parseFloat(F[z])})}return{statistics:j,bandProperties:Z,dataType:h.get("DataType"),rawMetadata:h}})(oe(i[0],"GDAL_METADATA"));return Z+=" "+k({width:_,height:P,tileWidth:h,tileHeight:w,planes:L,ifds:i}),{width:_,height:P,tileWidth:h,tileHeight:w,planes:L,isBSQ:U,pixelType:A,compression:G,noData:j,isSupported:F,message:Z,extent:ne,affine:ie?null:Q,firstPyramidLevel:xe,maximumPyramidLevel:Ie,pyramidBlockWidth:ve,pyramidBlockHeight:Te,tileBoundary:De,metadata:Re}}function b(i,c){const h=H(i,"PLANARCONFIGURATION");return h?2===h[0]:!!c&&c.isBSQ}function I(i){const{littleEndian:c,isBigTiff:h,firstIFD:w}=g(i);let _=w;const P=[];do{const x=E(i,c,_,0,de.Z.TIFF_TAGS,h?8:4);if(!x.success)break;P.push(x.ifd),_=x.nextIFD}while(_>0);return Oe(Pe({},f(P)),{littleEndian:c,isBigTiff:h,ifds:P})}function m(i,c,h){const w=i.getUint32(c,h),_=i.getUint32(c+4,h);return h?_*pe+w:w*pe+_}function C(i,c,h){let w=h?i.getInt32(c,h):i.getUint32(c,h),_=h?i.getUint32(c+4,h):i.getInt32(c+4,h);const P=(h?w:_)>=0?1:-1;return h?w*=P:_*=P,P*(h?_*pe+w:w*pe+_)}function p(i,c,h,w){return w?m(i,c,h):i.getUint32(c,h)}function g(i){const c=new DataView(i,0,16),h=c.getUint16(0,!1);let w=null;if(18761===h)w=!0;else{if(19789!==h)throw"unexpected endianess byte";w=!1}const _=c.getUint16(2,w);if(42!==_&&43!==_)throw"unexpected tiff identifier";let P=4;const x=43===_;if(x){const L=c.getUint16(P,w);if(P+=2,8!==L||0!==c.getUint16(P,w))throw"unsupported bigtiff version";P+=2}return{littleEndian:w,isBigTiff:x,firstIFD:p(c,P,w,x)}}function E(i,c,h,w=0,_=de.Z.TIFF_TAGS,P=4){const x=ue(i,c,h,w,_,P);let L;const T=x.ifd;if(T){if(de.Z.ifdTags.forEach((A,U)=>{T.has(U)&&(L=T.get(U),L.data=ue(i,c,L.valueOffset-w,w,A).ifd)}),T.has("GEOKEYDIRECTORY")){L=T.get("GEOKEYDIRECTORY");const A=L.values;if(A&&A.length>4){const U=A[0]+"."+A[1]+"."+A[2];L.data=ue(i,c,L.valueOffset+6-w,w,de.Z.GEO_KEYS,2).ifd,L.data&&L.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[U]})}}if(T.has("XMP")){L=T.get("XMP");const A=L.values;"number"==typeof A[0]&&7===L.type&&(L.values=[(0,we.f)(new Uint8Array(A))])}}return x}function k(i){const{width:c,height:h,tileHeight:w,tileWidth:_}=i,P=i.planes,x=_?_*w:c*h,L=X(i.ifds[0],"BITSPERSAMPLE");let T="";return x*P>2**30/(L>8?L/8:1)&&(T=_?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),T}function N(i,c){return M.apply(this,arguments)}function M(){return(M=(0,se.Z)(function*(i,c){var _e;const{headerInfo:h,ifd:w,offsets:_,sizes:P}=c,x=[];for(let Ce=0;Ce<_.length;Ce++){const xe=yield V(i,h.littleEndian,w,_[Ce],P[Ce]||i.byteLength);x.push(xe)}const L=b(w,h),{pixelType:T,planes:A}=h,U=fe(T),S=X(w,"TILEWIDTH"),j=X(w,"TILELENGTH"),R=null!=(_e=X(w,"COMPRESSION"))?_e:1,G=S*j;let F;const Z=[];let z=x[0];const Y=34887===R;for(let Ce=0;Ce<A;Ce++){if(F=new U(G),L&&Y){if(z=x[Ce],z.length)for(let xe=0;xe<G;xe++)F[xe]=z[Ce][xe+Ce]}else if(z.length)if(L||Y&&!L)F=z.slice(G*Ce,G*(Ce+1));else for(let xe=0;xe<G;xe++)F[xe]=z[xe*A+Ce];Z.push(F)}const ee=h.noData?h.noData[0]:c.noDataValue,ie=h.metadata?h.metadata.statistics:null,re=ie?ie.map(Ce=>Ce.min):null,ae=ie?ie.map(Ce=>Ce.max):null;let Q,ne;if(null!=ee)if(Q=new Uint8Array(G),Math.abs(ee)>1e24)for(ne=0;ne<G;ne++)Q[ne]=Math.abs((Z[0][ne]-ee)/ee)<1e-6?0:1;else for(ne=0;ne<G;ne++)Q[ne]=Z[0][ne]===ee?0:1;else re&&ae&&c.applyMinMaxConstraint&&(Q=u(Z,re,ae));return{pixelType:T,width:S,height:j,pixels:Z,mask:Q,noDataValue:ee}})).apply(this,arguments)}function W(i){return D.apply(this,arguments)}function D(){return(D=(0,se.Z)(function*(i,c={}){const h=c.pyramidLevel||0,w=c.headerInfo||I(i),{ifds:_,noData:P}=w;if(0===_.length)throw"no valid image file directory";const x=k(w);if(x)throw x;let L,T;const A=-1===h?_[_.length-1]:_[h],U=P?P[0]:c.noDataValue;if(T=w.tileWidth?yield v(i,w,A):yield B(i,w,A),null!==U){if(T.mask=new Uint8Array(T.width*T.height),Math.abs(U)>1e24)for(L=0;L<T.width*T.height;L++)T.mask[L]=Math.abs((T.pixels[0][L]-U)/U)<1e-6?0:1;else for(L=0;L<T.width*T.height;L++)T.mask[L]=T.pixels[0][L]===U?0:1;T.noDataValue=U}return T})).apply(this,arguments)}},635:(Me,Se,q)=>{q.d(Se,{Z:()=>le});const se=(()=>{const y=[];return y[254]="NEWSUBFILETYPE",y[255]="SUBFILETYPE",y[256]="IMAGEWIDTH",y[257]="IMAGELENGTH",y[258]="BITSPERSAMPLE",y[259]="COMPRESSION",y[262]="PHOTOMETRICINTERPRETATION",y[263]="THRESHHOLDING",y[264]="CELLWIDTH",y[265]="CELLLENGTH",y[266]="FILLORDER",y[269]="DOCUMENTNAME",y[270]="IMAGEDESCRIPTION",y[271]="MAKE",y[272]="MODEL",y[273]="STRIPOFFSETS",y[274]="ORIENTATION",y[277]="SAMPLESPERPIXEL",y[278]="ROWSPERSTRIP",y[279]="STRIPBYTECOUNTS",y[280]="MINSAMPLEVALUE",y[281]="MAXSAMPLEVALUE",y[282]="XRESOLUTION",y[283]="YRESOLUTION",y[284]="PLANARCONFIGURATION",y[285]="PAGENAME",y[286]="XPOSITION",y[287]="YPOSITION",y[288]="FREEOFFSETS",y[289]="FREEBYTECOUNTS",y[290]="GRAYRESPONSEUNIT",y[291]="GRAYRESPONSECURVE",y[292]="T4OPTIONS",y[293]="T6OPTIONS",y[296]="RESOLUTIONUNIT",y[297]="PAGENUMBER",y[300]="COLORRESPONSEUNIT",y[301]="TRANSFERFUNCTION",y[305]="SOFTWARE",y[306]="DATETIME",y[315]="ARTIST",y[316]="HOSTCOMPUTER",y[317]="PREDICTOR",y[318]="WHITEPOINT",y[319]="PRIMARYCHROMATICITIES",y[320]="COLORMAP",y[321]="HALFTONEHINTS",y[322]="TILEWIDTH",y[323]="TILELENGTH",y[324]="TILEOFFSETS",y[325]="TILEBYTECOUNTS",y[326]="BADFAXLINES",y[327]="CLEANFAXDATA",y[328]="CONSECUTIVEBADFAXLINES",y[330]="SUBIFD",y[332]="INKSET",y[333]="INKNAMES",y[334]="NUMBEROFINKS",y[336]="DOTRANGE",y[337]="TARGETPRINTER",y[338]="EXTRASAMPLES",y[339]="SAMPLEFORMAT",y[340]="SMINSAMPLEVALUE",y[341]="SMAXSAMPLEVALUE",y[342]="TRANSFERRANGE",y[347]="JPEGTABLES",y[512]="JPEGPROC",y[513]="JPEGIFOFFSET",y[514]="JPEGIFBYTECOUNT",y[515]="JPEGRESTARTINTERVAL",y[517]="JPEGLOSSLESSPREDICTORS",y[518]="JPEGPOINTTRANSFORM",y[519]="JPEGQTABLES",y[520]="JPEGDCTABLES",y[521]="JPEGACTABLES",y[529]="YCBCRCOEFFICIENTS",y[530]="YCBCRSUBSAMPLING",y[531]="YCBCRPOSITIONING",y[532]="REFERENCEBLACKWHITE",y[700]="XMP",y[33550]="GEOPIXELSCALE",y[33922]="GEOTIEPOINTS",y[33432]="COPYRIGHT",y[42112]="GDAL_METADATA",y[42113]="GDAL_NODATA",y[50844]="RPCCOEFFICIENT",y[34264]="GEOTRANSMATRIX",y[34735]="GEOKEYDIRECTORY",y[34736]="GEODOUBLEPARAMS",y[34737]="GEOASCIIPARAMS",y[34665]="EXIFIFD",y[34853]="GPSIFD",y[40965]="INTEROPERABILITYIFD",y})(),we=(()=>{const y=[].concat(se);return y[36864]="ExifVersion",y[40960]="FlashpixVersion",y[40961]="ColorSpace",y[42240]="Gamma",y[37121]="ComponentsConfiguration",y[37122]="CompressedBitsPerPixel",y[40962]="PixelXDimension",y[40963]="PixelYDimension",y[37500]="MakerNote",y[37510]="UserComment",y[40964]="RelatedSoundFile",y[36867]="DateTimeOriginal",y[36868]="DateTimeDigitized",y[36880]="OffsetTime",y[36881]="OffsetTimeOriginal",y[36882]="OffsetTimeDigitized",y[37520]="SubSecTime",y[37521]="SubSecTimeOriginal",y[37522]="SubSecTimeDigitized",y[37888]="Temperature",y[37889]="Humidity",y[37890]="Pressure",y[37891]="WaterDepth",y[37892]="Acceleration",y[37893]="CameraElevationAngle",y[42016]="ImageUniqueID",y[42032]="CameraOwnerName",y[42033]="BodySerialNumber",y[42034]="LensSpecification",y[42035]="LensMake",y[42036]="LensModel",y[42037]="LensSerialNumber",y[33434]="ExposureTime",y[33437]="FNumber",y[34850]="ExposureProgram",y[34852]="SpectralSensitivity",y[34855]="PhotographicSensitivity",y[34856]="OECF",y[34864]="SensitivityType",y[34865]="StandardOutputSensitivity",y[34866]="RecommendedExposureIndex",y[34867]="ISOSpeed",y[34868]="ISOSpeedLatitudeyyy",y[34869]="ISOSpeedLatitudezzz",y[37377]="ShutterSpeedValue",y[37378]="ApertureValue",y[37379]="BrightnessValue",y[37380]="ExposureBiasValue",y[37381]="MaxApertureValue",y[37382]="SubjectDistance",y[37383]="MeteringMode",y[37384]="LightSource",y[37385]="Flash",y[37386]="FocalLength",y[37396]="SubjectArea",y[41483]="FlashEnergy",y[41484]="SpatialFrequencyResponse",y[41486]="FocalPlaneXResolution",y[41487]="FocalPlaneYResolution",y[41488]="FocalPlaneResolutionUnit",y[41492]="SubjectLocation",y[41493]="ExposureIndex",y[41495]="SensingMethod",y[41728]="FileSource",y[41729]="SceneType",y[41730]="CFAPattern",y[41985]="CustomRendered",y[41986]="ExposureMode",y[41987]="WhiteBalance",y[41988]="DigitalZoomRatio",y[41989]="FocalLengthIn35mmFilm",y[41990]="SceneCaptureType",y[41991]="GainControl",y[41992]="Contrast",y[41993]="Saturation",y[41994]="Sharpness",y[41995]="DeviceSettingDescription",y[41996]="SubjectDistanceRange",y})(),me=(()=>{const y=[];return y[1024]="GTModelTypeGeoKey",y[1025]="GTRasterTypeGeoKey",y[1026]="GTCitationGeoKey",y[2048]="GeographicTypeGeoKey",y[2049]="GeogCitationGeoKey",y[2050]="GeogGeodeticDatumGeoKey",y[2051]="GeogPrimeMeridianGeoKey",y[2052]="GeogLinearUnitsGeoKey",y[2053]="GeogLinearUnitSizeGeoKey",y[2054]="GeogAngularUnitsGeoKey",y[2055]="GeogAngularUnitSizeGeoKey",y[2056]="GeogEllipsoidGeoKey",y[2057]="GeogSemiMajorAxisGeoKey",y[2058]="GeogSemiMinorAxisGeoKey",y[2059]="GeogInvFlatteningGeoKey",y[2061]="GeogPrimeMeridianLongGeoKey",y[2060]="GeogAzimuthUnitsGeoKey",y[3072]="ProjectedCSTypeGeoKey",y[3073]="PCSCitationGeoKey",y[3074]="ProjectionGeoKey",y[3075]="ProjCoordTransGeoKey",y[3076]="ProjLinearUnitsGeoKey",y[3077]="ProjLinearUnitSizeGeoKey",y[3078]="ProjStdParallel1GeoKey",y[3079]="ProjStdParallel2GeoKey",y[3080]="ProjNatOriginLongGeoKey",y[3081]="ProjNatOriginLatGeoKey",y[3082]="ProjFalseEastingGeoKey",y[3083]="ProjFalseNorthingGeoKey",y[3084]="ProjFalseOriginLongGeoKey",y[3085]="ProjFalseOriginLatGeoKey",y[3086]="ProjFalseOriginEastingGeoKey",y[3087]="ProjFalseOriginNorthingGeoKey",y[3088]="ProjCenterLongGeoKey",y[3090]="ProjCenterEastingGeoKey",y[3091]="ProjCenterNorthingGeoKey",y[3092]="ProjScaleAtNatOriginGeoKey",y[3093]="ProjScaleAtCenterGeoKey",y[3094]="ProjAzimuthAngleGeoKey",y[3095]="ProjStraightVertPoleLongGeoKey",y[4096]="VerticalCSTypeGeoKey",y[4097]="VerticalCitationGeoKey",y[4098]="VerticalDatumGeoKey",y[4099]="VerticalUnitsGeoKey",y})(),de=new Map;de.set("EXIFIFD",we),de.set("GPSIFD",["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"]);const le={TIFF_TAGS:se,ifdTags:de,GEO_KEYS:me,getTagName:(y,he)=>{let pe=(he||se)[y];return void 0===pe&&(pe="unknown"+String(y)),pe}}},44853:(Me,Se,q)=>{q.d(Se,{f:()=>se});const se=(()=>{const we=new ArrayBuffer(4),ge=new Uint8Array(we);return new Uint32Array(we)[0]=1,1===ge[0]})()},17057:(Me,Se,q)=>{q.d(Se,{AV:()=>te,Hv:()=>pe,Oh:()=>ye,ZF:()=>y,dy:()=>ce,hE:()=>de,oc:()=>be});var se=q(62208);const we={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},me=[.299,.587,.114];function be(H,$=256){$=Math.min($,256);const{size:oe,counts:X}=H,ue=new Uint8Array(oe),K=X.reduce((B,u)=>B+u/$,0);let V=0,J=0,v=0,O=K;for(let B=0;B<oe;B++)if(v+=X[B],!(B<oe-1&&v+X[B+1]<O)){for(;V<$-1&&O<v;)V++,O+=K;for(let u=J;u<=B;u++)ue[u]=V;J=B+1}for(let B=J;B<oe;B++)ue[B]=$-1;return ue}function de(H){const{minCutOff:$,maxCutOff:oe,gamma:X,pixelType:ue}=H,K=H.outMin||0,V=H.outMax||255;if(!["u8","u16","s8","s16"].includes(ue))return null;const J=$.length;let v,O,B=0;"s8"===ue?B=-127:"s16"===ue&&(B=-32767);let u=256;["u16","s16"].includes(ue)&&(u=65536);const l=[],d=V-K;for(v=0;v<J;v++)l[v]=oe[v]-$[v];const f=X&&X.length>=J,b=[];if(f)for(v=0;v<J;v++)b[v]=X[v]>1?X[v]>2?6.5+(X[v]-2)**2.5:6.5+100*(2-X[v])**4:1;let I;const m=[];let C,p,g;if(f)for(v=0;v<J;v++){for(g=[],O=0;O<u;O++)C=O+B,I=(C-$[v])/l[v],p=1,X[v]>1&&(p-=(1/d)**(I*b[v])),g[O]=C<oe[v]&&C>$[v]?Math.floor(p*d*I**(1/X[v]))+K:C>=oe[v]?V:K;m[v]=g}else for(v=0;v<J;v++){for(g=[],O=0;O<u;O++)C=O+B,g[O]=C<=$[v]?K:C>=oe[v]?V:Math.floor((C-$[v])/l[v]*d)+K;m[v]=g}if(null!=H.contrastOffset){const E=function le(H,$){const oe=Math.min(Math.max(H,-100),100),X=Math.min(Math.max($,-100),100),ue=255;let V,J;const v=new Uint8Array(256);for(V=0;V<256;V++)oe>0&&oe<100?J=(200*V-25500+510*X)/(2*(100-oe))+128:oe<=0&&oe>-100?J=(200*V-25500+510*X)*(100+oe)/2e4+128:100===oe?(J=200*V-25500+256*(100-oe)+510*X,J=J>0?ue:0):-100===oe&&(J=128),v[V]=J>ue?ue:J<0?0:J;return v}(H.contrastOffset,H.brightnessOffset);for(v=0;v<J;v++)for(g=m[v],O=0;O<u;O++)g[O]=E[g[O]]}return{lut:m,offset:B}}function y(H,$,oe){const X=[];for(let ue=0;ue<$.length;ue++){let K=0,V=0,J=0;"min"in $[ue]?({min:K,max:V,avg:J}=$[ue]):[K,V,J]=$[ue];let v=J;"u8"!==H&&(v=255*(v-K)/(V-K)),oe&&(v*=me[ue]),X.push(he(v))}return X}function he(H){if(H<=0||H>=255)return 1;let $=0;150!==H&&($=H<=150?45*Math.cos(.01047*H):17*Math.sin(.021*H));const X=H+$,ue=Math.log(H/255),K=Math.log(X/255);if(0===K)return 1;const V=ue/K;return isNaN(V)?1:Math.min(9.9,Math.max(.01,V))}function pe(H){var W;if((0,se.Wi)(H)||null==(W=H.pixels)||!W.length)return null;H.statistics||H.updateStatistics();const{pixels:$,mask:oe,pixelType:X,statistics:ue}=H,K=H.width*H.height,V=$.length;let J,v,O,B,u;const l=[],d=[];let f,b,I,m,C,p,g,E,k,N;const M=256;for(B=0;B<V;B++){if(f=new Uint32Array(M),I=$[B],"u8"===X)if(J=-.5,v=255.5,oe)for(u=0;u<K;u++)oe[u]&&f[I[u]]++;else for(u=0;u<K;u++)f[I[u]]++;else{if(J=ue[B].minValue,v=ue[B].maxValue,O=(v-J)/M,b=new Uint32Array(257),oe)for(u=0;u<K;u++)oe[u]&&b[Math.floor((I[u]-J)/O)]++;else for(u=0;u<K;u++)b[Math.floor((I[u]-J)/O)]++;for(u=0;u<255;u++)f[u]=b[u];f[255]=b[255]+b[256]}for(l.push({min:J,max:v,size:M,counts:f}),m=0,C=0,E=0,u=0;u<M;u++)m+=f[u],C+=u*f[u];for(k=C/m,u=0;u<M;u++)E+=f[u]*(u-k)**2;N=Math.sqrt(E/(m-1)),O=(v-J)/M,p=(k+.5)*O+J,g=N*O,d.push({min:J,max:v,avg:p,stddev:g})}return{statistics:d,histograms:l}}function ye(H){const $=[];for(let oe=0;oe<H.length;oe++){const{min:X,max:ue,size:K,counts:V}=H[oe];let J=0,v=0;for(let f=0;f<K;f++)J+=V[f],v+=f*V[f];const O=v/J;let B=0;for(let f=0;f<K;f++)B+=V[f]*(f-O)**2;const u=(ue-X)/K,l=(O+.5)*u+X,d=Math.sqrt(B/(J-1))*u;$.push({min:X,max:ue,avg:l,stddev:d})}return $}function te(H,$){var M;const{pixelBlock:oe,bandIds:X,returnHistogramLut:ue,rasterInfo:K}=$;let V,J,v=H.stretchType;if(H.dra)if("minMax"===v&&(0,se.pC)(oe)&&oe.statistics)V=oe.statistics.map(W=>[W.minValue,W.maxValue,0,0]);else{const W=pe(oe);V=(0,se.pC)(W)?W.statistics:null,J=(0,se.pC)(W)?W.histograms:null}else V=(null==(M=H.statistics)?void 0:M.length)>0?H.statistics:(0,se.Wg)(K.statistics),J=H.histograms||(0,se.Wg)(K.histograms);"percentClip"!==v&&"histogramEqualization"!==v||(null==J?void 0:J.length)||(v="minMax");const O=(null==V?void 0:V.length)||(null==J?void 0:J.length)||K.bandCount,B=[],u=[];let l,d,f,b,I,m,C,p,g,E,k,N;switch(V&&!Array.isArray(V[0])&&(V=V.map(W=>[W.min,W.max,W.avg,W.stddev])),v){case"none":{const W=we[K.pixelType]||we.f32;for(p=0;p<O;p++)B[p]=W[0],u[p]=W[1]}break;case"minMax":for(p=0;p<O;p++)B[p]=V[p][0],u[p]=V[p][1];break;case"standardDeviation":for(p=0;p<O;p++)B[p]=V[p][2]-H.numberOfStandardDeviations*V[p][3],u[p]=V[p][2]+H.numberOfStandardDeviations*V[p][3],B[p]<V[p][0]&&(B[p]=V[p][0]),u[p]>V[p][1]&&(u[p]=V[p][1]);break;case"histogramEqualization":for(p=0;p<O;p++)B[p]=J[p].min,u[p]=J[p].max;break;case"percentClip":for(p=0;p<J.length;p++){for(l=J[p],I=new Uint32Array(l.size),b=[...l.counts],b.length>=20&&(b[0]=b[1]=b[2]=b[b.length-1]=b[b.length-2]=0),f=0,d=(l.max-l.min)/l.size,C=-.5===l.min&&1===d?.5:0,g=0;g<l.size;g++)f+=b[g],I[g]=f;for(m=(H.minPercent||0)*f/100,g=0;g<l.size;g++)if(I[g]>m){B[p]=l.min+d*(g+C);break}for(m=(1-(H.maxPercent||0)/100)*f,g=l.size-2;g>=0;g--)if(I[g]<m){u[p]=l.min+d*(g+2-C);break}}break;default:for(p=0;p<O;p++)B[p]=V[p][0],u[p]=V[p][1]}return"histogramEqualization"===v?(k=J[0].size||256,E=0,ue&&(N=J.map(W=>be(W)))):(k=H.max||255,E=H.min||0),function fe(H,$){if(null==$||0===$.length)return H;const oe=Math.max.apply(null,$),{minCutOff:X,maxCutOff:ue,outMin:K,outMax:V,histogramLut:J}=H;return X.length===$.length||X.length<=oe?H:{minCutOff:$.map(v=>X[v]),maxCutOff:$.map(v=>ue[v]),histogramLut:J?$.map(v=>J[v]):null,outMin:K,outMax:V}}({minCutOff:B,maxCutOff:u,outMax:k,outMin:E,histogramLut:N},X)}function ce(H,$){var E;if((0,se.Wi)(H)||null==(E=H.pixels)||!E.length)return H;const oe=H.clone(),{pixels:X,mask:ue}=oe,{minCutOff:K,maxCutOff:V,gamma:J}=$,v=$.outMin||0,O=$.outMax||255,B=oe.width*oe.height,u=X.length;let l,d,f,b,I;const m=O-v,C=[];for(l=0;l<u;l++)C[l]=V[l]-K[l];const p=J&&J.length>=u,g=[];if(p)for(l=0;l<u;l++)g[l]=J[l]>1?J[l]>2?6.5+(J[l]-2)**2.5:6.5+100*(2-J[l])**4:1;if(p)if(null!=ue){for(d=0;d<B;d++)if(ue[d])for(l=0;l<u;l++)f=X[l][d],I=(f-K[l])/C[l],b=1,J[l]>1&&(b-=(1/m)**(I*g[l])),X[l][d]=f<V[l]&&f>K[l]?Math.floor(b*m*I**(1/J[l]))+v:f>=V[l]?O:v}else for(d=0;d<B;d++)for(l=0;l<u;l++)f=X[l][d],I=(f-K[l])/C[l],b=1,J[l]>1&&(b-=(1/m)**(I*g[l])),X[l][d]=f<V[l]&&f>K[l]?Math.floor(b*m*I**(1/J[l]))+v:f>=V[l]?O:v;else if(null!=ue){for(d=0;d<B;d++)if(ue[d])for(l=0;l<u;l++)f=X[l][d],X[l][d]=f<V[l]&&f>K[l]?Math.floor((f-K[l])/C[l]*m)+v:f>=V[l]?O:v}else for(d=0;d<B;d++)for(l=0;l<u;l++)f=X[l][d],X[l][d]=f<V[l]&&f>K[l]?Math.floor((f-K[l])/C[l]*m)+v:f>=V[l]?O:v;return oe.pixelType="u8",oe.updateStatistics(),oe}},30994:(Me,Se,q)=>{q.d(Se,{KC:()=>ce,NL:()=>y,QI:()=>H,Tg:()=>ye,Yx:()=>he,xQ:()=>fe});var se=q(2076),we=q(62208),ge=q(60295),me=q(79751);const be=new Map;be.set("meter-per-second",1),be.set("kilometer-per-hour",.277778),be.set("knots",.514444),be.set("feet-per-second",.3048),be.set("mile-per-hour",.44704);const de=180/Math.PI,y=new se.X({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function he(m,C){return be.get(m)/be.get(C)||1}function pe(m){return(450-m)%360}function ye(m,C="geographic"){const[p,g]=m,E=Math.sqrt(p*p+g*g);let k=Math.atan2(g,p)*de;return k=(360+k)%360,"geographic"===C&&(k=pe(k)),[E,k]}function te(m,C="geographic"){let p=m[1];"geographic"===C&&(p=pe(p)),p%=360;const g=m[0];return[g*Math.cos(p/de),g*Math.sin(p/de)]}function fe(m,C,p,g="geographic"){if(!(0,me.nk)(m)||(0,we.Wi)(p))return m;const E="vector-magdir"===C?m.clone():(0,we.Wg)(ce(m,C)),k=E.pixels[1];for(let N=0;N<k.length;N++)k[N]="geographic"===g?(k[N]+p[N]+270)%360:(k[N]+360-p[N])%360;return"vector-magdir"===C?E:ce(E,"vector-magdir")}function ce(m,C,p="geographic",g=1){if(!(0,me.nk)(m))return m;const{pixels:E,width:k,height:N}=m,M=k*N,W=E[0],D=E[1],i=m.pixelType.startsWith("f")?m.pixelType:"f32",c=ge.Z.createEmptyBand(i,M),h=ge.Z.createEmptyBand(i,M);let w=0;for(let P=0;P<N;P++)for(let x=0;x<k;x++)"vector-uv"===C?([c[w],h[w]]=ye([W[w],D[w]],p),c[w]*=g):([c[w],h[w]]=te([W[w],D[w]],p),c[w]*=g,h[w]*=g),w++;const _=new ge.Z({pixelType:i,width:m.width,height:m.height,mask:m.mask,validPixelCount:m.validPixelCount,maskIsAlpha:m.maskIsAlpha,pixels:[c,h]});return _.updateStatistics(),_}function H(m,C,p=1){if(1===p||!(0,me.nk)(m))return m;const g=m.clone(),{pixels:E,width:k,height:N}=g,M=E[0],W=E[1];let D=0;for(let i=0;i<N;i++)for(let c=0;c<k;c++)"vector-uv"===C?(M[D]*=p,W[D]*=p):M[D]*=p,D++;return g.updateStatistics(),g}function K(m,C,p,g=1){const E=Math.sqrt(m*m+C*C)/g,k=(2*Math.PI+Math.atan2(C,m))%(2*Math.PI);return[E,(2*Math.PI+k-p)%(2*Math.PI)]}!function X(m=0,C=0,p=Math.PI,g=!0){g&&(p=(2*Math.PI-p)%(2*Math.PI));const E=g?-1:1,k=13*E,N=-7*E,M=-2*E,W=-16*E,D=21.75,[i,c]=K(0,C+k,p,D),[h,w]=K(m-5.5,C+N,p,D),[_,P]=K(m+5.5,C+N,p,D),[x,L]=K(m-1.5,C+M,p,D),[T,A]=K(m+1.5,C+M,p,D),[U,S]=K(m-1.5,C+W,p,D),[j,R]=K(m+1.5,C+W,p,D)}(0,0,0)},54805:(Me,Se,q)=>{q.d(Se,{Z:()=>B});var se=q(17626),we=q(78260),ge=q(86810),me=q(63290),be=q(62208),de=q(77712),pe=(q(85931),q(8314),q(90912),q(76898)),ye=q(79645),te=q(79751),fe=q(17057),ce=q(60295);function H(u){let{altitude:l,azimuth:d}=u;const{hillshadeType:f,pixelSizePower:b,pixelSizeFactor:I,scalingType:m,isGCS:C,resolution:p}=u,g="multi-directional"===f?2*u.zFactor:u.zFactor,{x:E,y:k}=p;let N=g/(8*E),M=g/(8*k);if(C&&g>.001&&(N/=111e3,M/=111e3),"adjusted"===m)if(C){const j=111e3*E,R=111e3*k;N=(g+j**b*I)/(8*j),M=(g+R**b*I)/(8*R)}else N=(g+E**b*I)/(8*E),M=(g+k**b*I)/(8*k);let W=(90-l)*Math.PI/180,D=Math.cos(W),i=(360-d+90)*Math.PI/180,c=Math.sin(W)*Math.cos(i),h=Math.sin(W)*Math.sin(i);const w=[315,270,225,360,180,0],_=[60,60,60,60,60,90],P=new Float32Array([3,5,3,2,1,4]),x=P.reduce((j,R)=>j+R),L=P.map(j=>j/x),T="multi-directional"===f?w.length:1,A=new Float32Array(6),U=new Float32Array(6),S=new Float32Array(6);if("multi-directional"===f)for(let j=0;j<T;j++)l=_[j],d=w[j],W=(90-l)*Math.PI/180,D=Math.cos(W),i=(360-d+90)*Math.PI/180,c=Math.sin(W)*Math.cos(i),h=Math.sin(W)*Math.sin(i),A[j]=D,U[j]=c,S[j]=h;else A.fill(D),U.fill(c),S.fill(h);return{resolution:p,factor:[N,M],sinZcosA:c,sinZsinA:h,cosZ:D,sinZcosAs:U,sinZsinAs:S,cosZs:A,weights:L,hillshadeType:["traditional","multi-directional"].indexOf(f)}}var X=q(70208);const ue=me.Z.getLogger("esri.renderers.support.RasterSymbolizer");let v=class extends ge.wq{constructor(u){super(u)}bind(){const{rendererJSON:u}=this;if(!u)return{success:!1};let l;switch(this.lookup={rendererJSON:{}},u.type){case"uniqueValue":l=this._updateUVRenderer(u);break;case"rasterColormap":l=this._updateColormapRenderer(u);break;case"rasterStretch":l=this._updateStretchRenderer(u);break;case"classBreaks":l=this._updateClassBreaksRenderer(u);break;case"rasterShadedRelief":l=this._updateShadedReliefRenderer(u);break;case"vectorField":l=this._updateVectorFieldRenderer();break;case"flowRenderer":l=this._updateFlowRenderer()}return l}symbolize(u){let l=u&&u.pixelBlock;if(!O(l))return l;if(u.simpleStretchParams&&"rasterStretch"===this.rendererJSON.type)return this.simpleStretch(l,u.simpleStretchParams);try{let d;switch(l.pixels.length>3&&(l=(0,te.qF)(l,[0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":d=this._symbolizeColormap(l);break;case"classBreaks":d=this._symbolizeClassBreaks(l);break;case"rasterStretch":d=this._symbolizeStretch(l,u.bandIds);break;case"rasterShadedRelief":{const{extent:f}=u;d=this._symbolizeShadedRelief(l,{isGCS:f.spatialReference.isGeographic,resolution:{x:(f.xmax-f.xmin)/l.width,y:(f.ymax-f.ymin)/l.height}});break}}return d}catch(d){return ue.error("symbolize",d.message),l}}simpleStretch(u,l){if(!O(u))return u;try{return u.pixels.length>3&&(u=(0,te.qF)(u,[0,1,2])),(0,fe.dy)(u,l)}catch(d){return ue.error("symbolize",d.message),u}}generateWebGLParameters(u){var m;if(["uniqueValue","rasterColormap","classBreaks"].includes(this.rendererJSON.type)){const{indexedColormap:C,offset:p}=(null==(m=this.lookup)?void 0:m.colormapLut)||{};return{colormap:C,colormapOffset:p,type:"lut"}}const{pixelBlock:l,isGCS:d,resolution:f,bandIds:b}=u,{rendererJSON:I}=this;return"rasterStretch"===I.type?this._generateStretchWebGLParams(l,I,b):"rasterShadedRelief"===I.type?this._generateShadedReliefWebGLParams(I,d,f):"vectorField"===I.type?this._generateVectorFieldWebGLParams(I):null}_isLUTChanged(u){if(!this.lookup||!this.lookup.rendererJSON)return!0;if("colorRamp"in this.rendererJSON){const l=this.rendererJSON.colorRamp;return u?JSON.stringify(l)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}return JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}_symbolizeColormap(u){return this._isLUTChanged()&&!this.bind().success?u:(0,te.SJ)(u,this.lookup.colormapLut)}_symbolizeClassBreaks(u){const{canUseIndexedLUT:l}=this._analyzeClassBreaks(this.rendererJSON);return this._isLUTChanged()&&!this.bind().success?u:l?(0,te.SJ)(u,this.lookup.colormapLut):(0,te.zp)(u,this.lookup.remapLut)}_symbolizeStretch(u,l){var k;const{rasterInfo:d}=this,{pixelType:f,bandCount:b}=d,I=this.rendererJSON,m=["u8","u16","s8","s16"].includes(f);let C,p;const{dra:g}=I,{gamma:E}=this.lookup;if("histogramEqualization"===I.stretchType){const N=g?null:this.lookup.histogramLut,M=(0,fe.AV)(I,{rasterInfo:d,pixelBlock:u,bandIds:l,returnHistogramLut:!N}),W=(0,fe.dy)(u,Oe(Pe({},M),{gamma:E}));p=(0,te.XV)(W,{lut:g?M.histogramLut:N,offset:0})}else if(m){if(g){const N=(0,fe.AV)(I,{rasterInfo:d,pixelBlock:u,bandIds:l});C=(0,fe.hE)(Oe(Pe({pixelType:f},N),{gamma:E}))}else if(this._isLUTChanged()){if(!this.bind().success)return u;C=this.lookup?this.lookup.stretchLut:null}else C=this.lookup?this.lookup.stretchLut:null;if(!C)return u;b>1&&(null==l?void 0:l.length)===(null==(k=(0,be.Wg)(u))?void 0:k.pixels.length)&&(null==C?void 0:C.lut.length)===b&&(C={lut:l.map(N=>C.lut[N]),offset:C.offset}),p=(0,te.XV)(u,C)}else{const N=(0,fe.AV)(I,{rasterInfo:d,pixelBlock:u,bandIds:l});p=(0,fe.dy)(u,Oe(Pe({},N),{gamma:E}))}if(I.colorRamp){if(this._isLUTChanged(!0)&&!this.bind().success)return u;p=(0,te.SJ)(p,this.lookup.colormapLut)}return p}_symbolizeShadedRelief(u,l){var C,p;const d=this.rendererJSON,b=function $(u,l){if(!(0,te.nk)(u))return u;const{width:d,height:f,mask:b}=u,I=new Uint8Array(d*f);b&&I.set(b);const{factor:m,sinZcosA:C,sinZsinA:p,cosZ:g,sinZcosAs:E,sinZsinAs:k,cosZs:N,weights:M}=H(l),[W,D]=m,{hillshadeType:i}=l,c=u.pixels[0],h=new Uint8Array(d*f);let w,_,P,x,L,T,A,U;for(let j=1;j<f-1;j++){const R=j*d;for(let G=1;G<d-1;G++){if(b&&!b[R+G]){h[R+G]=0;continue}let F=8;if(b&&(F=b[R-d+G-1]+b[R-d+G]+b[R-d+G+1]+b[R+G-1]+b[R+G+1]+b[R+d+G-1]+b[R+d+G]+b[R+d+G+1],F<7)){h[R+G]=0,I[R+G]=0;continue}7===F?(w=b[R-d+G-1]?c[R-d+G-1]:c[R+G],_=b[R-d+G]?c[R-d+G]:c[R+G],P=b[R-d+G+1]?c[R-d+G+1]:c[R+G],x=b[R+G-1]?c[R+G-1]:c[R+G],L=b[R+G+1]?c[R+G+1]:c[R+G],T=b[R+d+G-1]?c[R+d+G-1]:c[R+G],A=b[R+d+G]?c[R+d+G]:c[R+G],U=b[R+d+G+1]?c[R+d+G+1]:c[R+G]):(w=c[R-d+G-1],_=c[R-d+G],P=c[R-d+G+1],x=c[R+G-1],L=c[R+G+1],T=c[R+d+G-1],A=c[R+d+G],U=c[R+d+G+1]);const Z=(P+L+L+U-(w+x+x+T))*W,z=(T+A+A+U-(w+_+_+P))*D,Y=Math.sqrt(1+Z*Z+z*z);let ee=0;if("traditional"===i){let ie=255*(g+p*z-C*Z)/Y;ie<0&&(ie=0),ee=ie}else{const ie=k.length;for(let re=0;re<ie;re++){let ae=255*(N[re]+k[re]*z-E[re]*Z)/Y;ae<0&&(ae=0),ee+=ae*M[re]}}h[R+G]=255&ee}}for(let j=0;j<f;j++)h[j*d]=h[j*d+1],h[(j+1)*d-1]=h[(j+1)*d-2];for(let j=1;j<d-1;j++)h[j]=h[j+d],h[j+(f-1)*d]=h[j+(f-2)*d];return new ce.Z({width:d,height:f,pixels:[h],mask:b?I:null,pixelType:"u8",validPixelCount:u.validPixelCount,statistics:[{minValue:0,maxValue:255}]})}(u,Pe(Pe({},d),l));if(!d.colorRamp)return b;let I;if(this._isLUTChanged(!0)){if(!this.bind().success)return b;I=this.lookup?this.lookup.hsvMap:null}else I=this.lookup?this.lookup.hsvMap:null;return I?(function oe(u,l,d,f){if(!(0,te.nk)(u)||!(0,te.nk)(l))return;const{min:b,max:I}=f,m=u.pixels[0],{pixels:C,mask:p}=l,g=C[0],E=255.00001/(I-b),k=new Uint8ClampedArray(g.length),N=new Uint8ClampedArray(g.length),M=new Uint8ClampedArray(g.length),W=d.length-1;for(let D=0;D<g.length;D++){if(p&&0===p[D])continue;const i=Math.floor((g[D]-b)*E),[c,h]=d[i<0?0:i>W?W:i],w=m[D],_=w*h,P=_*(1-Math.abs(c%2-1)),x=w-_;switch(Math.floor(c)){case 0:k[D]=_+x,N[D]=P+x,M[D]=x;break;case 1:k[D]=P+x,N[D]=_+x,M[D]=x;break;case 2:k[D]=x,N[D]=_+x,M[D]=P+x;break;case 3:k[D]=x,N[D]=P+x,M[D]=_+x;break;case 4:k[D]=P+x,N[D]=x,M[D]=_+x;break;case 5:case 6:k[D]=_+x,N[D]=x,M[D]=P+x}}u.pixels=[k,N,M],u.updateStatistics()}(b,u,I,null!=(p=null==(C=(0,be.Wg)(this.rasterInfo.statistics))?void 0:C[0])?p:{min:0,max:8e3}),b):b}_isVectorFieldData(){const{bandCount:u,dataType:l}=this.rasterInfo;return 2===u&&("vector-magdir"===l||"vector-uv"===l)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; VectorFieldRenderer only supports "vector-magdir" and "vector-uv".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; FlowRenderer only supports "vector-magdir" and "vector-uv".`}}_updateUVRenderer(u){const{bandCount:l,attributeTable:d,pixelType:f}=this.rasterInfo,b=u.field1;if(!b)return{success:!1,error:"Unsupported renderer; missing UniqueValueRenderer.field."};const I=u.defaultSymbol,m=1===l&&["u8","s8"].includes(f);if(!function K(u,l){const{attributeTable:d,bandCount:f}=u;return!((0,be.Wi)(d)||f>1||l&&null==d.fields.find(b=>b.name.toLowerCase()===l.toLowerCase()))}(this.rasterInfo,b)&&!m)return{success:!1,error:"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table."};const C=[];if(d){const g=d.fields.find(E=>"value"===E.name.toLowerCase());if(!g)return{success:!1,error:"Unsupported data; the data's raster attribute table does not have a value field."};d.features.forEach(E=>{var N,M;const k=null==(M=null==(N=u.uniqueValueInfos.find(W=>String(W.value)===String(E.attributes[b])))?void 0:N.symbol)?void 0:M.color;k?C.push([E.attributes[g.name]].concat(k)):I&&C.push([E.attributes[g.name]].concat(I.color))})}else{if("value"!==b.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be "Value" when raster attribute table is not availalbe.'};u.uniqueValueInfos.forEach(g=>{var k;const E=null==(k=null==g?void 0:g.symbol)?void 0:k.color;E?C.push([parseInt(""+g.value,10)].concat(E)):I&&C.push([parseInt(""+g.value,10)].concat(I.color))})}if(0===C.length)return{success:!1,error:"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table."};const p=(0,te.Pz)({colormap:C});return this.lookup={rendererJSON:u,colormapLut:p},this.canRenderInWebGL=!0,{success:!0}}_updateColormapRenderer(u){if(!function J(u){const{bandCount:l,colormap:d}=u;return(0,be.pC)(d)&&d.length&&1===l}(this.rasterInfo))return{success:!1,error:"Unsupported data; the data source does not have a colormap."};const l=u.colormapInfos.map(f=>[f.value].concat(f.color)).sort((f,b)=>f[0]-b[0]);if(!l||0===l.length)return{success:!1,error:"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos."};const d=(0,te.Pz)({colormap:l});return this.lookup={rendererJSON:u,colormapLut:d},this.canRenderInWebGL=!0,{success:!0}}_updateShadedReliefRenderer(u){if(!function V(u){const{bandCount:l,dataType:d,pixelType:f}=u;return"elevation"===d||"generic"===d&&1===l&&("s16"===f||"f32"===f||"f64"===f)}(this.rasterInfo))return{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; ShadedReliefRenderer only supports "elevation", or single band float/s16 data.`};if(u.colorRamp){const l=(0,X.Jw)(u.colorRamp,256,!0),d=(0,te.Pz)({colormap:l}),f=[],b=d.indexedColormap;for(let I=0;I<b.length;I+=4){const m=(0,we._Y)({r:b[I],g:b[I+1],b:b[I+2]});f.push([m.h/60,m.s/100,255*m.v/100])}this.lookup={rendererJSON:u,colormapLut:d,hsvMap:f}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(u){const{attributeTable:l,pixelType:d}=this.rasterInfo,f=(0,be.pC)(l)?l.fields.find(m=>"value"===m.name.toLowerCase()):null,b=(0,be.pC)(l)?l.fields.find(m=>m.name.toLowerCase()===u.field.toLowerCase()):null,I=null!=f&&null!==b;return{canUseIndexedLUT:["u8","u16","s8","s16"].includes(d)||I,tableValueField:f,tableBreakField:b}}_updateClassBreaksRenderer(u){var k;const{attributeTable:l}=this.rasterInfo,{canUseIndexedLUT:d,tableValueField:f,tableBreakField:b}=this._analyzeClassBreaks(u),I=u.classBreakInfos;if(null==I||!I.length)return{success:!1,error:"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos."};const m=I.sort((N,M)=>N.classMaxValue-M.classMaxValue),C=m[m.length-1];let p=u.minValue;if(!d){const N=[];for(let M=0;M<m.length;M++)N.push({value:null!=(k=m[M].classMinValue)?k:p,mappedColor:m[M].symbol.color}),p=m[M].classMaxValue;return N.push({value:C.classMaxValue,mappedColor:C.symbol.color}),this.lookup={rendererJSON:u,remapLut:N},this.canRenderInWebGL=!1,{success:!0}}const g=[];if(null!=f&&null!==b&&f!==b){const N=f.name,M=b.name,W=m[m.length-1],{classMaxValue:D}=W;p=u.minValue;for(const i of l.features){const c=i.attributes[N],h=i.attributes[M],w=h===D?W:h<p?null:m.find(({classMaxValue:_})=>_>h);w&&g.push([c].concat(w.symbol.color))}}else{p=Math.floor(u.minValue);for(let N=0;N<m.length;N++){const M=m[N];for(let W=p;W<M.classMaxValue;W++)g.push([W].concat(M.symbol.color));p=Math.ceil(M.classMaxValue)}C.classMaxValue===p&&g.push([C.classMaxValue].concat(C.symbol.color))}const E=(0,te.Pz)({colormap:g,fillUnspecified:!1});return this.lookup={rendererJSON:u,colormapLut:E},this.canRenderInWebGL=!0,{success:!0}}_isHistogramRequired(u){return"percentClip"===u||"histogramEqualization"===u}_isValidRasterStatistics(u){return(0,be.pC)(u)&&u.length>0&&null!=u[0].min&&null!=u[0].max}_updateStretchRenderer(u){var E,k;let{stretchType:l,dra:d}=u;if(!("none"===l||(null==(E=u.statistics)?void 0:E.length)||this._isValidRasterStatistics(this.rasterInfo.statistics)||d))return{success:!1,error:"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used."};const f=(0,be.Wg)(u.histograms||this.rasterInfo.histograms);!this._isHistogramRequired(u.stretchType)||(null==f?void 0:f.length)||d||(l="minMax");const{computeGamma:b,useGamma:I,colorRamp:m}=u;let{gamma:C}=u;if(I&&b&&(null==C||!C.length)){const N=null!=(k=u.statistics)&&k.length?u.statistics:(0,be.Wg)(this.rasterInfo.statistics);C=(0,fe.ZF)(this.rasterInfo.pixelType,N)}const p=this.rasterInfo.pixelType,g=!d&&["u8","u16","s8","s16"].includes(p);if("histogramEqualization"===l){const N=f.map(M=>(0,fe.oc)(M));this.lookup={rendererJSON:u,histogramLut:N}}else if(g){const N=(0,fe.AV)(u,{rasterInfo:this.rasterInfo}),M=(0,fe.hE)(Oe(Pe({pixelType:p},N),{gamma:I?C:null}));this.lookup={rendererJSON:u,stretchLut:M}}if(m){const N=(0,X.Jw)(m,256,!0);this.lookup||(this.lookup={rendererJSON:u}),this.lookup.colormapLut=(0,te.Pz)({colormap:N}),this.lookup.rendererJSON=u}return this.lookup.gamma=I&&(null==C?void 0:C.length)?C:null,this.canRenderInWebGL=!0,{success:!0}}_generateStretchWebGLParams(u,l,d){let f=null,b=null;const I=this.lookup&&this.lookup.colormapLut;l.colorRamp&&I&&(f=I.indexedColormap,b=I.offset),"histogramEqualization"===l.stretchType&&(l=Oe(Pe({},l),{stretchType:"minMax"}));const{gamma:m}=this.lookup,C=!!(l.useGamma&&m&&m.some(h=>1!==h)),{minCutOff:p,maxCutOff:g,outMin:E,outMax:k}=(0,fe.AV)(l,{rasterInfo:this.rasterInfo,pixelBlock:u,bandIds:d});let N=0;(0,be.pC)(u)&&(N=u.getPlaneCount(),2===N&&((u=u.clone()).statistics=[u.statistics[0]],u.pixels=[u.pixels[0]]));const M=Math.min(3,(null==d?void 0:d.length)||N||this.rasterInfo.bandCount),W=new Float32Array(M),D=f||C?1:255;let i;for(i=0;i<M;i++)W[i]=(k-E)/(g[i]-p[i])/D;const c=new Float32Array(M);if(C)for(i=0;i<M;i++)c[i]=m[i]>1?m[i]>2?6.5+(m[i]-2)**2.5:6.5+100*(2-m[i])**4:1;return{bandCount:M,outMin:E/D,outMax:k/D,minCutOff:p,maxCutOff:g,factor:W,useGamma:C,gamma:C?m:[1,1,1],gammaCorrection:C?c:[1,1,1],colormap:f,colormapOffset:b,stretchType:l.stretchType,type:"stretch"}}_generateShadedReliefWebGLParams(u,l,d){var g,E,k;let f=null,b=null;const I=this.lookup&&this.lookup.colormapLut;u.colorRamp&&I&&(f=I.indexedColormap,b=I.offset);const C=H(Oe(Pe({},u),{isGCS:l,resolution:d})),p=null==(g=(0,be.Wg)(this.rasterInfo.statistics))?void 0:g[0];return Oe(Pe({},C),{minValue:null!=(E=null==p?void 0:p.min)?E:0,maxValue:null!=(k=null==p?void 0:p.max)?k:8e3,hillshadeType:"traditional"===u.hillshadeType?0:1,type:"hillshade",colormap:f,colormapOffset:b})}_generateVectorFieldWebGLParams(u){var c,h,w,_,P,x,L,T;const{style:l,inputUnit:d,outputUnit:f,visualVariables:b,symbolTileSize:I,flowRepresentation:m}=u;let C;const p=null!=(h=null==(c=this.rasterInfo.statistics)?void 0:c[0].min)?h:0,g=null!=(_=null==(w=this.rasterInfo.statistics)?void 0:w[0].max)?_:50,E=null!=(P=null==b?void 0:b.find(A=>"sizeInfo"===A.type))?P:{type:"sizeInfo",field:"Magnitude",maxDataValue:g,maxSize:.8*I,minDataValue:p,minSize:.2*I},k=null!=(x=E.minDataValue)?x:p,N=null!=(L=E.maxDataValue)?L:g,M=(0,be.pC)(E.maxSize)&&(0,be.pC)(E.minSize)?[E.minSize/I,E.maxSize/I]:[.2,.8];"wind_speed"===l&&(M[0]=M[1]=(M[0]+M[1])/2);const W=(0,be.pC)(k)&&(0,be.pC)(N)?[k,N]:null;if("classified_arrow"===l)if((0,be.pC)(k)&&(0,be.pC)(N)&&(0,be.pC)(E)){C=[];const A=(E.maxDataValue-E.minDataValue)/5;for(let U=0;U<6;U++)C.push(E.minDataValue+A*U)}else C=[0,1e-6,3.5,7,10.5,14];const D="flow_to"===m==("ocean_current_kn"===l||"ocean_current_m"===l)?0:Math.PI,i=null==b?void 0:b.find(A=>"rotationInfo"===A.type);return{breakValues:C,dataRange:W,inputUnit:d,outputUnit:f,symbolTileSize:I,symbolPercentRange:M,style:l||"single_arrow",rotation:D,rotationType:(null==(T=this.rasterInfo.storageInfo)?void 0:T.tileInfo)&&"vector-uv"===this.rasterInfo.dataType?"geographic":(null==i?void 0:i.rotationType)||u.rotationType,type:"vectorField"}}};function O(u){return(0,te.nk)(u)&&0!==u.validPixelCount}(0,se._)([(0,de.Cb)({json:{write:!0}})],v.prototype,"rendererJSON",void 0),(0,se._)([(0,de.Cb)({type:ye.Z,json:{write:!0}})],v.prototype,"rasterInfo",void 0),(0,se._)([(0,de.Cb)({json:{write:!0}})],v.prototype,"lookup",void 0),(0,se._)([(0,de.Cb)()],v.prototype,"canRenderInWebGL",void 0),v=(0,se._)([(0,pe.j)("esri.renderers.support.RasterSymbolizer")],v);const B=v},70208:(Me,Se,q)=>{q.d(Se,{Jw:()=>H,Ms:()=>ge,Uh:()=>le,io:()=>ue,pM:()=>$});var se=q(91558),we=q(78260);const ge=[{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,107,45]}],me={aspect_predefined:"Aspect",blackToWhite_predefined:"Black to White",blueBright_predefined:"Blue Bright",blueLightToDark_predefined:"Blue Light to Dark",blueGreenBright_predefined:"Blue-Green Bright",blueGreenLightToDark_predefined:"Blue-Green Light to Dark",brownLightToDark_predefined:"Brown Light to Dark",brownToBlueGreenDivergingBright_predefined:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark_predefined:"Brown to Blue Green Diverging, Dark",coefficientBias_predefined:"Coefficient Bias",coldToHotDiverging_predefined:"Cold to Hot Diverging",conditionNumber_predefined:"Condition Number",cyanToPurple_predefined:"Cyan to Purple",cyanLightToBlueDark_predefined:"Cyan-Light to Blue-Dark",distance_predefined:"Distance",elevation1_predefined:"Elevation #1",elevation2_predefined:"Elevation #2",errors_predefined:"Errors",grayLightToDark_predefined:"Gray Light to Dark",greenBright_predefined:"Green Bright",greenLightToDark_predefined:"Green Light to Dark",greenToBlue_predefined:"Green to Blue",orangeBright_predefined:"Orange Bright",orangeLightToDark_predefined:"Orange Light to Dark",partialSpectrum_predefined:"Partial Spectrum",partialSpectrum1Diverging_predefined:"Partial Spectrum 1 Diverging",partialSpectrum2Diverging_predefined:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright_predefined:"Pink to YellowGreen Diverging, Bright",pinkToYellowGreenDivergingDark_predefined:"Pink to YellowGreen Diverging, Dark",precipitation_predefined:"Precipitation",prediction_predefined:"Prediction",purpleBright_predefined:"Purple Bright",purpleToGreenDivergingBright_predefined:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark_predefined:"Purple to Green Diverging, Dark",purpleBlueBright_predefined:"Purple-Blue Bright",purpleBlueLightToDark_predefined:"Purple-Blue Light to Dark",purpleRedBright_predefined:"Purple-Red Bright",purpleRedLightToDark_predefined:"Purple-Red Light to Dark",redBright_predefined:"Red Bright",redLightToDark_predefined:"Red Light to Dark",redToBlueDivergingBright_predefined:"Red to Blue Diverging, Bright",redToBlueDivergingDark_predefined:"Red to Blue Diverging, Dark",redToGreen_predefined:"Red to Green",redToGreenDivergingBright_predefined:"Red to Green Diverging, Bright",redToGreenDivergingDark_predefined:"Red to Green Diverging, Dark",slope_predefined:"Slope",spectrumFullBright_predefined:"Spectrum-Full Bright",spectrumFullDark_predefined:"Spectrum-Full Dark",spectrumFullLight_predefined:"Spectrum-Full Light",surface_predefined:"Surface",temperature_predefined:"Temperature",whiteToBlack_predefined:"White to Black",yellowToDarkRed_predefined:"Yellow to Dark Red",yellowToGreenToDarkBlue_predefined:"Yellow to Green to Dark Blue",yellowToRed_predefined:"Yellow to Red",yellowGreenBright_predefined:"Yellow-Green Bright",yellowGreenLightToDark_predefined:"Yellow-Green Light to Dark"};function be(K,V){if(!K||!V||K.length!==V.length)return!1;for(let J=0;J<K.length;J++)if(K[J]>V[J]+2||K[J]<V[J]-2)return!1;return!0}function le(K){const V=function de(K,V){if(!K)return;const J=V||ge;let v,O=null;return"algorithmic"===K.type?J.some(B=>{if(be(K.fromColor.toRgb(),B.fromColor)&&be(K.toColor.toRgb(),B.toColor))return O=B.id,!0}):"multipart"===K.type&&J.some(B=>{if(K.colorRamps&&B.colorRamps&&K.colorRamps.length===B.colorRamps.length&&(v=K.colorRamps,!B.colorRamps.some((u,l)=>{if(!be(v[l].fromColor.toRgb(),new se.Z(u.fromColor).toRgb())||!be(v[l].toColor.toRgb(),new se.Z(u.toColor).toRgb()))return!0}))){if(O)return!0;O=B.id}}),O}(K);return V?me[V]:null}function y(K){const V=(K=K||{}).numColors||256,J=K.distanceOffset||0,v=null!=K.isCustomInterval?K.isCustomInterval:null!==K.distanceInterval&&K.distanceInterval!==1/(V-1),O=K.distanceInterval||1/(V-1);return Oe(Pe({},K),{numColors:V,distanceOffset:J,interpolateAlpha:!!K.interpolateAlpha,distanceInterval:O,isCustomInterval:v,weights:K.weights})}function te(K,V){var g,E;let{fromColor:J,toColor:v}=K;3===J.length&&(J=J.concat([255])),3===v.length&&(v=v.concat([255]));const O=K.algorithm||"esriCIELabAlgorithm",{numColors:B,distanceOffset:u,isCustomInterval:l,interpolateAlpha:d}=y(V);if(1===B&&0===u)return[J];if(2===B&&0===u&&!l)return[J,v];const f={r:J[0],g:J[1],b:J[2]},b={r:v[0],g:v[1],b:v[2]},I="esriCIELabAlgorithm"===O?function pe(K,V,J){const{numColors:v,distanceOffset:O,distanceInterval:B,isCustomInterval:u}=y(J);let{l,a:d,b:f}=K;const b=(V.l-l)*B,I=(V.a-d)*B,m=(V.b-f)*B,C=[];if(O){const p=O/B;l+=p*b,d+=p*I,f+=p*m}for(let p=0;p<v-1;p++)C.push({l,a:d,b:f}),l+=b,d+=I,f+=m;return C.push(u?{l,a:d,b:f}:V),C}((0,we.Y3)(f),(0,we.Y3)(b),V):"esriHSVAlgorithm"===O?function he(K,V,J){const{numColors:v,distanceOffset:O,distanceInterval:B,isCustomInterval:u}=y(J),l=0===K.s,d=0===V.s;let f=K.h,b=V.h;l&&!d?f=b:d&&!l&&(V=Oe(Pe({},V),{h:f}),b=f);let I,m=Math.abs(b-f);const C=360;m<180?I=(b-f)*B:(m=C-m,I=f>b?m*B:-m*B);const p=(V.s-K.s)*B,g=(V.v-K.v)*B;let{s:E,v:k}=K,N=f;if(O){const W=O/B;N=(N+W*I+C)%C,E+=W*p,k+=W*g}const M=[];for(let W=0;W<v-1;W++)M.push({h:N,s:E,v:k}),N=(N+I+C)%C,E+=p,k+=g;return M.push(u?{h:N,s:E,v:k}:V),M}((0,we._Y)(f),(0,we._Y)(b),V):function ye(K,V,J){const{numColors:v,distanceOffset:O,distanceInterval:B,isCustomInterval:u}=y(J),l=K.h,d=V.h,f=2*Math.PI;let b;if(l<=d){const N=d-l,M=d-l-f;b=Math.abs(M)<Math.abs(N)?M:N}else{const N=d+f-l,M=d-l;b=Math.abs(M)<Math.abs(N)?M:N}const I=b*B,m=(V.l-K.l)*B,C=(V.c-K.c)*B;let{l:p,c:g,h:E}=K;if(O){const N=O/B;p+=N*m,g+=N*C,E=(E+N*I+f)%f}const k=[];for(let N=0;N<v-1;N++)k.push({l:p,c:g,h:E}),p+=m,g+=C,E=(E+I+f)%f;return k.push(u?{l:p,c:g,h:E}:V),k}((0,we.sJ)(f),(0,we.sJ)(b),V),m=[],C=null!=(g=J[3])?g:255,p=((null!=(E=v[3])?E:255)-C)/(B-1);for(let k=0;k<B;k++){const{r:N,g:M,b:W}=(0,we.xr)(I[k]),D=d?Math.round(C+p*k):255;m.push([N,M,W,D])}return m}function H(K,V=256,J=!1){const v=function ce(K,V=256,J=!1){const v="toJSON"in K?K.toJSON():K,O={numColors:V,interpolateAlpha:J};return"multipart"===v.type?function fe(K,V){const{numColors:J,interpolateAlpha:v}=y(V);let O=null==V?void 0:V.weights;const{colorRamps:B}=K;if(O){const m=O.reduce((C,p)=>C+p);O=O.map(C=>C/m)}else{O=[];for(let m=0;m<B.length;m++)O[m]=1/B.length}const u=[];let l=0,d=0;const f=1/(J-1);let b=!1;for(let m=0;m<B.length;m++){let C=b?0:l*f-d,p=m===B.length-1?J-1-l:(O[m]-C)/f;if(b=Math.ceil(p)===p,p=Math.ceil(p),0===p)continue;C/=O[m];const g=te(B[m],{numColors:p,interpolateAlpha:v,distanceOffset:C,distanceInterval:f/O[m]});l+=g.length,u.push(...g),d+=O[m]}const I=[...B[B.length-1].toColor];return 3===I.length&&I.push(255),u.push(I),u}(v,O):te(v,O)}(K,V,J);return v.forEach((O,B)=>{O.unshift(B),J||O.pop()}),v}function $(K){const V=le(K);if(K){if("algorithmic"===K.type)return Oe(Pe({},oe(K)),{Name:V});if(K.colorRamps){const J=K.colorRamps.map(oe);return{type:"MultiPartColorRamp",NumColorRamps:J.length,ArrayOfColorRamp:J,Name:V}}}}function oe(K){var V;if(K)return{Algorithm:(null==(V=K.toJSON())?void 0:V.Algorithm)||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:X(K.fromColor),ToColor:X(K.toColor)}}function X(K){const V=(0,we._Y)(K);return{type:"HsvColor",Hue:V.h,Saturation:V.s,Value:V.v,AlphaValue:255}}function ue(K){const V=K.reverse().map(J=>{const v=J.toString(16);return v.length<2?"0"+v:v});return 4294967295&Number.parseInt(V.join(""),16)}},37084:(Me,Se,q)=>{q.d(Se,{GE:()=>te});var se=q(15861),ge=(q(29132),q(8314)),me=q(63290),de=(q(21286),q(10699)),le=q(4619);q(37053),q(2004);const pe=me.Z.getLogger("esri.views.2d.engine.flow.dataUtils");function te(u,l,d,f){return fe.apply(this,arguments)}function fe(){return(fe=(0,se.Z)(function*(u,l,d,f){const b=performance.now(),I=ce(l,d),m=performance.now(),C=$(l,I,d.width,d.height),p=performance.now(),g=X(C,!0),E=performance.now(),k="Streamlines"===u?ue(g,10):K(g),N=performance.now();return(0,ge.Z)("esri-2d-profiler")&&(pe.info("I.1","_createFlowFieldFromData (ms)",Math.round(m-b)),pe.info("I.2","_getStreamlines (ms)",Math.round(p-m)),pe.info("I.3","createAnimatedLinesData (ms)",Math.round(E-p)),pe.info("I.4","create{Streamlines|Particles}Mesh (ms)",Math.round(N-E)),pe.info("I.5","createFlowMesh (ms)",Math.round(N-b)),pe.info("I.6","Mesh size (bytes)",k.vertexData.buffer.byteLength+k.indexData.buffer.byteLength)),yield Promise.resolve(),(0,de.k_)(f),k})).apply(this,arguments)}function ce(u,l){const d=function oe(u,l,d,f){if(0===f)return u;const b=Math.round(3*f),I=new Array(2*b+1);let m=0;for(let g=-b;g<=b;g++){const E=Math.exp(-g*g/(f*f));I[g+b]=E,m+=E}for(let g=-b;g<=b;g++)I[g+b]/=m;const C=new Float32Array(u.length);for(let g=0;g<d;g++)for(let E=0;E<l;E++){let k=0,N=0;for(let M=-b;M<=b;M++){if(E+M<0||E+M>=l)continue;const W=I[M+b];k+=W*u[2*(g*l+(E+M))+0],N+=W*u[2*(g*l+(E+M))+1]}C[2*(g*l+E)+0]=k,C[2*(g*l+E)+1]=N}const p=new Float32Array(u.length);for(let g=0;g<l;g++)for(let E=0;E<d;E++){let k=0,N=0;for(let M=-b;M<=b;M++){if(E+M<0||E+M>=d)continue;const W=I[M+b];k+=W*C[2*((E+M)*l+g)+0],N+=W*C[2*((E+M)*l+g)+1]}p[2*(E*l+g)+0]=k,p[2*(E*l+g)+1]=N}return p}(l.data,l.width,l.height,u.smoothing);return u.interpolate?(f,b)=>{const I=Math.floor(f),m=Math.floor(b);if(I<0||I>=l.width)return[0,0];if(m<0||m>=l.height)return[0,0];const C=f-I,p=b-m,k=I<l.width-1?I+1:I,N=m<l.height-1?m+1:m;return[(d[2*(m*l.width+I)]*(1-p)+d[2*(N*l.width+I)]*p)*(1-C)+(d[2*(m*l.width+k)]*(1-p)+d[2*(N*l.width+k)]*p)*C,(d[2*(m*l.width+I)+1]*(1-p)+d[2*(N*l.width+I)+1]*p)*(1-C)+(d[2*(m*l.width+k)+1]*(1-p)+d[2*(N*l.width+k)+1]*p)*C]}:(f,b)=>{const I=Math.round(f),m=Math.round(b);return I<0||I>=l.width||m<0||m>=l.height?[0,0]:[d[2*(m*l.width+I)+0],d[2*(m*l.width+I)+1]]}}function H(u,l,d,f,b,I,m,C,p){const g=[];let E=d,k=f,N=0,[M,W]=l(E,k);M*=u.velocityScale,W*=u.velocityScale;const D=Math.sqrt(M*M+W*W);let i,c;g.push({x:E,y:k,t:N,speed:D});for(let h=0;h<u.verticesPerLine;h++){let[w,_]=l(E,k);w*=u.velocityScale,_*=u.velocityScale;const P=Math.sqrt(w*w+_*_);if(P<u.minSpeedThreshold)return g;const x=w/P,L=_/P;if(E+=x*u.segmentLength,k+=L*u.segmentLength,N+=u.segmentLength/P,Math.acos(x*i+L*c)>u.maxTurnAngle)return g;if(u.collisions){const T=Math.round(E*p),A=Math.round(k*p);if(T<0||T>m-1||A<0||A>C-1)return g;const U=I[A*m+T];if(-1!==U&&U!==b)return g;I[A*m+T]=b}g.push({x:E,y:k,t:N,speed:P}),i=x,c=L}return g}function $(u,l,d,f){const b=[],I=new le.Z,m=1/Math.max(u.lineCollisionWidth,1),C=Math.round(d*m),p=Math.round(f*m),g=new Int32Array(C*p);for(let k=0;k<g.length;k++)g[k]=-1;const E=[];for(let k=0;k<f;k+=u.lineSpacing)for(let N=0;N<d;N+=u.lineSpacing)E.push({x:N,y:k,sort:I.getFloat()});E.sort((k,N)=>k.sort-N.sort);for(const{x:k,y:N}of E)if(I.getFloat()<u.density){const M=H(u,l,k,N,b.length,g,C,p,m);if(M.length<2)continue;b.push(M)}return b}function X(u,l){const d=new le.Z,f=u.reduce((p,g)=>p+g.length,0),b=new Float32Array(4*f),I=new Array(u.length);let m=0,C=0;for(const p of u){const g=m;for(const E of p)b[4*m+0]=E.x,b[4*m+1]=E.y,b[4*m+2]=E.t,b[4*m+3]=E.speed,m++;I[C++]={startVertex:g,numberOfVertices:p.length,totalTime:p[p.length-1].t,timeSeed:l?d.getFloat():0}}return{lineVertices:b,lineDescriptors:I}}function ue(u,l){const{lineVertices:f,lineDescriptors:b}=u;let I=0,m=0;for(const M of b)I+=2*M.numberOfVertices,m+=6*(M.numberOfVertices-1);const C=new Float32Array(9*I),p=new Uint32Array(m);let g=0,E=0;function N(M,W,D,i,c,h,w,_){const P=9*g;let x=0;C[P+x++]=M,C[P+x++]=W,C[P+x++]=1,C[P+x++]=D,C[P+x++]=h,C[P+x++]=w,C[P+x++]=i/2,C[P+x++]=c/2,C[P+x++]=_,g++,C[P+x++]=M,C[P+x++]=W,C[P+x++]=-1,C[P+x++]=D,C[P+x++]=h,C[P+x++]=w,C[P+x++]=-i/2,C[P+x++]=-c/2,C[P+x++]=_,g++}for(const M of b){const{totalTime:W,timeSeed:D}=M;let i=null,c=null,h=null,w=null,_=null,P=null;for(let x=0;x<M.numberOfVertices;x++){const L=f[4*(M.startVertex+x)+0],T=f[4*(M.startVertex+x)+1],A=f[4*(M.startVertex+x)+2],U=f[4*(M.startVertex+x)+3];let S=null,j=null,R=null,G=null;if(x>0){S=L-i,j=T-c;const F=Math.sqrt(S*S+j*j);if(S/=F,j/=F,x>1){let Z=S+_,z=j+P;const Y=Math.sqrt(Z*Z+z*z);Z/=Y,z/=Y;const ee=Math.min(1/(Z*S+z*j),l);Z*=ee,z*=ee,R=-z,G=Z}else R=-j,G=S;null!==R&&null!==G&&(N(i,c,h,R,G,W,D,U),p[E++]=g-2,p[E++]=g,p[E++]=g-1,p[E++]=g,p[E++]=g+1,p[E++]=g-1)}i=L,c=T,h=A,_=S,P=j,w=U}N(i,c,h,-P,_,W,D,w)}return{vertexData:C,indexData:p}}function K(u){const{lineVertices:b,lineDescriptors:I}=u;let m=0,C=0;for(const F of I){const Z=F.numberOfVertices-1;m+=4*Z*2,C+=6*Z*2}const p=new Float32Array(16*m),g=new Uint32Array(C);let E,k,N,M,W,D,i,c,h,w,_,P,x,L,T=0,A=0;function j(F,Z){let z=h+_,Y=w+P;const ee=Math.sqrt(z*z+Y*Y);z/=ee,Y/=ee;const ie=h*z+w*Y;z/=ie,Y/=ie;let re=_+x,ae=P+L;const Q=Math.sqrt(re*re+ae*ae);re/=Q,ae/=Q;const ne=_*re+P*ae;re/=ne,ae/=ne,function S(F,Z,z,Y,ee,ie,re,ae,Q,ne,_e,Ce,xe,Ie){const ve=16*T;let Te=0;for(const De of[1,2])for(const ke of[1,2,3,4])p[ve+Te++]=F,p[ve+Te++]=Z,p[ve+Te++]=z,p[ve+Te++]=Y,p[ve+Te++]=re,p[ve+Te++]=ae,p[ve+Te++]=Q,p[ve+Te++]=ne,p[ve+Te++]=De,p[ve+Te++]=ke,p[ve+Te++]=xe,p[ve+Te++]=Ie,p[ve+Te++]=ee/2,p[ve+Te++]=ie/2,p[ve+Te++]=_e/2,p[ve+Te++]=Ce/2,T++}(E,k,N,M,-Y,z,W,D,i,c,-ae,re,F,Z),function U(){g[A++]=T-8,g[A++]=T-7,g[A++]=T-6,g[A++]=T-7,g[A++]=T-5,g[A++]=T-6,g[A++]=T-4,g[A++]=T-3,g[A++]=T-2,g[A++]=T-3,g[A++]=T-1,g[A++]=T-2}()}function R(F,Z,z,Y,ee,ie){if(h=_,w=P,_=x,P=L,null==h&&null==w&&(h=_,w=P),null!=W&&null!=D){x=F-W,L=Z-D;const re=Math.sqrt(x*x+L*L);x/=re,L/=re}null!=h&&null!=w&&j(ee,ie),E=W,k=D,N=i,M=c,W=F,D=Z,i=z,c=Y}function G(F,Z){h=_,w=P,_=x,P=L,null==h&&null==w&&(h=_,w=P),null!=h&&null!=w&&j(F,Z)}for(const F of I){E=null,k=null,N=null,M=null,W=null,D=null,i=null,c=null,h=null,w=null,_=null,P=null,x=null,L=null;const{totalTime:Z,timeSeed:z}=F;for(let Y=0;Y<F.numberOfVertices;Y++)R(b[4*(F.startVertex+Y)+0],b[4*(F.startVertex+Y)+1],b[4*(F.startVertex+Y)+2],b[4*(F.startVertex+Y)+3],Z,z);G(Z,z)}return{vertexData:p,indexData:g}}}}]);