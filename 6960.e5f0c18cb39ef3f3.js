"use strict";var _s=Object.defineProperty,ds=Object.defineProperties,bs=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,Ms=Object.prototype.hasOwnProperty,vs=Object.prototype.propertyIsEnumerable,ss=(x,E,o)=>E in x?_s(x,E,{enumerable:!0,configurable:!0,writable:!0,value:o}):x[E]=o,Z=(x,E)=>{for(var o in E||(E={}))Ms.call(E,o)&&ss(x,o,E[o]);if(q)for(var o of q(E))vs.call(E,o)&&ss(x,o,E[o]);return x},es=(x,E)=>ds(x,bs(E));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[6960],{66960:(x,E,o)=>{o.r(E),o.d(E,{getPatternDescriptor:()=>G,getSizeFromOptions:()=>R,getSymbolLayerFill:()=>i,previewSymbol3D:()=>fs});var H=o(15861),J=o(54346),N=o(78260),V=(o(8314),o(26584)),ts=o(63290),g=o(62208),as=o(10699),D=o(23841),W=o(74741),ns=o(33215),rs=o(48521),d=o(71131),w=o(6172),Y=o(86606),ls=o(50998);const C=d.b_.size,S=d.b_.maxSize,T=d.b_.maxOutlineSize,X=d.b_.lineWidth,z=d.b_.tallSymbolWidth,os=ts.Z.getLogger("esri.symbols.support.previewSymbol3D");function j(s){const e=s.outline,n=(0,g.pC)(s.material)?s.material.color:null,t=(0,g.pC)(n)?n.toHex():null;if((0,g.Wi)(e)||"pattern"in e&&(0,g.pC)(e.pattern)&&"style"===e.pattern.type&&"none"===e.pattern.style)return"fill"===s.type&&"#ffffff"===t?{color:"#bdc3c7",width:.75}:null;const a=(0,D.F2)(e.size)||0;return{color:"rgba("+((0,g.pC)(e.color)?e.color.toRgba():"255,255,255,1")+")",width:Math.min(a,T),style:"pattern"in e&&(0,g.pC)(e.pattern)&&"style"===e.pattern.type?(0,W.Sp)(e.pattern.style):null,join:"butt",cap:"patternCap"in e?e.patternCap:"butt"}}function A(s,e=1){const n=s.a,t=(0,N._Y)(s),a=t.h,r=t.s/e,l=100-(100-t.v)/e,{r:h,g:_,b:m}=(0,N.xr)({h:a,s:r,v:l});return[h,_,m,n]}function U(s){return"water"===s.type?(0,g.Wi)(s.color)?null:s.color:(0,g.Wi)(s.material)||(0,g.Wi)(s.material.color)?null:s.material.color}function i(s,e=0){const n=U(s);if(!n){if("fill"===s.type)return null;const r=(0,d.uH)(W.Ne.r,e);return[r,r,r,100]}const t=n.toRgba();for(let a=0;a<3;a++)t[a]=(0,d.uH)(t[a],e);return t}function G(s,e){return B.apply(this,arguments)}function B(){return(B=(0,H.Z)(function*(s,e){const n=s.style;return"none"===n?null:{type:"pattern",x:0,y:0,src:yield(0,W.Od)((0,J.V)(`esri/symbols/patterns/${n}.png`),e.toCss(!0)),width:5,height:5}})).apply(this,arguments)}function $(s){return s.outline?j(s):{color:"rgba(0, 0, 0, 1)",width:1.5}}function Q(s,e){const n=U(s);if(!n)return null;let t="rgba(";return t+=(0,d.uH)(n.r,e)+",",t+=(0,d.uH)(n.g,e)+",",t+=(0,d.uH)(n.b,e)+",",t+n.a+");"}function K(s,e){const n=Q(s,e);return n?"pattern"in s&&(0,g.pC)(s.pattern)&&"style"===s.pattern.type&&"none"===s.pattern.style?null:{color:n,width:Math.min(s.size?(0,D.F2)(s.size):.75,T),style:"pattern"in s&&(0,g.pC)(s.pattern)&&"style"===s.pattern.type?(0,W.Sp)(s.pattern.style):null,cap:"cap"in s?s.cap:null,join:"join"in s?"miter"===s.join?(0,D.F2)(2):s.join:null}:{}}function I(s,e,n){const t=.75*n;return{type:"linear",x1:t?.25*t:0,y1:t?.5*t:0,x2:t||4,y2:t?.5*t:4,colors:[{color:s,offset:0},{color:e,offset:1}]}}function R(s){const e="number"==typeof(null==s?void 0:s.size)?null==s?void 0:s.size:null;return e?(0,D.F2)(e):null}function F(){return(F=(0,H.Z)(function*(s,e){const n="mesh-3d"===s.type,t=s.symbolLayers,a=R(e),r=e&&e.maxSize?(0,D.F2)(e.maxSize):null,l=a||C,h=[];let _=0,m=0,b=!1;for(let f=0;f<t.length;f++){const c=t.getItemAt(f),u=[];if(n&&"fill"!==c.type)continue;const L=d.JZ.fill[0];switch(c.type){case"fill":{const p=j(c),y=Math.min(l,r||S);_=Math.max(_,y),m=Math.max(m,y),b=!0;let M=i(c,0);const v="pattern"in c&&c.pattern,P=U(c);!n&&(0,g.pC)(v)&&"style"===v.type&&"solid"!==v.style&&P&&(M=yield G(v,P)),u.push({shape:L,fill:M,stroke:p});break}case"line":{const p=K(c,0);if((0,g.Wi)(p))break;const y={stroke:p,shape:L};_=Math.max(_,C),m=Math.max(m,C),u.push(y);break}case"extrude":{const p=Z({join:"round",width:1},K(c,-.4)),y=i(c,0),M=i(c,-.2),v=Math.min(l,r||S),P=(0,d.EV)(v);p.width=1,u.push({shape:P[0],fill:M,stroke:p}),u.push({shape:P[1],fill:M,stroke:p}),u.push({shape:P[2],fill:y,stroke:p});const k=.7*C+.5*v;_=Math.max(_,C),m=Math.max(m,k);break}case"water":{const p=U(c),y=A(p),M=A(p,2),v=A(p,3),P=(0,d.ht)();b=!0,u.push({shape:P[0],fill:y}),u.push({shape:P[1],fill:M}),u.push({shape:P[2],fill:v});const O=Math.min(l,r||S);_=Math.max(_,O),m=Math.max(m,O);break}}h.push(u)}return(0,w.w)(h,[_,m],{node:e&&e.node,scale:b,opacity:e&&e.opacity})})).apply(this,arguments)}function fs(s,e){if(0===s.symbolLayers.length)return Promise.reject(new V.Z("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(s.type){case"point-3d":return function us(s,e){const n=R(e),t=e&&e.maxSize?(0,D.F2)(e.maxSize):null,a=e&&e.disableUpsampling,r=s.symbolLayers,l=[];let h=0,_=0;const m=r.getItemAt(r.length-1);let b;return m&&"icon"===m.type&&(b=m.size&&(0,D.F2)(m.size)),r.forEach(f=>{var L;if("icon"!==f.type&&"object"!==f.type)return;const c="icon"===f.type?f.size&&(0,D.F2)(f.size):0,u=n||c?Math.ceil(Math.min(n||c,t||S)):C;if(f&&f.resource&&f.resource.href){const p=function is(s,e){const n=e&&e.resource,t=n&&n.href;if(s.thumbnail&&s.thumbnail.url)return Promise.resolve(s.thumbnail.url);if(t&&"object"!==e.type)return Promise.resolve((0,Y.nf)(s,e));const a=(0,J.V)("esri/images/Legend/legend3dsymboldefault.png");return s.styleOrigin&&(s.styleOrigin.styleName||s.styleOrigin.styleUrl)?(0,ls.resolveWebStyleSymbol)(s.styleOrigin,{portal:s.styleOrigin.portal},"webRef").catch(r=>r).then(r=>{var l;return(null==(l=null==r?void 0:r.thumbnail)?void 0:l.url)||a}):Promise.resolve(a)}(s,f).then(y=>{const M=f.get("material.color"),v=function hs(s){return"icon"===s.type?"multiply":"tint"}(f);return(0,w.r)(y,u,M,v,a)}).then(y=>{const M=y.width,v=y.height;return h=Math.max(h,M),_=Math.max(_,v),[{shape:{type:"image",x:0,y:0,width:M,height:v,src:y.url},fill:null,stroke:null}]});l.push(p)}else{let p=u;"icon"===f.type&&b&&n&&(p=u*(c/b));const y="tall"===(null==e?void 0:e.symbolConfig)||(null==(L=null==e?void 0:e.symbolConfig)?void 0:L.isTall)||"object"===f.type&&function ps(s){const e=s.depth,n=s.height,t=s.width;return t&&e&&n&&t===e&&t<n}(f);h=Math.max(h,y?z:p),_=Math.max(_,p),l.push(Promise.resolve(function cs(s,e,n){const t=[];if(!s)return t;switch(s.type){case"icon":{const l=e,h=e;switch(s.resource&&s.resource.primitive||ns.S){case"circle":t.push({shape:{type:"circle",cx:0,cy:0,r:.5*e},fill:i(s,0),stroke:j(s)});break;case"square":t.push({shape:{type:"path",path:[{command:"M",values:[0,h]},{command:"L",values:[0,0]},{command:"L",values:[l,0]},{command:"L",values:[l,h]},{command:"Z",values:[]}]},fill:i(s,0),stroke:j(s)});break;case"triangle":t.push({shape:{type:"path",path:[{command:"M",values:[0,h]},{command:"L",values:[.5*l,0]},{command:"L",values:[l,h]},{command:"Z",values:[]}]},fill:i(s,0),stroke:j(s)});break;case"cross":t.push({shape:{type:"path",path:[{command:"M",values:[.5*l,0]},{command:"L",values:[.5*l,h]},{command:"M",values:[0,.5*h]},{command:"L",values:[l,.5*h]}]},stroke:$(s)});break;case"x":t.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[l,h]},{command:"M",values:[l,0]},{command:"L",values:[0,h]}]},stroke:$(s)});break;case"kite":t.push({shape:{type:"path",path:[{command:"M",values:[0,.5*h]},{command:"L",values:[.5*l,0]},{command:"L",values:[l,.5*h]},{command:"L",values:[.5*l,h]},{command:"Z",values:[]}]},fill:i(s,0),stroke:j(s)})}break}case"object":switch(s.resource&&s.resource.primitive||rs.S){case"cone":{const a=I(i(s,0),i(s,-.6),n?z:e),r=(0,d.TE)(e,n);t.push({shape:r[0],fill:a}),t.push({shape:r[1],fill:a});break}case"inverted-cone":{const a=i(s,0),r=I(a,i(s,-.6),e),l=(0,d.DY)(e);t.push({shape:l[0],fill:r}),t.push({shape:l[1],fill:a});break}case"cube":{const a=(0,d.Pc)(e,n);t.push({shape:a[0],fill:i(s,0)}),t.push({shape:a[1],fill:i(s,-.3)}),t.push({shape:a[2],fill:i(s,-.5)});break}case"cylinder":{const a=I(i(s,0),i(s,-.6),n?z:e),r=(0,d.EB)(e,n);t.push({shape:r[0],fill:a}),t.push({shape:r[1],fill:a}),t.push({shape:r[2],fill:i(s,0)});break}case"diamond":{const a=(0,d.XX)(e);t.push({shape:a[0],fill:i(s,-.3)}),t.push({shape:a[1],fill:i(s,0)}),t.push({shape:a[2],fill:i(s,-.3)}),t.push({shape:a[3],fill:i(s,-.7)});break}case"sphere":{const a=I(i(s,0),i(s,-.6));a.x1=0,a.y1=0,a.x2=.25*e,a.y2=.25*e,t.push({shape:{type:"circle",cx:0,cy:0,r:.5*e},fill:a});break}case"tetrahedron":{const a=(0,d.tp)(e);t.push({shape:a[0],fill:i(s,-.3)}),t.push({shape:a[1],fill:i(s,0)}),t.push({shape:a[2],fill:i(s,-.6)});break}}}return t}(f,p,y)))}}),(0,as.as)(l).then(f=>{const c=[];return f.forEach(u=>{u.value?c.push(u.value):u.error&&os.warn("error while building swatchInfo!",u.error)}),(0,w.w)(c,[h,_],{node:e&&e.node,scale:!1,opacity:e&&e.opacity})})}(s,e);case"line-3d":return function ms(s,e){const n=s.symbolLayers,t=[],a=(0,Y.YW)(s),r=R(e),l=(e&&e.maxSize?(0,D.F2)(e.maxSize):null)||T;let h,_=0,m=0;return n.forEach((b,f)=>{if(!b||"line"!==b.type&&"path"!==b.type)return;const c=[];switch(b.type){case"line":{const u=K(b,0);if((0,g.Wi)(u))break;const L=u&&u.width||0;0===f&&(h=L);const p=Math.min(r||L,l),y=0===f?p:r?p*(L/h):p,M=y>X/2?2*y:X;m=Math.max(m,y),_=Math.max(_,M),u.width=y,c.push({shape:{type:"path",path:[{command:"M",values:[0,.5*m]},{command:"L",values:[_,.5*m]}]},stroke:u});break}case"path":{const u=Math.min(r||C,l),L=i(b,0),p=i(b,-.2),y=Q(b,-.4),M=y?{color:y,width:1}:{};if("quad"===b.profile){const v=b.width,P=b.height,O=(0,d.eb)(v&&P?v/P:1,0===P,0===v),k=es(Z({},M),{join:"bevel"});c.push({shape:O[0],fill:p,stroke:k}),c.push({shape:O[1],fill:p,stroke:k}),c.push({shape:O[2],fill:L,stroke:k})}else c.push({shape:d.JZ.pathSymbol3DLayer[0],fill:p,stroke:M}),c.push({shape:d.JZ.pathSymbol3DLayer[1],fill:L,stroke:M});m=Math.max(m,u),_=m}}t.push(c)}),Promise.resolve((0,w.w)(t,[_,m],{node:e&&e.node,scale:a,opacity:e&&e.opacity}))}(s,e);case"polygon-3d":case"mesh-3d":return function ys(s,e){return F.apply(this,arguments)}(s,e)}return Promise.reject(new V.Z("symbolPreview: swatchInfo3D","symbol not supported."))}}}]);