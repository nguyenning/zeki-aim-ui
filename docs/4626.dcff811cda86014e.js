"use strict";var K=Object.defineProperty,Q=Object.defineProperties,k=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,H=(h,d,n)=>d in h?K(h,d,{enumerable:!0,configurable:!0,writable:!0,value:n}):h[d]=n,V=(h,d)=>{for(var n in d||(d={}))q.call(d,n)&&H(h,n,d[n]);if(D)for(var n of D(d))_.call(d,n)&&H(h,n,d[n]);return h},X=(h,d)=>Q(h,k(d));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[4626],{40405:(h,d,n)=>{n.d(d,{B:()=>Z});var j=n(15861),i=n(62208),M=n(22558),b=n(21726),N=n(35948),T=n(34117),a=n(31283),p=n(77712);function I(e){return O[function G(e){return e instanceof Blob?e.type:function Y(e){const y=(0,b.Ml)(e);return P[y]||L}(e.url)}(e)]||v}const O={},L="text/plain",v=O[L],P={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"};for(const e in P)O[P[e]]=e;var C=n(29840);function Z(e){const y=(0,i.pC)(e)&&e.origins?e.origins:[void 0];return(r,u)=>{const t=function z(e,y,r){if((0,i.pC)(e)&&"resource"===e.type)return function A(e,y,r){const u=(0,T.VZ)(y,r);return{type:String,read:(t,s,l)=>{const o=(0,C.r)(t,s,l);return u.type===String?o:"function"==typeof u.type?new u.type({url:o}):void 0},write:{writer(t,s,l,o){if(!o||!o.resources)return"string"==typeof t?void(s[l]=(0,C.t)(t,o)):void(s[l]=t.write({},o));const f=function F(e){return(0,i.Wi)(e)?null:"string"==typeof e?e:e.url}(t),g=f?(0,C.t)(f,X(V({},o),{verifyItemRelativeUrls:o&&o.verifyItemRelativeUrls?{writtenUrls:o.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null}),C.M.NO):null,m=u.type!==String&&(!(0,M.l)(this)||o&&o.origin&&this.originIdOf(r)>(0,a.M9)(o.origin));o&&o.portalItem&&(0,i.pC)(g)&&!(0,b.YP)(g)?m?function W(e,y,r,u,t,s,l,o){const f=l.portalItem.resourceFromPath(u),g=S(r,u,l);I(g)===(0,b.Ml)(f.path)?(w(e,y,f,g,l.resources.toUpdate),t[s]=u):x(e,y,r,u,t,s,l,o)}(this,r,t,g,s,l,o,e):function R(e,y,r,u){u.resources.toKeep.push({resource:u.portalItem.resourceFromPath(e)}),y[r]=e}(g,s,l,o):o&&o.portalItem&&((0,i.Wi)(g)||(0,i.pC)((0,C.i)(g))||(0,b.jc)(g)||m)?x(this,r,t,g,s,l,o,e):s[l]=g}}}}(e,y,r);switch((0,i.pC)(e)&&e.type?e.type:"other"){case"other":return{read:!0,write:!0};case"url":{const{read:u,write:t}=C.p;return{read:u,write:t}}}}(e,r,u);for(const s of y){const l=(0,p.CJ)(r,s,u);for(const o in t)l[o]=t[o]}}}function x(e,y,r,u,t,s,l,o){const f=(0,N.D)(),g=S(r,u,l),m=(0,b.v_)((0,i.U2)(o,"prefix"),f),$=`${m}.${I(g)}`,U=l.portalItem.resourceFromPath($);(0,b.jc)(u)&&l.resources.pendingOperations.push(function c(e){return E.apply(this,arguments)}(u).then(B=>{U.path=`${m}.${I(B)}`,t[s]=U.itemRelativeUrl}).catch(()=>{})),w(e,y,U,g,l.resources.toAdd),t[s]=U.itemRelativeUrl}function w(e,y,r,u,t){t.push({resource:r,content:u,finish:s=>{!function J(e,y,r){"string"==typeof e[y]?e[y]=r.url:e[y].url=r.url}(e,y,s)}})}function S(e,y,r){return"string"==typeof e?{url:y}:new Blob([JSON.stringify(e.toJSON(r))],{type:"application/json"})}function E(){return(E=(0,j.Z)(function*(e){const y=(yield Promise.resolve().then(n.bind(n,84792))).default,{data:r}=yield y(e,{responseType:"blob"});return r})).apply(this,arguments)}},22558:(h,d,n)=>{function j(i){return i&&"getAtOrigin"in i&&"originOf"in i}n.d(d,{l:()=>j})},80756:(h,d,n)=>{n.r(d),n.d(d,{default:()=>u});var j=n(15861),i=n(17626),M=n(14517),b=n(79608),N=n(61996),T=n(86810),a=n(62208),p=n(77712),O=(n(85931),n(8314),n(90912),n(76898));let L=0,v=class extends((0,T.eC)((0,b.J)((0,N.IG)(M.Z)))){constructor(t){super(t),this.id=`${Date.now().toString(16)}-analysis-${L++}`,this.title=null}get parent(){return this._get("parent")}set parent(t){const s=this.parent;if((0,a.pC)(s))switch(s.type){case"line-of-sight":s.removeAnalysis(this);break;case"2d":case"3d":s.analyses.includes(this)&&s.analyses.remove(this)}this._set("parent",t)}get isEditable(){return this.requiredPropertiesForEditing.every(a.pC)}};(0,i._)([(0,p.Cb)({type:String,constructOnly:!0,clonable:!1})],v.prototype,"id",void 0),(0,i._)([(0,p.Cb)({type:String})],v.prototype,"title",void 0),(0,i._)([(0,p.Cb)({constructOnly:!0})],v.prototype,"type",void 0),(0,i._)([(0,p.Cb)({clonable:!1,value:null})],v.prototype,"parent",null),(0,i._)([(0,p.Cb)({readOnly:!0})],v.prototype,"extent",void 0),(0,i._)([(0,p.Cb)({readOnly:!0})],v.prototype,"isEditable",null),(0,i._)([(0,p.Cb)({readOnly:!0})],v.prototype,"requiredPropertiesForEditing",void 0),(0,i._)([(0,p.Cb)({readOnly:!0})],v.prototype,"nonEditableMessage",void 0),v=(0,i._)([(0,O.j)("esri.analysis.Analysis")],v);const P=v;var C=n(61642),Z=n(57574),z=n(46160),A=n(89726),x=n(32917),W=n(55915),R=n(5548),w=n(60507);const S=z.Z.ofType(Z.Z);let c=class extends P{constructor(t){super(t),this.type="line-of-sight",this.observer=null,this.extent=null,this.nonEditableMessage="Assign an observer location to the analysis to allow editing."}initialize(){this.own((0,x.YP)(()=>this._computeExtent(),t=>{((0,a.Wi)(t)||(0,a.Wi)(t.pending))&&this._set("extent",(0,a.pC)(t)?t.extent:null)},x.tX))}get targets(){return this._get("targets")||new S}set targets(t){this._set("targets",(0,A.Z)(t,this.targets,S))}get spatialReference(){return(0,a.pC)(this.observer)&&(0,a.pC)(this.observer.position)?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[(0,a.yw)(this.observer,t=>t.position)]}waitComputeExtent(){var t=this;return(0,j.Z)(function*(){const s=t._computeExtent();return(0,a.pC)(s)?(0,a.Wg)(s.pending):null})()}_computeExtent(){const t=this.spatialReference;if((0,a.Wi)(this.observer)||(0,a.Wi)(this.observer.position)||(0,a.Wi)(t))return null;const s=g=>"absolute-height"===(0,w.VW)(g.position,g.elevationInfo),l=this.observer.position,o=(0,R.al)(l.x,l.y,l.z,l.x,l.y,l.z);for(const g of this.targets)if((0,a.pC)(g.position)){const m=(0,W.dz)(g.position,t);if((0,a.pC)(m.pending))return{pending:m.pending,extent:null};if((0,a.pC)(m.geometry)){const{x:$,y:U,z:B}=m.geometry;(0,R.pp)(o,[$,U,B])}}const f=(0,R.HH)(o,t);return s(this.observer)&&this.targets.every(s)||(f.zmin=null,f.zmax=null),{pending:null,extent:f}}clear(){this.observer=null,this.targets.removeAll()}};(0,i._)([(0,p.Cb)({type:["line-of-sight"]})],c.prototype,"type",void 0),(0,i._)([(0,p.Cb)({type:C.Z,json:{read:!0,write:!0}})],c.prototype,"observer",void 0),(0,i._)([(0,p.Cb)({cast:A.R,type:S,nonNullable:!0,json:{read:!0,write:!0}})],c.prototype,"targets",null),(0,i._)([(0,p.Cb)({value:null,readOnly:!0})],c.prototype,"extent",void 0),(0,i._)([(0,p.Cb)({readOnly:!0})],c.prototype,"spatialReference",null),(0,i._)([(0,p.Cb)({readOnly:!0})],c.prototype,"requiredPropertiesForEditing",null),(0,i._)([(0,p.Cb)({readOnly:!0})],c.prototype,"nonEditableMessage",void 0),c=(0,i._)([(0,O.j)("esri.analysis.LineOfSightAnalysis")],c);const E=c;var F=n(99959),J=n(44917),e=n(49286);const y=z.Z.ofType(Z.Z);let r=class extends((0,e.q)((0,F.R)(J.Z))){constructor(t){super(t),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new E,this.opacity=1}initialize(){this.own((0,x.YP)(()=>this.analysis,(t,s)=>{(0,a.pC)(s)&&s.parent===this&&(s.parent=null),(0,a.pC)(t)&&(t.parent=this)},x.tX))}load(){var t=this;return(0,j.Z)(function*(){return(0,a.pC)(t.analysis)&&t.addResolvingPromise(t.analysis.waitComputeExtent()),t})()}get observer(){return(0,a.yw)(this.analysis,t=>t.observer)}set observer(t){(0,a.yw)(this.analysis,s=>s.observer=t)}get targets(){return(0,a.pC)(this.analysis)?this.analysis.targets:null}set targets(t){(0,a.yw)(this.analysis,s=>s.targets=t)}get fullExtent(){return(0,a.pC)(this.analysis)?this.analysis.extent:null}get spatialReference(){return(0,a.pC)(this.analysis)?this.analysis.spatialReference:null}removeAnalysis(t){this.analysis===t&&(this.analysis=new E)}};(0,i._)([(0,p.Cb)({json:{read:!1},readOnly:!0})],r.prototype,"type",void 0),(0,i._)([(0,p.Cb)({type:["LineOfSightLayer"]})],r.prototype,"operationalLayerType",void 0),(0,i._)([(0,p.Cb)({type:C.Z,json:{read:!0,write:{ignoreOrigin:!0}}})],r.prototype,"observer",null),(0,i._)([(0,p.Cb)({type:y,json:{read:!0,write:{ignoreOrigin:!0}}})],r.prototype,"targets",null),(0,i._)([(0,p.Cb)({nonNullable:!0,json:{read:!1,write:!1}})],r.prototype,"analysis",void 0),(0,i._)([(0,p.Cb)({readOnly:!0})],r.prototype,"fullExtent",null),(0,i._)([(0,p.Cb)({readOnly:!0})],r.prototype,"spatialReference",null),(0,i._)([(0,p.Cb)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],r.prototype,"opacity",void 0),(0,i._)([(0,p.Cb)({type:["show","hide"]})],r.prototype,"listMode",void 0),r=(0,i._)([(0,O.j)("esri.layers.LineOfSightLayer")],r);const u=r}}]);