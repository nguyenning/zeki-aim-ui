"use strict";var yn=Object.defineProperty,Un=Object.defineProperties,Ln=Object.getOwnPropertyDescriptors,Jt=Object.getOwnPropertySymbols,Sn=Object.prototype.hasOwnProperty,jn=Object.prototype.propertyIsEnumerable,Qt=(F,W,r)=>W in F?yn(F,W,{enumerable:!0,configurable:!0,writable:!0,value:r}):F[W]=r,At=(F,W)=>{for(var r in W||(W={}))Sn.call(W,r)&&Qt(F,r,W[r]);if(Jt)for(var r of Jt(W))jn.call(W,r)&&Qt(F,r,W[r]);return F},Nt=(F,W)=>Un(F,Ln(W));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[6298],{25706:(F,W,r)=>{r.d(W,{Z:()=>U});var K=r(17626),Y=(r(29132),r(79608)),j=r(23719),H=r(86810),D=r(62208),B=r(77712),E=r(66656),J=(r(85931),r(76898)),e=r(90912),A=r(128),tt=r(72642);let w=class extends((0,Y.J)(H.wq)){constructor(L){super(L),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(L){return this.heading===L.heading&&this.tilt===L.tilt&&(0,D._W)(this.position,L.position)&&this.width===L.width&&this.height===L.height}};(0,K._)([(0,B.Cb)({readOnly:!0,json:{read:!1,write:!0}})],w.prototype,"type",void 0),(0,K._)([(0,B.Cb)({type:tt.Z}),(0,A.B)()],w.prototype,"position",void 0),(0,K._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,A.B)(),(0,E.p)(L=>j.BV.normalize((0,e.q9)(L),0,!0))],w.prototype,"heading",void 0),(0,K._)([(0,B.Cb)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,A.B)(),(0,E.p)(L=>j.BV.normalize((0,e.q9)(L),0,!0))],w.prototype,"tilt",void 0),(0,K._)([(0,B.Cb)({type:Number,nonNullable:!0}),(0,A.B)()],w.prototype,"width",void 0),(0,K._)([(0,B.Cb)({type:Number,nonNullable:!0}),(0,A.B)()],w.prototype,"height",void 0),w=(0,K._)([(0,J.j)("esri.analysis.SlicePlane")],w);const U=w},30750:(F,W,r)=>{r.d(W,{S:()=>E,b:()=>B});var K=r(2166),G=r(69960),Y=r(65787),j=r(17625),H=r(22355),D=r(16396);function B(C){const J=new H.kG;J.extensions.add("GL_OES_standard_derivatives");const{vertex:e,fragment:A,attributes:tt,varyings:w}=J;return(0,K.Sv)(e,C),tt.add(D.T.POSITION,"vec3"),tt.add(D.T.UV0,"vec2"),w.add("vUV","vec2"),e.code.add(j.H`void main(void) {
vUV = uv0;
gl_Position = proj * view * vec4(position, 1.0);
}`),A.uniforms.add([new G.N("backgroundColor",U=>U.backgroundColor),new G.N("gridColor",U=>U.gridColor),new Y.p("gridWidth",U=>U.gridWidth)]),A.code.add(j.H`void main() {
const float LINE_WIDTH = 1.0;
vec2 uvScaled = vUV * gridWidth;
vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);
grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);
float gridFade = max(grid.x, grid.y);
float gridAlpha = gridColor.a * gridFade;
gl_FragColor =
vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
vec4(gridColor.rgb, 1.0) * gridAlpha;
}`),J}const E=Object.freeze(Object.defineProperty({__proto__:null,build:B},Symbol.toStringTag,{value:"Module"}))},128:(F,W,r)=>{r.d(W,{B:()=>J});var K=r(15861),G=r(22558),Y=r(21726),j=r(35948),H=r(34117),D=r(31283),B=r(77712),E=r(61556),C=r(29840);function J(g){var f;const v=null!=(f=null==g?void 0:g.origins)?f:[void 0];return(R,T)=>{const b=function e(g,v,f){var R;if("resource"===(null==g?void 0:g.type))return function A(g,v,f){const R=(0,H.Oe)(v,f);return{type:String,read:(T,b,V)=>{const h=(0,C.r)(T,b,V);return R.type===String?h:"function"==typeof R.type?new R.type({url:h}):void 0},write:{writer(T,b,V,h){if(!h||!h.resources)return"string"==typeof T?void(b[V]=(0,C.t)(T,h)):void(b[V]=T.write({},h));const y=function p(g){return null==g?null:"string"==typeof g?g:g.url}(T),z=(0,C.t)(y,Nt(At({},h),{verifyItemRelativeUrls:h&&h.verifyItemRelativeUrls?{writtenUrls:h.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0}),C.M.NO),nt=R.type!==String&&(!(0,G.l)(this)||h&&h.origin&&this.originIdOf(f)>(0,D.M9)(h.origin)),k={object:this,propertyName:f,value:T,targetUrl:z,dest:b,targetPropertyName:V,context:h,params:g};h&&h.portalItem&&z&&!(0,Y.YP)(z)?nt?function w(g){var st;const{context:v,targetUrl:f,params:R,value:T,dest:b,targetPropertyName:V}=g;if(!v.portalItem)return;const h=v.portalItem.resourceFromPath(f),y=rt(T,f,v),z=(0,E.B)(y),nt=(0,Y.Ml)(h.path),k=null!=(st=null==R?void 0:R.compress)&&st;z===nt?(v.resources&&L(Nt(At({},g),{resource:h,content:y,compress:k,updates:v.resources.toUpdate})),b[V]=f):tt(g)}(k):function U({context:g,targetUrl:v,dest:f,targetPropertyName:R}){g.portalItem&&g.resources&&(g.resources.toKeep.push({resource:g.portalItem.resourceFromPath(v),compress:!1}),f[R]=v)}(k):h&&h.portalItem&&(null==z||null!=(0,C.i)(z)||(0,Y.jc)(z)||nt)?tt(k):b[V]=z}}}}(g,v,f);switch(null!=(R=null==g?void 0:g.type)?R:"other"){case"other":return{read:!0,write:!0};case"url":{const{read:T,write:b}=C.a;return{read:T,write:b}}}}(g,R,T);for(const V of v){const h=(0,B.CJ)(R,V,T);for(const y in b)h[y]=b[y]}}}function tt(g){var ut,gt,ht;const{targetUrl:v,params:f,value:R,context:T,dest:b,targetPropertyName:V}=g;if(!T.portalItem)return;const h=(0,C.p)(v),y=null!=(ut=null==h?void 0:h.filename)?ut:(0,j.D)(),z=null!=(gt=null==f?void 0:f.prefix)?gt:null==h?void 0:h.prefix,nt=rt(R,v,T),k=(0,Y.v_)(z,y),st=`${k}.${(0,E.B)(nt)}`,at=T.portalItem.resourceFromPath(st);(0,Y.jc)(v)&&T.resources&&T.resources.pendingOperations.push(function mt(g){return u.apply(this,arguments)}(v).then(Ot=>{at.path=`${k}.${(0,E.B)(Ot)}`,b[V]=at.itemRelativeUrl}).catch(()=>{}));const Mt=null!=(ht=null==f?void 0:f.compress)&&ht;T.resources&&L(Nt(At({},g),{resource:at,content:nt,compress:Mt,updates:T.resources.toAdd})),b[V]=at.itemRelativeUrl}function L({object:g,propertyName:v,updates:f,resource:R,content:T,compress:b}){f.push({resource:R,content:T,compress:b,finish:V=>{!function Et(g,v,f){"string"==typeof g[v]?g[v]=f.url:g[v].url=f.url}(g,v,V)}})}function rt(g,v,f){return"string"==typeof g?{url:v}:new Blob([JSON.stringify(g.toJSON(f))],{type:"application/json"})}function u(){return(u=(0,K.Z)(function*(g){const v=(yield Promise.resolve().then(r.bind(r,84792))).default,{data:f}=yield v(g,{responseType:"blob"});return f})).apply(this,arguments)}},22558:(F,W,r)=>{function K(G){return G&&"getAtOrigin"in G&&"originOf"in G}r.d(W,{l:()=>K})},61556:(F,W,r)=>{r.d(W,{B:()=>G});var K=r(21726);function G(C){return H[function Y(C){return C instanceof Blob?C.type:function j(C){const J=(0,K.Ml)(C);return E[J]||D}(C.url)}(C)]||B}const H={},D="text/plain",B=H[D],E={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const C in E)H[E[C]]=C},2589:(F,W,r)=>{r.d(W,{A:()=>g,Ck:()=>A,DG:()=>Ot,Fj:()=>U,GI:()=>D,Lj:()=>Mt,MO:()=>at,MP:()=>xt,N3:()=>J,Ox:()=>h,SV:()=>tt,Vj:()=>w,Wg:()=>st,X3:()=>T,ZE:()=>f,a$:()=>nt,am:()=>B,cU:()=>R,fe:()=>E,go:()=>e,hf:()=>p,kM:()=>y,kq:()=>u,lY:()=>v,nw:()=>b,on:()=>k,q7:()=>mt,q_:()=>V,t:()=>gt,tW:()=>H,uT:()=>ht,vh:()=>z,wk:()=>Et,xJ:()=>C,zI:()=>ut});var K=r(8314),G=r(21286),Y=r(28093),j=r(4794);const H=(0,K.Z)("mac")?"Meta":"Control",D="Shift",B=2,E=1.15,C=1.15,J=2500,e=.02,A=Math.cos((0,G.Vl)(45)),tt=Math.cos((0,G.Vl)(5)),w=.95,U=.3,rt=(0,Y.f)(1,.5,0),mt=2,u=1,p=(0,j.b)([...rt,.7]),Et=[0,0,0,.04],g=(0,j.b)([...rt,.5]),v=(0,j.f)(1,1,1,1),f=(0,j.f)(1,.8,.6,1),R=(0,j.f)(1,.93,.86,1),T=(0,j.b)([...rt,1]),b=(0,j.b)([...rt,1]),V=3,h=11,y=22.5,z=40,nt=48,k=2.25,st=(0,j.b)([...rt,1]),at=4,Mt=1,ut=.3,gt=6,ht=4,Ot=1600,xt=.4},96298:(F,W,r)=>{r.d(W,{do:()=>et,Df:()=>It,lX:()=>Ct,aZ:()=>Tt,ww:()=>it,zY:()=>hn,Lw:()=>_t,fT:()=>un,R_:()=>In,i3:()=>Tn,j6:()=>an,vw:()=>Cn,Ju:()=>Pn,Rd:()=>pn,Pt:()=>On,TA:()=>gn,J0:()=>yt,lR:()=>_n,Hq:()=>bn,m3:()=>Zt,oP:()=>Xt,Sc:()=>Lt,vc:()=>Yt,Q3:()=>dn,EC:()=>mn,A5:()=>En,wj:()=>Mn,tF:()=>fn}),r(29132);var G=r(25706),j=(r(8314),r(63290)),H=r(21286),D=r(62208),B=r(23841),E=r(28347),C=r(43703),J=r(48977),e=r(84161),A=r(28093),tt=r(55915),w=r(78172),U=r(41743),L=r(90014),rt=r(70562),mt=r(34054),u=r(26242),p=r(2589),Et=r(54865),g=r(45403),v=r(19142),f=r(40345),R=r(87469),T=r(993),b=r(4794),V=r(53928),h=r(57521),y=r(40723),z=r(13934),nt=r(87601),k=r(60881),st=r(5894),at=r(2770),Mt=r(66131),ut=r(15842),gt=r(17625),ht=r(651),Ot=r(91056),xt=r(39114),$t=r(12407),kt=r(30750),Pt=r(67969),Bt=r(2078);class qt extends gt.K{constructor(){super(...arguments),this.backgroundColor=(0,b.f)(1,0,0,.5),this.gridColor=(0,b.f)(0,1,0,.5),this.gridWidth=4}}class Dt extends Ot.A{initializeProgram(n){return new $t.$(n.rctx,Dt.shader.get().build(this.configuration),xt.i)}initializePipeline(){return(0,Bt.sm)({blending:(0,Bt.wK)(Pt.zi.ONE,Pt.zi.ONE,Pt.zi.ONE_MINUS_SRC_ALPHA,Pt.zi.ONE_MINUS_SRC_ALPHA),depthTest:{func:Pt.wb.LESS},colorWrite:Bt.BK})}}Dt.shader=new ht.J(kt.S,()=>r.e(5175).then(r.bind(r,15175)));class tn extends ut.c{constructor(n){super(n,new rn),this._configuration=new nt.m}createBufferWriter(){return new at.G(Mt.W1)}requiresSlot(n,i){return i===z.H.Color&&n===st.r.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL}createGLMaterial(n){return new nn(n)}getConfiguration(){return this._configuration}}class nn extends k.Z{constructor(n){super(n),this.ensureTechnique(Dt,null)}beginSlot(){return(0,D.Wg)(this.technique)}}class rn extends qt{constructor(){super(...arguments),this.renderOccluded=y.yD.Occlude}}class en extends V._{constructor(n){super(n),this._material=null,this._renderOccluded=y.yD.OccludeAndTransparent,this._gridWidth=1,this._gridColor=(0,b.f)(1,0,0,1),this._backgroundColor=(0,b.f)(1,0,0,1),this.applyProps(n)}get renderOccluded(){return this._renderOccluded}set renderOccluded(n){n!==this._renderOccluded&&(this._renderOccluded=n,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(n){this._gridWidth!==n&&(this._gridWidth=n,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(n){(0,T.c)(this._gridColor,n),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(n){(0,T.c)(this._backgroundColor,n),this._updateMaterial()}createExternalResources(){this._material=new tn(this._materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(n){(0,D.pC)(this._material)&&n(this._material)}createGeometries(n){if((0,D.pC)(this._material)){const i=(0,h.g7)(this._material);n.addGeometry(i)}}get _materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded}}_updateMaterial(){(0,D.pC)(this._material)&&this._material.setParameters(this._materialParameters)}}var ot,t,Ft=r(13986),on=r(26046),bt=r(42743),Rt=r(92972),Gt=r(49580),sn=r(92222),q=r(33786);function an(t,n,i,s,l,c,a,d){return function ln(t,n,i,s,l,c){const a=(0,e.e)(t,n),d=u.WM.get(),m=u.WM.get();switch(s===it.HORIZONTAL_OR_VERTICAL?Math.abs(a)>p.Ck?it.HORIZONTAL:it.VERTICAL:s){case it.VERTICAL:{const M=Math.abs(a)<=p.SV?t:i.viewUp;(0,e.f)(d,M,n),(0,e.c)(m,n);break}case it.HORIZONTAL:(0,e.f)(d,i.viewUp,n),(0,e.f)(m,n,d);break;case it.TILTED:{const M=Math.abs(a)<=p.SV?n:i.viewUp;(0,e.f)(d,M,t),(0,e.f)(m,t,d);break}}const P=(0,e.f)(u.WM.get(),d,m);(0,e.e)(P,i.viewForward)>0&&(0,e.g)(m,m,-1),(0,e.n)(l,d),(0,e.n)(c,m)}(n,a.worldUpAtPosition(t,u.WM.get()),l,c,d.basis1,d.basis2),(0,e.g)(d.basis1,d.basis1,i),(0,e.g)(d.basis2,d.basis2,s),(0,e.c)(d.origin,t),(0,L.my)(d.basis2,d.basis1,d.origin,d.plane),d}function dn(t,n,i,s,l,c){const a=(0,e.c)(u.WM.get(),l.origin);(0,e.a)(a,a,(0,e.g)(u.WM.get(),l.basis1,t.direction[0]<0?1:-1)),(0,e.a)(a,a,(0,e.g)(u.WM.get(),l.basis2,t.direction[1]<0?1:-1));const d=(0,e.l)(l.basis1),m=(0,e.l)(l.basis2),P=(0,e.b)(u.WM.get(),i,a),M=(0,e.b)(u.WM.get(),n,a);let O=0,N=0;if(yt(t)){const St=_t(l),ct=_t(c);O=d-.5*t.direction[0]*(0,e.e)(l.basis1,M)/d,N=m-.5*t.direction[1]*(0,e.e)(l.basis2,M)/m;const ft=ct/St;O*=ft,N*=ft}const Z=O+.5*t.direction[0]*(0,e.e)(l.basis1,P)/d,Q=N+.5*t.direction[1]*(0,e.e)(l.basis2,P)/m,x=(0,e.g)(u.WM.get(),l.basis1,Z/d),lt=(0,e.g)(u.WM.get(),l.basis2,Q/m);(Z<=0||Ht(c.origin,x,s)<=p.DG)&&(0,e.c)(x,c.basis1),(Q<=0||Ht(c.origin,lt,s)<=p.DG)&&(0,e.c)(lt,c.basis2);const $=(0,e.c)(u.WM.get(),a);return(0,e.a)($,$,(0,e.g)(u.WM.get(),x,t.direction[0]<0?-1:1)),(0,e.a)($,$,(0,e.g)(u.WM.get(),lt,t.direction[1]<0?-1:1)),(0,U.f)($,x,lt,c)}function un(t,n){return p.MP*Math.min(n.width,n.height)*n.computeRenderPixelSizeAt(t)}function gn(t,n,i,s){const l=(0,e.f)(u.WM.get(),n,i);return(0,e.f)(l,l,n),(0,L.Yq)(t,l,s)}function hn(t,n){return(0,v.Aq)(t.basis1,t.basis2,t.origin,n)}function pn(t,n,i,s){const l=n.worldUpAtPosition(t.origin,u.WM.get()),c=u.WM.get();switch(i){case Tt.HEADING:(0,e.c)(c,l);break;case Tt.TILT:(0,e.c)(c,t.basis1)}return(0,L.Yq)(t.origin,c,s)}function fn(t,n,i,s){const l=Vt(i,ot.NEGATIVE_X),c=u.MP.get();(0,E.o)(c,n,l.edge*Math.PI/2);const a=(0,e.n)(u.WM.get(),l.basis);let d=(0,e.g)(u.WM.get(),a,l.direction*s.computeScreenPixelSizeAt(l.position)*p.vh);(0,e.a)(d,d,l.position);const m=s.projectToRenderScreen(d,(0,B.Wv)(u.WM.get())),P=function vn(t,n){const[i,s,l,c]=t.viewport,a=Math.min(l,c)/16;let d=!0;return n[0]<i+a?(n[0]=i+a,d=!1):n[0]>i+l-a&&(n[0]=i+l-a,d=!1),n[1]<s+a?(n[1]=s+a,d=!1):n[1]>s+c-a&&(n[1]=s+c-a,d=!1),d}(s,m);(0,on.Bh)(s,m,Ut),(0,e.n)(Ut.direction,Ut.direction);const M=u.WM.get();!P&&(0,U.i)(i,Ut,M)&&(d=M),c[12]=0,c[13]=0,c[14]=0,t.modelTransform=c,t.renderLocation=(0,A.a)(d),P?t.state|=It:t.state&=~It}function mn(t,n,i,s){const l=(0,e.l)(s.basis1),c=(0,e.l)(s.basis2),a=zt(s),d=_t(s),m=(0,e.s)(u.WM.get(),0,0,0);(0,e.a)(m,(0,e.g)(u.WM.get(),s.basis1,n.direction[0]),(0,e.g)(u.WM.get(),s.basis2,n.direction[1])),(0,e.a)(m,s.origin,m);let P=0,M=1;if(yt(n))1===n.direction[0]&&-1===n.direction[1]?P=pt:1===n.direction[0]&&1===n.direction[1]?P=Math.PI:-1===n.direction[0]&&1===n.direction[1]&&(P=3*Math.PI/2),M=d;else{const N=0!==n.direction[0]?1:2;P=1===N?pt:0,M=(1===N?c:l)-a}const O=(0,E.b)(u.MP.get(),P);(0,E.k)(O,O,(0,e.s)(u.WM.get(),M,M,M)),(0,E.m)(O,i,O),O[12]=0,O[13]=0,O[14]=0,t.modelTransform=O,t.renderLocation=m}function En(t,n,i,s){const l=s.worldUpAtPosition(i.origin,u.WM.get()),c=Vt(i,ot.POSITIVE_X),a=(0,E.b)(u.MP.get(),c.edge*Math.PI/2);(0,E.r)(a,a,-Kt(i,l)),(0,E.m)(a,n,a),a[12]=0,a[13]=0,a[14]=0,t.modelTransform=a,t.renderLocation=c.position}function Mn(t,n,i){const s=Vt(i,ot.POSITIVE_Y),l=(0,E.b)(u.MP.get(),s.edge*Math.PI/2);(0,E.r)(l,l,pt),(0,E.m)(l,n,l),l[12]=0,l[13]=0,l[14]=0,t.modelTransform=l,t.renderLocation=s.position}function Vt(t,n){switch(n){case ot.POSITIVE_X:return{basis:t.basis1,direction:1,position:(0,e.a)(u.WM.get(),t.origin,t.basis1),edge:n};case ot.POSITIVE_Y:return{basis:t.basis2,direction:1,position:(0,e.a)(u.WM.get(),t.origin,t.basis2),edge:n};case ot.NEGATIVE_X:return{basis:t.basis1,direction:-1,position:(0,e.b)(u.WM.get(),t.origin,t.basis1),edge:n};case ot.NEGATIVE_Y:return{basis:t.basis2,direction:-1,position:(0,e.b)(u.WM.get(),t.origin,t.basis2),edge:n}}}function Ht(t,n,i){const s=i.projectToRenderScreen((0,e.a)(u.WM.get(),t,n),(0,B.Wv)(u.WM.get())),l=i.projectToRenderScreen((0,e.b)(u.WM.get(),t,n),(0,B.Wv)(u.WM.get()));return(0,e.p)((0,e.b)(s,s,l))}function zt(t){const n=(0,e.l)(t.basis1),i=(0,e.l)(t.basis2);return p.zI*Math.min(n,i)}function _t(t){return zt(t)}function yt(t){return 0!==t.direction[0]&&0!==t.direction[1]}function On(t,n=Ct.CENTER_ON_ARROW){const i=n===Ct.CENTER_ON_CALLOUT?p.vh:0,s=[(0,A.f)(i,0,-p.a$/2),(0,A.f)(i,0,p.a$/2)],l=function Dn(t,n){const i=(0,e.b)((0,A.c)(),t[t.length-1],t[t.length-2]);if((0,e.n)(i,i),(0,e.g)(i,i,p.kM),(0,e.a)(i,i,t[t.length-1]),n){const s=(0,e.b)((0,A.c)(),t[0],t[1]);return(0,e.n)(s,s),(0,e.g)(s,s,p.kM),(0,e.a)(s,s,t[0]),[s,...t,i]}return[...t,i]}(s,!0),c=(O,N)=>function Wn(t,n,i){const s=new Rt.E({color:p.lY,cullFace:bt.Vr.Back,renderOccluded:y.yD.Opaque}),l=new Rt.E({color:p.ZE,cullFace:bt.Vr.Back,renderOccluded:y.yD.Opaque}),c=new Rt.E({color:p.cU,cullFace:bt.Vr.Back,renderOccluded:y.yD.Opaque}),a=new Rt.E({color:p.nw,transparent:!0,writeDepth:!1,cullFace:bt.Vr.Front,renderOccluded:y.yD.Transparent}),d=m=>{t=t.slice(0);const P=(0,e.b)(u.WM.get(),t[0],t[1]);(0,e.n)(P,P);const M=(0,e.b)(u.WM.get(),t[t.length-1],t[t.length-2]);if((0,e.n)(M,M),n>0){const Wt=(0,e.g)((0,A.c)(),M,-n);t[t.length-1]=(0,e.a)(Wt,Wt,t[t.length-1]);const vt=(0,e.g)((0,A.c)(),P,-n);t[0]=(0,e.a)(vt,vt,t[0])}const O=m?p.xJ:1,N=p.kM*O,Z=p.Ox*O,Q=(0,E.i)(u.MP.get());if(n>0){const Wt=N/4,vt=(0,e.s)(u.WM.get(),0,Wt,0),jt=1+n/Wt;(0,E.w)(Q,Q,vt),(0,E.k)(Q,Q,(0,e.s)(u.WM.get(),jt,jt,jt)),(0,E.w)(Q,Q,(0,e.g)(vt,vt,-1/jt))}const x=(0,E.i)((0,C.c)()),lt=(0,A.f)(0,1,0),$=(0,E.F)((0,C.c)(),(0,J.r)(u.vD.get(),lt,M));$[12]=t[t.length-1][0],$[13]=t[t.length-1][1],$[14]=t[t.length-1][2],(0,E.m)($,$,Q);const St=function An(t,n,i){const s=[];for(let c=0;c<12;c++){const a=c/12*2*Math.PI;s.push([Math.cos(a)*t,Math.sin(a)*t])}return(0,h.x2)(i,s,n,[],[],!1)}(p.q_*(m?p.fe:1)+n,t,i?a:c);St.transformation=x;const ct=[St],ft=(0,h.QL)(i?a:s,N,Z,24,!1,!1,!0);ft.transformation=$,ct.push(ft);const wt=(0,h.QL)(i?a:l,N,Z,24,!1,!0,!1);wt.transformation=$,ct.push(wt);const dt=(0,E.F)((0,C.c)(),(0,J.r)(u.vD.get(),lt,P));return dt[12]=t[0][0],dt[13]=t[0][1],dt[14]=t[0][2],(0,E.m)(dt,dt,Q),ct.push(ft.instantiate({transformation:dt})),ct.push(wt.instantiate({transformation:dt})),ct};return{normal:d(!1),focused:d(!0)}}(s,O,N),a=c(0,!1),d=c(p.on,!0),m=new Gt.Y({color:p.X3,renderOccluded:y.yD.OccludeAndTransparent}),P=(0,h.rh)(m,[[i,0,0],[i-p.vh,0,0]]),M=(0,h.rh)(m,[[i,0,0],[i-p.vh,0,0]]);return new g.Z({view:t,renderObjects:[...a.normal.map(O=>new f.r(O,q.Q9.Unfocused|et)),...d.normal.map(O=>new f.r(O,q.Q9.Unfocused|et)),new f.r(P,q.Q9.Unfocused|et|It),...a.focused.map(O=>new f.r(O,q.Q9.Focused|et)),...d.focused.map(O=>new f.r(O,q.Q9.Focused|et)),new f.r(M,q.Q9.Focused|et|It)],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[l]},collisionPriority:1,radius:p.Ox,state:et})}function Pn(t,n){const i=(0,v.Ju)(t,{customStateMask:et,texture:n});return i.state=et,i}function Tn(t){return new R.r({view:t,attached:!1,color:p.hf,width:p.kq,writeDepthEnabled:!1,renderOccluded:y.yD.OccludeAndTransparent,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]]})}function In(t){return new en({view:t,attached:!1,backgroundColor:[...p.wk],gridColor:p.A,gridWidth:4,renderOccluded:y.yD.OccludeAndTransparent})}function Cn(t,n){const i=yt(n),s=i?[(0,A.f)(1,0,0),(0,A.f)(0,0,0),(0,A.f)(0,1,0)]:[(0,A.f)(1,0,0),(0,A.f)(-1,0,0)],l=p.Wg,d=i?p.MO:p.Lj,m=d*p.am,P=p.Lj,M=Z=>Z>1?(Z=>new sn.U({color:l,width:Z,renderOccluded:y.yD.OccludeAndTransparent}))(Z):new Gt.Y({color:l,renderOccluded:y.yD.OccludeAndTransparent}),O=[new f.r((0,h.rh)(M(d),s),q.Q9.Unfocused|Lt),new f.r((0,h.rh)(M(m),s),q.Q9.Focused|Lt),new f.r((0,h.rh)(M(P),s),Yt)],N=new g.Z(At({view:t,renderObjects:O,collisionType:{type:"line",paths:[s]},radius:i?p.t:p.uT},v.X9));return N.state=Lt,N}function bn(t,n,i,s=new G.Z){if((0,D.Wi)(t))return null;const{renderCoordsHelper:l}=n,c=l.fromRenderCoords(t.origin,n.spatialReference);if((0,D.Wi)(c))return null;const a=(0,tt.fM)(c,i);if((0,D.Wi)(a))return null;s.position=a;const d=2*(0,e.l)(t.basis1),m=2*(0,e.l)(t.basis2),P=Ft.Z.renderUnitScaleFactor(n.spatialReference,i);s.width=d*P,s.height=m*P;const M=l.worldUpAtPosition(t.origin,u.WM.get());return s.tilt=(0,H.BV)(Kt(t,M)),s.heading=l.headingAtPosition(t.origin,t.basis1)-90,s}function Kt(t,n){return(0,mt.cp)(n,t.basis2,t.basis1)+pt}function Zt(t,n){if((0,D.Wi)(t)||(0,D.Wi)(t.position))return null;const i=(0,Et.G)(t.position,n.spatialReference,n.elevationProvider);if((0,D.Wi)(i))return null;const s=Ft.Z.renderUnitScaleFactor(t.position.spatialReference,n.spatialReference);return{position:i,heading:t.heading,tilt:t.tilt,renderWidth:t.width*s,renderHeight:t.height*s}}function Xt(t,n,i,s=(0,U.a)()){if((0,D.Wi)(t))return null;const l=function Rn(t,n,i,s,l,c,a=(0,U.a)()){return c.toRenderCoords(t,a.origin)?(c.worldBasisAtPosition(a.origin,w.R.X,a.basis1),c.worldBasisAtPosition(a.origin,w.R.Y,a.basis2),(0,L.my)(a.basis2,a.basis1,a.origin,a.plane),(0,U.r)(a,-(0,H.Vl)(n),(0,U.n)(a),a),(0,U.r)(a,(0,H.Vl)(i),a.basis1,a),(0,e.g)(a.basis1,a.basis1,s/2),(0,e.g)(a.basis2,a.basis2,l/2),(0,U.u)(a),a):(j.Z.getLogger("esri.views.3d.analysis.Slice.sliceToolUtils").error(`Failed to project slice plane position, projection from ${t.spatialReference.wkid} is not supported`),null)}(t.position,t.heading,t.tilt,t.renderWidth,t.renderHeight,n.renderCoordsHelper,s);return!i.tiltEnabled&&(0,D.pC)(l)&&function cn(t,n,i){const s=n.worldUpAtPosition(t.origin,u.WM.get()),l=t.basis1,c=Kt(t,s),a=Math.round(c/pt)*pt;(0,U.r)(t,a-c,l,i)}(l,n.renderCoordsHelper,l),l}r(2004),(t=ot||(ot={}))[t.POSITIVE_X=0]="POSITIVE_X",t[t.POSITIVE_Y=1]="POSITIVE_Y",t[t.NEGATIVE_X=2]="NEGATIVE_X",t[t.NEGATIVE_Y=3]="NEGATIVE_Y";const et=q.jg.Custom1;var Tt,it;(function(t){t[t.HEADING=1]="HEADING",t[t.TILT=2]="TILT"})(Tt||(Tt={})),function(t){t[t.HORIZONTAL_OR_VERTICAL=0]="HORIZONTAL_OR_VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL",t[t.VERTICAL=2]="VERTICAL",t[t.TILTED=3]="TILTED"}(it||(it={}));const It=q.jg.Custom2,Ut=(0,rt.Ue)(),pt=Math.PI/2,Lt=q.jg.Custom1,Yt=q.jg.Custom2;var Ct;function _n(t){return(0,D.pC)("building-scene-3d"===t.type?t:null)}!function(t){t[t.CENTER_ON_CALLOUT=0]="CENTER_ON_CALLOUT",t[t.CENTER_ON_ARROW=1]="CENTER_ON_ARROW"}(Ct||(Ct={}))}}]);