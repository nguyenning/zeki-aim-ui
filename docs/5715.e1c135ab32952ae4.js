"use strict";var zt=Object.defineProperty,At=Object.defineProperties,Lt=Object.getOwnPropertyDescriptors,It=Object.getOwnPropertySymbols,jt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable,Ut=(z,W,i)=>W in z?zt(z,W,{enumerable:!0,configurable:!0,writable:!0,value:i}):z[W]=i,ft=(z,W)=>{for(var i in W||(W={}))jt.call(W,i)&&Ut(z,i,W[i]);if(It)for(var i of It(W))Qt.call(W,i)&&Ut(z,i,W[i]);return z},Rt=(z,W)=>At(z,Lt(W));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[5715],{91306:(z,W,i)=>{i.d(W,{T:()=>f,I:()=>Vt});var r=i(17626),B=i(88879),E=i(61885),y=i(80542),Z=i(54024),n=i(62208),g=i(15572),A=i(32917),J=i(16730),s=i(77712),Y=(i(90912),i(85931)),L=i(76898),$=i(51470),k=i(60507),D=(i(29132),i(58817)),q=i(84161),I=i(28093),j=i(72149),K=i(44766),a=i(25748),d=i(37053),l=i(70386),M=i(72642),u=i(72854),v=i(55214),m=i(37118);function x(t,e){const c=new M.Z({x:t[0],y:t[1],spatialReference:e});return t.length>2&&(c.z=t[2]),c}function S(t,e,c){const h=new v.Z({paths:t,spatialReference:e});return c&&(0,a.nc)(h),h}function w(t,e,c,h=!0){const C=(0,D.d9)(t);C.forEach(p=>{(0,Y.fS)(p[0],p[p.length-1])&&1!==p.length||p.push(p[0])});let o=new m.Z({rings:C,spatialReference:e});return o.rings.forEach(p=>{(0,a.bu)(p,!1,!1)||p.reverse()}),c&&(0,a.nc)(o),h&&o.isSelfIntersecting&&(0,d.JY)(e)&&(o=(0,K.simplify)(o)),o}function Q(t,e,c){const h=e.mapToLocalMultiple(t),C=[],o={x:h[0].x,y:h[0].y},p_y=h[1].y,_=Math.round(h[1].x-o.x),O=Math.round(p_y-o.y),b=Math.max(Math.abs(_),Math.abs(O));if(c){const P={x:o.x+b,y:o.y+b},G={x:o.x-b,y:o.y-b};C.push((0,l.Q8)(P.x,G.y),(0,l.Q8)(G.x,G.y),(0,l.Q8)(G.x,P.y),(0,l.Q8)(P.x,P.y))}else{const P={x:_>0?o.x+b:o.x-b,y:O>0?o.y+b:o.y-b};C.push((0,l.Q8)(o.x,o.y),(0,l.Q8)(P.x,o.y),(0,l.Q8)(P.x,P.y),(0,l.Q8)(o.x,P.y))}return ut(w([(0,n.lV)(C.map(P=>e.localToMap(P)))],e.spatialReference,e.doUnnormalization,!0),C,e)}function ut(t,e,c){const h=F(e[3],e[2],c),C=F(e[1],e[2],c),o=F(e[0],e[1],c),p=F(e[0],e[3],c);return{geometry:t,midpoints:(0,n.pC)(h)&&(0,n.pC)(C)&&(0,n.pC)(o)&&(0,n.pC)(p)?{top:h,right:C,bottom:o,left:p}:null}}function F(t,e,c){lt[0]=t.x,lt[1]=t.y,lt[2]=0,pt[0]=e.x,pt[1]=e.y,pt[2]=0,(0,q.h)(lt,lt,pt,.5),dt.x=lt[0],dt.y=pt[1],dt.z=pt[2];const h=c.localToMap(dt);return(0,n.pC)(h)?x(h,c.spatialReference):null}const dt=(0,l.Q8)(0,0,0),lt=(0,I.c)(),pt=(0,I.c)();function Mt(t,e,c,h){const C=e.mapToLocalMultiple(t);let o=null,p=null;if(c)o=C[0],p=C[1];else{const V=C[0],N=C[1],ct=Math.round(N.x-V.x),ht=Math.round(N.y-V.y),X=Math.max(Math.abs(ct),Math.abs(ht));o=(0,l.Q8)(ct>0?V.x+X/2:V.x-X/2,ht>0?V.y+X/2:V.y-X/2),p=(0,l.Q8)(Math.abs(ct)>Math.abs(ht)?o.x-X/2:o.x,Math.abs(ct)>Math.abs(ht)?o.y:o.y-X/2)}const _=e.localToMap(o),O=e.localToMap(p);if((0,n.Wi)(_)||(0,n.Wi)(O))return null;e.doUnnormalization&&(0,a.Sq)([[_,O]],e.spatialReference);const b=x(_,e.spatialReference),P=x(O,e.spatialReference),G=(0,J.c9)(e.spatialReference);let it=0;if((0,d.JY)(e.spatialReference))it=G*(0,K.distance)(b,P,null);else{const V=o.x-p.x,N=o.y-p.y;it=G*Math.sqrt(V*V+N*N)*(h||1)}const vt=new j.Z({center:b,radius:it,radiusUnit:"meters",spatialReference:e.spatialReference});return{geometry:w(vt.rings,vt.spatialReference,!1),center:b,edge:P}}function mt(t,e){switch(t){case"point":case"multipoint":return"point";case"polyline":return((0,n.pC)(e)&&"polyline"===e.type&&e.paths.length?e.paths[0].length:0)<2?"polylineZeroVertices":"polylineOneVertex";case"polygon":{const c=(0,n.pC)(e)&&"polygon"===e.type&&e.rings.length?e.rings[0].length:0;return c<3?"polylineZeroVertices":c<4?"polygonOneVertex":"polygonTwoVertices"}default:return}}var wt=i(22944),Ot=i(24959),xt=i(9997),yt=i(62980);let rt=class extends yt.h{constructor(t){super(t),this.type="draw-point",this.helpMessage=void 0}};(0,r._)([(0,s.Cb)()],rt.prototype,"type",void 0),(0,r._)([(0,s.Cb)()],rt.prototype,"elevation",void 0),(0,r._)([(0,s.Cb)()],rt.prototype,"viewType",void 0),(0,r._)([(0,s.Cb)()],rt.prototype,"helpMessage",void 0),rt=(0,r._)([(0,L.j)("esri.views.interactive.tooltip.DrawPointTooltipInfo")],rt);let tt=class extends yt.h{constructor(t){super(t),this.type="draw-polyline",this.totalLength=g.yP,this.helpMessage=void 0}};(0,r._)([(0,s.Cb)()],tt.prototype,"type",void 0),(0,r._)([(0,s.Cb)()],tt.prototype,"elevation",void 0),(0,r._)([(0,s.Cb)()],tt.prototype,"totalLength",void 0),(0,r._)([(0,s.Cb)()],tt.prototype,"viewType",void 0),(0,r._)([(0,s.Cb)()],tt.prototype,"helpMessage",void 0),tt=(0,r._)([(0,L.j)("esri.views.interactive.tooltip.DrawPolylineTooltipInfo")],tt);let et=class extends yt.h{constructor(t){super(t),this.type="draw-polygon",this.area=g.MQ,this.helpMessage=void 0}};(0,r._)([(0,s.Cb)()],et.prototype,"type",void 0),(0,r._)([(0,s.Cb)()],et.prototype,"elevation",void 0),(0,r._)([(0,s.Cb)()],et.prototype,"area",void 0),(0,r._)([(0,s.Cb)()],et.prototype,"viewType",void 0),(0,r._)([(0,s.Cb)()],et.prototype,"helpMessage",void 0),et=(0,r._)([(0,L.j)("esri.views.interactive.tooltip.DrawPolygonTooltipInfo")],et);let at=class extends yt.h{constructor(t){super(t),this.type="draw-rectangle",this.xSize=g.yP,this.ySize=g.yP,this.area=g.MQ}};(0,r._)([(0,s.Cb)()],at.prototype,"type",void 0),(0,r._)([(0,s.Cb)()],at.prototype,"xSize",void 0),(0,r._)([(0,s.Cb)()],at.prototype,"ySize",void 0),(0,r._)([(0,s.Cb)()],at.prototype,"area",void 0),at=(0,r._)([(0,L.j)("esri.views.interactive.tooltip.DrawRectangleTooltipInfo")],at);let ot=class extends yt.h{constructor(t){super(t),this.type="draw-circle",this.radius=null,this.xSize=null,this.ySize=null,this.area=g.MQ}};(0,r._)([(0,s.Cb)()],ot.prototype,"type",void 0),(0,r._)([(0,s.Cb)()],ot.prototype,"radius",void 0),(0,r._)([(0,s.Cb)()],ot.prototype,"xSize",void 0),(0,r._)([(0,s.Cb)()],ot.prototype,"ySize",void 0),(0,r._)([(0,s.Cb)()],ot.prototype,"area",void 0),ot=(0,r._)([(0,L.j)("esri.views.interactive.tooltip.DrawCircleTooltipInfo")],ot);var Dt=i(60358),_t=i(30174),gt=i(22463);let f=class extends((0,y.p)(E.Z.EventedMixin(wt.m))){constructor(t){super(t),this._graphic=null,this._createOperationGeometry=null,this.defaultZ=0,this.geometryType=null,this.hasZ=!0,this.labelOptions=new Ot.Z,this.mode=null,this.snappingManager=null,this.snapToScene=!1,this.tooltip=null,this.tooltipOptions=new xt.Z}initialize(){this.internalGraphicsLayer=new $.Z({listMode:"hide",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer),this.drawOperation=this.makeDrawOperation(),this.handles.add([this.drawOperation.on("vertex-add",t=>this.onVertexAdd(t)),this.drawOperation.on("vertex-remove",t=>this.onVertexRemove(t)),this.drawOperation.on("vertex-update",t=>this.onVertexUpdate(t)),this.drawOperation.on("cursor-update",t=>this.onCursorUpdate(t)),this.drawOperation.on("complete",t=>this.onComplete(t)),(0,A.YP)(()=>this.tooltipOptions.enabled,t=>{this.tooltip=t?new Dt.u({view:this.view,info:this._tooltipInfo}):(0,n.SC)(this.tooltip)},A.tX),(0,A.YP)(()=>this._tooltipInfo,t=>{(0,n.pC)(this.tooltip)&&(this.tooltip.info=t)},A.tX)]),this.finishToolCreation()}destroy(){this.drawOperation=(0,n.SC)(this.drawOperation),this.tooltip=(0,n.SC)(this.tooltip),this._destroyAllVisualisations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=(0,n.SC)(this.internalGraphicsLayer),this._set("view",null)}get _defaultElevation(){return(0,g.yG)(this.defaultZ,"meters")}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(t){this._set("centered",t),this._updateGraphic()}set enabled(t){this.drawOperation.interactive=t,this._set("enabled",t)}set forceUniformSize(t){this._set("forceUniformSize",t),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(t){this._set("graphicSymbol",t),(0,n.pC)(this._graphic)&&(this._graphic.symbol=t)}get updating(){var t,e;return null!=(e=null==(t=this.drawOperation)?void 0:t.updating)&&e}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(t){this.drawOperation.onInputEvent(t)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}_createGraphic(t){this._graphic=new B.Z(Rt(ft({},this.graphicProperties),{geometry:t,symbol:this.graphicSymbol})),this.internalGraphicsLayer.add(this._graphic),this.handles.add(this.initializeGraphic(this._graphic)),this.notifyChange("graphic"),this.handles.add((0,Z.kB)(()=>{(0,n.pC)(this._graphic)&&(this.internalGraphicsLayer.remove(this._graphic),this._graphic=(0,n.SC)(this._graphic))}),Ct)}_destroyAllVisualisations(){this.handles.remove(H.outline),this.handles.remove(H.regularVertices),this.handles.remove(H.activeVertex),this.handles.remove(Ct)}_getCreateOperationGeometry(t={operationComplete:!1}){if(null==this.drawOperation||0===this.drawOperation.numVertices)return null;const e=this.drawOperation.stagedVertex,c=this.drawOperation.committedVertices,h=c.slice();(0,n.pC)(e)&&h.push(this.drawOperation.coordinateHelper.pointToArray(e));const C=(0,n.pC)(e)?this.drawOperation.coordinateHelper.pointToArray(e):c.splice(-1)[0],o={regularVertices:null,activeVertex:null,full:null,outline:null,circle:null,rectangle:null},p=h.length,_=this.view.spatialReference,O="3d"===this.view.type&&"global"===this.view.viewingMode;switch(this.geometryType){case"point":o.regularVertices=c,o.activeVertex=C,o.full=this.drawOperation.coordinateHelper.arrayToPoint(h[0]);break;case"multipoint":o.regularVertices=c,o.activeVertex=C,p>0&&(o.full=function U(t,e){return new u.Z({points:t,spatialReference:e})}(h,_));break;case"polyline":o.regularVertices=c,o.activeVertex=C,p>0&&(o.full=S([h],_,O));break;case"polygon":o.regularVertices=c,o.activeVertex=C,p>0&&(o.full=w([h],_,O,!0));break;case"circle":if(p>0){const b=(0,l.Gn)(this.view,h[0]);if(1===p&&t.operationComplete){const P=h[0],G=b.makeMapPoint(P[0]+Tt*this.view.resolution,P[1]);o.circle=Mt([P,G],b,!0),o.full=(0,n.pC)(o.circle)?o.circle.geometry:null}else 2===p&&(this.forceUniformSize?(o.circle=Mt(h,b,this.centered),o.full=(0,n.pC)(o.circle)?o.circle.geometry:null):(o.rectangle=function Wt(t,e,c){const h=e.mapToLocalMultiple(t),C=h[0],o=h[1],p=Math.round(o.x-C.x),_=Math.round(o.y-C.y),O=(0,l.Q8)(c?C.x:C.x+p/2,c?C.y:C.y+_/2),b=c?p:p/2,P=c?_:_/2,it=[],vt=2*Math.PI/60;function V(nt){const St=Math.cos(nt),Gt=Math.sin(nt);return(0,l.Q8)(b*St+O.x,P*Gt+O.y)}for(let nt=0;nt<60;nt++)it.push(V(nt*vt));it.push(it[0]);const{spatialReference:N,doUnnormalization:ct}=e,ht=w([(0,n.lV)(it.map(nt=>e.localToMap(nt)))],N,ct,!1),X=e.localToMap(V(Math.PI/2)),bt=e.localToMap(V(0)),Pt=e.localToMap(V(-Math.PI/2)),Et=e.localToMap(V(Math.PI));return{geometry:ht,midpoints:(0,n.pC)(X)&&(0,n.pC)(bt)&&(0,n.pC)(Pt)&&(0,n.pC)(Et)?{top:x(X,N),right:x(bt,N),bottom:x(Pt,N),left:x(Et,N)}:null}}(h,b,this.centered),o.full=o.rectangle.geometry))}break;case"rectangle":if(p>0){const b=(0,l.Gn)(this.view,h[0]);if(1===p&&t.operationComplete){const P=h[0],G=b.makeMapPoint(P[0]+Tt*this.view.resolution,P[1]);o.rectangle=Q([P,G],b,!0),o.full=o.rectangle.geometry}else 2===p&&(o.rectangle=this.forceUniformSize?Q(h,b,this.centered):function T(t,e,c){let h=e.mapToLocalMultiple(t);if(1===h.length){const O=h[0];h=[(0,l.Q8)(O.x-48,O.y+48),(0,l.Q8)(O.x+48,O.y-48),(0,l.Q8)(O.x+48,O.y-48),(0,l.Q8)(O.x-48,O.y+48)]}const C=[],o={x:h[0].x,y:h[0].y},p={x:h[1].x,y:h[1].y};if(c){const _=Math.round(p.x-o.x),O=Math.round(p.y-o.y);C.push((0,l.Q8)(o.x-_,o.y-O),(0,l.Q8)(p.x,o.y-O),(0,l.Q8)(p.x,p.y),(0,l.Q8)(o.x-_,p.y))}else C.push((0,l.Q8)(o.x,o.y),(0,l.Q8)(p.x,o.y),(0,l.Q8)(p.x,p.y),(0,l.Q8)(o.x,p.y));return ut(w([(0,n.lV)(C.map(_=>e.localToMap(_)))],e.spatialReference,e.doUnnormalization,!0),C,e)}(h,b,this.centered),o.full=o.rectangle.geometry)}break;default:return null}switch(this.geometryType){case"point":case"multipoint":break;case"polyline":case"polygon":p>1&&(o.outline=S([h],_,O));break;case"circle":case"rectangle":(0,n.pC)(o.full)&&"polygon"===o.full.type&&(o.outline=w(o.full.rings,_,O))}return o}initializeGraphic(t){return null}onComplete(t){this._updateGraphic();let e=null;if(this.drawOperation.isCompleted){const c=this._getCreateOperationGeometry({operationComplete:!0});(0,n.pC)(c)&&((0,n.Wi)(this._graphic)?this._createGraphic(c.full):this._graphic.geometry=c.full,e=(0,n.Wg)(this._graphic).clone())}this._createOperationGeometry=null,this.emit("complete",ft({graphic:e},t))}onCursorUpdate(t){this._updateGraphic(),this.emit("cursor-update",t)}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}onVertexAdd(t){this._updateGraphic(),this.emit("vertex-add",t)}onVertexRemove(t){this._updateGraphic(),this.emit("vertex-remove",t)}onVertexUpdate(t){this._updateGraphic(),this.emit("vertex-update",t)}_updateGraphic(){const t=this._getCreateOperationGeometry();this._createOperationGeometry=t,(0,n.Wi)(t)?this._destroyAllVisualisations():((0,n.pC)(t.outline)?this.handles.add(this.onOutlineChanged(t.outline),H.outline):this.handles.remove(H.outline),(0,n.pC)(t.regularVertices)?this.handles.add(this.onRegularVerticesChanged(t.regularVertices),H.regularVertices):this.handles.remove(H.regularVertices),(0,n.pC)(t.activeVertex)?this.handles.add(this.onActiveVertexChanged(t.activeVertex),H.activeVertex):this.handles.remove(H.activeVertex),(0,n.pC)(t.full)?(0,n.Wi)(this._graphic)?this._createGraphic(t.full):this._graphic.geometry=t.full:this.handles.remove(Ct))}get _tooltipInfo(){const{drawOperation:t}=this;if(!t)return null;switch(this.geometryType){case"point":return this._drawPointTooltipInfo;case"polyline":return this._drawPolylineTooltipInfo;case"polygon":return this._drawPolygonTooltipInfo;case"rectangle":return this._drawRectangleTooltipInfo;case"circle":return this._drawCircleTooltipInfo;default:return null}}get _drawPointTooltipInfo(){const t=(0,n.yw)(this.graphic,e=>e.geometry);return(0,n.Wi)(t)||"point"!==t.type||"2d"===this.view.type&&0===this.defaultZ?null:new rt({tooltipOptions:this.tooltipOptions,elevation:this._elevationTooltipDetail,viewType:this.view.type,helpMessage:mt("point",t)})}get _drawPolylineTooltipInfo(){const t=this._createOperationGeometry,e=(0,n.pC)(t)?t.full:null;if((0,n.Wi)(e)||"polyline"!==e.type)return null;const c=(0,gt.Ul)(e,this._elevationMode);return new tt({tooltipOptions:this.tooltipOptions,elevation:this._elevationTooltipDetail,totalLength:(0,n.Pt)(c,g.yP),viewType:this.view.type,helpMessage:mt("polyline",e)})}get _drawPolygonTooltipInfo(){const t=this._createOperationGeometry,e=(0,n.pC)(t)?t.full:null;if((0,n.Wi)(e)||"polygon"!==e.type)return null;const c=(0,_t.k)(e,this._elevationMode);return new et({tooltipOptions:this.tooltipOptions,elevation:this._elevationTooltipDetail,area:(0,n.Pt)(c,g.MQ),viewType:this.view.type,helpMessage:mt("polygon",e)})}get _drawRectangleTooltipInfo(){return(0,n.Wi)(this.drawOperation)?null:new at({tooltipOptions:this.tooltipOptions,xSize:(0,n.Pt)(this._xSize,g.yP),ySize:(0,n.Pt)(this._ySize,g.yP),area:(0,n.Pt)(this._fullGeometryArea,g.MQ)})}get _drawCircleTooltipInfo(){if((0,n.Wi)(this.drawOperation))return null;const t=this.forceUniformSize;return new ot({tooltipOptions:this.tooltipOptions,radius:t?(0,n.Pt)(this._circleRadius,g.yP):null,xSize:t?null:(0,n.Pt)(this._xSize,g.yP),ySize:t?null:(0,n.Pt)(this._ySize,g.yP),area:(0,n.Pt)(this._fullGeometryArea,g.MQ)})}get _circleRadius(){const t=this._createOperationGeometry;return(0,n.pC)(t)&&(0,n.pC)(t.circle)&&(0,n.pC)(t.circle.center)&&(0,n.pC)(t.circle.edge)?(0,gt.GQ)(t.circle.center,t.circle.edge,this._elevationMode):null}get _xSize(){const t=this._createOperationGeometry;if((0,n.Wi)(t)||(0,n.Wi)(t.rectangle))return null;const{midpoints:e}=t.rectangle;return(0,n.pC)(e)?(0,gt.GQ)(e.left,e.right,this._elevationMode):null}get _ySize(){const t=this._createOperationGeometry;if((0,n.Wi)(t)||(0,n.Wi)(t.rectangle))return null;const{midpoints:e}=t.rectangle;return(0,n.pC)(e)?(0,gt.GQ)(e.top,e.bottom,this._elevationMode):null}get _fullGeometryArea(){const t=this._createOperationGeometry,e=(0,n.pC)(t)?t.full:null;return(0,n.Wi)(e)||"polygon"!==e.type?null:(0,_t.k)(e,this._elevationMode)}get _elevationTooltipDetail(){return ft({mode:this.drawOperation.elevationInfo.mode},this._vertexTooltipElevation)}get _vertexTooltipElevation(){var p,_;const{tooltipOptions:t,view:e,drawOperation:c}=this;if((0,n.Wi)(c))return this._defaultElevation;const h=null!=(p=c.stagedVertex)?p:c.lastVertex;if((0,n.Wi)(h)||"2d"===e.type)return this._defaultElevation;const o=(null!=(_=(0,k.vQ)(e,h,c.elevationInfo,{mode:t.elevation.mode,offset:0}))?_:0)*(0,J._R)(h.spatialReference);return(0,g.yG)(o,"meters")}get _elevationMode(){return this.drawOperation.isDraped?"on-the-ground":"absolute-height"}};(0,r._)([(0,s.Cb)()],f.prototype,"_createOperationGeometry",void 0),(0,r._)([(0,s.Cb)()],f.prototype,"_defaultElevation",null),(0,r._)([(0,s.Cb)({value:!0})],f.prototype,"centered",null),(0,r._)([(0,s.Cb)({nonNullable:!0})],f.prototype,"defaultZ",void 0),(0,r._)([(0,s.Cb)()],f.prototype,"drawOperation",void 0),(0,r._)([(0,s.Cb)({value:!0})],f.prototype,"enabled",null),(0,r._)([(0,s.Cb)({value:!0})],f.prototype,"forceUniformSize",null),(0,r._)([(0,s.Cb)({constructOnly:!0})],f.prototype,"geometryType",void 0),(0,r._)([(0,s.Cb)()],f.prototype,"graphic",null),(0,r._)([(0,s.Cb)({constructOnly:!0})],f.prototype,"graphicProperties",void 0),(0,r._)([(0,s.Cb)()],f.prototype,"graphicSymbol",null),(0,r._)([(0,s.Cb)({constructOnly:!0})],f.prototype,"hasZ",void 0),(0,r._)([(0,s.Cb)({constructOnly:!0,type:Ot.Z})],f.prototype,"labelOptions",void 0),(0,r._)([(0,s.Cb)({constructOnly:!0})],f.prototype,"mode",void 0),(0,r._)([(0,s.Cb)()],f.prototype,"snappingManager",void 0),(0,r._)([(0,s.Cb)()],f.prototype,"snapToScene",void 0),(0,r._)([(0,s.Cb)()],f.prototype,"tooltip",void 0),(0,r._)([(0,s.Cb)({constructOnly:!0,type:xt.Z})],f.prototype,"tooltipOptions",void 0),(0,r._)([(0,s.Cb)({readOnly:!0})],f.prototype,"type",void 0),(0,r._)([(0,s.Cb)({readOnly:!0})],f.prototype,"updating",null),(0,r._)([(0,s.Cb)({constructOnly:!0,nonNullable:!0})],f.prototype,"view",void 0),(0,r._)([(0,s.Cb)()],f.prototype,"_tooltipInfo",null),(0,r._)([(0,s.Cb)()],f.prototype,"_drawPointTooltipInfo",null),(0,r._)([(0,s.Cb)()],f.prototype,"_drawPolylineTooltipInfo",null),(0,r._)([(0,s.Cb)()],f.prototype,"_drawPolygonTooltipInfo",null),(0,r._)([(0,s.Cb)()],f.prototype,"_drawRectangleTooltipInfo",null),(0,r._)([(0,s.Cb)()],f.prototype,"_drawCircleTooltipInfo",null),(0,r._)([(0,s.Cb)()],f.prototype,"_circleRadius",null),(0,r._)([(0,s.Cb)()],f.prototype,"_xSize",null),(0,r._)([(0,s.Cb)()],f.prototype,"_ySize",null),(0,r._)([(0,s.Cb)()],f.prototype,"_fullGeometryArea",null),(0,r._)([(0,s.Cb)()],f.prototype,"_elevationTooltipDetail",null),(0,r._)([(0,s.Cb)()],f.prototype,"_vertexTooltipElevation",null),(0,r._)([(0,s.Cb)()],f.prototype,"_elevationMode",null),f=(0,r._)([(0,L.j)("esri.views.draw.DrawGraphicTool")],f);const Ct="create-operation-graphic",H={outline:"outline-visual",regularVertices:"regular-vertices-visual",activeVertex:"active-vertex-visual"};function Vt(t){switch(t){case"point":case"polyline":case"polygon":case"multipoint":return t;case"circle":case"rectangle":return"segment"}}const Tt=48},96792:(z,W,i)=>{i.d(W,{NI:()=>K,lv:()=>I,mO:()=>$,nn:()=>L,ny:()=>j});var r=i(62208),B=i(15572),E=i(67831),y=i(84161),Z=i(28093),n=i(41743),g=i(26242),A=i(4517),J=i(67100),s=i(91672),st=i(15708),Y=i(22463);function L(a,d){return k(a,d,!1)}function $(a,d){return k(a,d,!0)}function k(a,d,l){if(a instanceof st.y){if(a.operation instanceof A.z)return function R(a,d,l=!1){const M=l?-1:1,u=(0,Z.f)(M*a.dx,M*a.dy,M*a.dz);(0,y.a)(d.origin,d.origin,u)}(a.operation,d,l),!0;if(a.operation instanceof J.S)return function D(a,d,l=!1){const M=l?-a.angle:a.angle;(0,y.I)(d.basis1,d.basis1,Z.Z,M),(0,y.I)(d.basis2,d.basis2,Z.Z,M)}(a.operation,d,l),!0;if(a.operation instanceof s.q)return function q(a,d,l=!1){const M=l?1/a.factor1:a.factor1,u=l?1/a.factor2:a.factor2;(0,y.g)(d.basis1,d.basis1,M),(0,y.g)(d.basis2,d.basis2,u),(0,E.u)(d.origin,d.origin,a.origin,a.axis1,M),(0,E.u)(d.origin,d.origin,a.origin,a.axis2,u)}(a.operation,d,l),!0}return!1}function I(a,d,l,M){M||(M=(0,n.a)());const u=(0,E.s)(g.qW.get(),a[1],-a[0]),v=(0,E.s)(g.qW.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),m=(0,E.s)(g.qW.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),x=g.qW.get();d.components.forEach(w=>w.vertices.forEach(Q=>{const T=Q.pos;(0,E.s)(x,(0,E.h)(a,T),(0,E.h)(u,T)),(0,E.y)(v,v,x),(0,E.z)(m,m,x)}));const U=1e-6,S=(0,E.s)(g.qW.get(),m[0]-v[0]<U?l/2:0,m[1]-v[1]<U?l/2:0);return(0,E.a)(v,v,S),(0,E.j)(m,m,S),(0,E.b)(M.basis1,a,(m[0]-v[0])/2),(0,E.b)(M.basis2,u,(m[1]-v[1])/2),(0,E.s)(M.origin,v[0]*a[0]+v[1]*u[0],v[0]*a[1]+v[1]*u[1]),(0,E.j)(M.origin,M.origin,M.basis1),(0,E.j)(M.origin,M.origin,M.basis2),M}function j(a,d,l,M=0,u){u||(u=(0,n.a)()),d.toRenderCoords(a.origin,l,u.origin);const v=g.WM.get();(0,y.a)(v,a.origin,a.basis1),(0,y.a)(v,v,a.basis2),d.toRenderCoords(v,l,v);const m=g.WM.get();(0,y.a)(m,a.origin,a.basis1),(0,y.b)(m,m,a.basis2),d.toRenderCoords(m,l,m);const x=g.WM.get();(0,y.b)(x,a.origin,a.basis1),(0,y.b)(x,x,a.basis2),d.toRenderCoords(x,l,x);const U=g.WM.get();(0,y.b)(U,a.origin,a.basis1),(0,y.a)(U,U,a.basis2),d.toRenderCoords(U,l,U);const S=(0,y.h)(g.WM.get(),v,m,.5);(0,y.b)(S,S,u.origin);const w=(0,y.h)(g.WM.get(),x,U,.5);(0,y.b)(w,u.origin,w),(0,y.h)(u.basis1,S,w,.5);const Q=(0,y.h)(g.WM.get(),U,v,.5);(0,y.b)(Q,Q,u.origin);const T=(0,y.h)(g.WM.get(),m,x,.5);(0,y.b)(T,u.origin,T),(0,y.h)(u.basis2,Q,T,.5);const ut=(0,y.f)(g.WM.get(),u.basis1,u.basis2),F=(0,y.f)(ut,ut,u.basis1);return(0,y.n)(F,F),(0,y.g)(u.basis2,F,(0,y.e)(u.basis2,F)),(0,y.g)(u.basis1,u.basis1,1+M/(0,y.l)(u.basis1)),(0,y.g)(u.basis2,u.basis2,1+M/(0,y.l)(u.basis2)),(0,n.u)(u),u}function K(a,d,l,M){const u=g.WM.get();(0,y.b)(u,(0,y.b)(u,a.origin,a.basis1),a.basis2);const v=g.WM.get();(0,y.z)(v,u,a.basis1,2);const m=g.WM.get();(0,y.z)(m,v,a.basis2,2);const x=g.WM.get();(0,y.z)(x,u,a.basis2,2),u[2]=v[2]=m[2]=x[2]=d;const U=M?"on-the-ground":"absolute-height",S=(0,B.Fp)((0,Y.bZ)(u,v,l,U),(0,Y.bZ)(x,m,l,U)),w=(0,B.Fp)((0,Y.bZ)(v,m,l,U),(0,Y.bZ)(u,x,l,U));return(0,r.Wi)(w)||(0,r.Wi)(S)?null:[S,w]}},30174:(z,W,i)=>{i.d(W,{f:()=>k,k:()=>$});var r=i(62208),B=i(40686),y=(i(29132),i(15572)),Z=i(44766),n=i(55915),g=i(10049),A=i(91622),J=i(65234);function st(R){return(0,y.ne)(Math.abs((0,g.p8)([R],"square-meters")[0]),"square-meters")}function Y(R){try{return(0,y.ne)(Math.abs((0,Z.geodesicArea)(R,"square-meters")),"square-meters")}catch(D){return null}}function L(R){const D=[];return(0,n.K2)(R,D)?(0,y.ne)(Math.abs((0,g.p8)([{type:"polygon",rings:D,spatialReference:J.Z.WGS84}],"square-meters")[0]),"square-meters"):null}function $(R,D,q=(0,B.ln)()){if("on-the-ground"===D){const I=function s(R){const{spatialReference:D}=R;return(0,A.T)(D,st,Y,L,R)}(R);return(0,r.pC)(I)?I:(0,B.X)(R,q)}return(0,B.oN)(R,q)}function k(R,D=(0,B.ln)()){return $(R,"on-the-ground",D)}},40686:(z,W,i)=>{i.d(W,{X:()=>Y,bT:()=>D,ln:()=>R,oN:()=>st});var r=i(62208),B=i(15572),E=i(16730),y=i(11915),Z=i(84161),n=i(28093),g=i(55915),A=i(90014),J=i(11544),s=i(66601);function st(I,j={positionsWorldCoords:[]}){return L(I,j)}function Y(I,j={positionsWorldCoords:[]}){return L(I,j,!1)}function L(I,j,K=I.hasZ){const a=(0,s.m)(I.spatialReference),d=(0,E.oq)(a);if((0,r.Wi)(d))return null;const l=(u,v)=>!(v.length<2||((0,Z.s)(u,v[0],v[1],K&&v[2]||0),0));let M=0;for(const u of I.rings){const v=u.length;if(v<3)continue;const{positionsWorldCoords:m}=j;for(;m.length<v;)m.push((0,n.c)());const x=$,U=(0,Z.s)(k,0,0,0),S=1/v;for(let T=0;T<v;T++){if(!l(x,u[T])||!(0,g.SH)(x,I.spatialReference,m[T],a))return null;(0,Z.z)(U,U,m[T],S)}const w=(0,A.zk)(m[0],m[1],U,(0,A.re)());if(0===(0,Z.p)((0,A.mJ)(w)))continue;for(let T=0;T<v;T++)(0,A.tx)(w,U,m[T],m[T]);const Q=D(m);for(let T=0;T<Q.length;T+=3)M+=(0,J.wu)(m[Q[T]],m[Q[T+1]],m[Q[T+2]])}return(0,B.ne)(M,d)}const $=(0,n.c)(),k=(0,n.c)();function R(){return{positionsWorldCoords:[]}}function D(I){return(0,y.e)(function q(I){const j=new Float64Array(2*I.length);for(let K=0;K<I.length;++K){const a=I[K],d=2*K;j[d+0]=a[0],j[d+1]=a[1]}return j}(I),[],2)}}}]);