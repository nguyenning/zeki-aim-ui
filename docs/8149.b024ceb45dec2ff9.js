"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[8149],{14259:(L,T,B)=>{B.d(T,{q:()=>y});var w,D,b={exports:{}};w=b,void 0!==(D=function(){function v(o,h,_,d,Y){for(;d>_;){if(d-_>600){var p=d-_+1,g=h-_+1,C=Math.log(p),P=.5*Math.exp(2*C/3),j=.5*Math.sqrt(C*P*(p-P)/p)*(g-p/2<0?-1:1);v(o,h,Math.max(_,Math.floor(h-g*P/p+j)),Math.min(d,Math.floor(h+(p-g)*P/p+j)),Y)}var x=o[h],O=_,E=d;for(m(o,_,h),Y(o[d],x)>0&&m(o,_,d);O<E;){for(m(o,O,E),O++,E--;Y(o[O],x)<0;)O++;for(;Y(o[E],x)>0;)E--}0===Y(o[_],x)?m(o,_,E):m(o,++E,d),E<=h&&(_=E+1),h<=E&&(d=E-1)}}function m(o,h,_){var d=o[h];o[h]=o[_],o[_]=d}function c(o,h){return o<h?-1:o>h?1:0}return function A(o,h,_,d,Y){v(o,h,_||0,d||o.length-1,Y||c)}}())&&(w.exports=D);const y=b.exports},36592:(L,T,B)=>{B.d(T,{Q:()=>y});var w=B(85931),I=B(62208),D=B(77029),b=B(14259);class y{constructor(t=9,n){this.compareMinX=c,this.compareMinY=o,this._toBBox=e=>e,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&("function"==typeof n?this._toBBox=n:this._initFormat(n)),this.clear()}destroy(){this.clear(),P.prune(),j.prune(),x.prune(),O.prune()}all(t){this._all(this.data,t)}search(t,n){let e=this.data;const s=this._toBBox;if(g(t,e))for(P.clear();e;){for(let i=0,r=e.children.length;i<r;i++){const l=e.children[i],u=e.leaf?s(l):l;g(t,u)&&(e.leaf?n(l):p(t,u)?this._all(l,n):P.push(l))}e=P.pop()}}collides(t){let n=this.data;const e=this._toBBox;if(!g(t,n))return!1;for(P.clear();n;){for(let s=0,i=n.children.length;s<i;s++){const r=n.children[s],l=n.leaf?e(r):r;if(g(t,l)){if(n.leaf||p(t,l))return!0;P.push(r)}}n=P.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let e=0,s=t.length;e<s;e++)this.insert(t[e]);return this}let n=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const e=this.data;this.data=n,n=e}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new S([]),this}remove(t){var u;if(!t)return this;let n,e=this.data,s=null,i=0,r=!1;const l=this._toBBox(t);for(x.clear(),O.clear();e||x.length>0;){if(e||(e=(0,I.j0)(x.pop()),s=x.data[x.length-1],i=null!=(u=O.pop())?u:0,r=!0),e.leaf&&(n=(0,w.cq)(e.children,t,e.children.length,e.indexHint),-1!==n))return e.children.splice(n,1),x.push(e),this._condense(x),this;r||e.leaf||!p(e,l)?s?(i++,e=s.children[i],r=!1):e=null:(x.push(e),O.push(i),i=0,s=e,e=e.children[0])}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){var s;let e=t;for(j.clear();e;){if(!0===e.leaf)for(const i of e.children)n(i);else j.pushArray(e.children);e=null!=(s=j.pop())?s:null}}_build(t,n,e,s){const i=e-n+1;let r=this._maxEntries;if(i<=r){const f=new S(t.slice(n,e+1));return A(f,this._toBBox),f}s||(s=Math.ceil(Math.log(i)/Math.log(r)),r=Math.ceil(i/r**(s-1)));const l=new U([]);l.height=s;const u=Math.ceil(i/r),M=u*Math.ceil(Math.sqrt(r));C(t,n,e,M,this.compareMinX);for(let f=n;f<=e;f+=M){const X=Math.min(f+M-1,e);C(t,f,X,u,this.compareMinY);for(let R=f;R<=X;R+=u){const W=Math.min(R+u-1,X);l.children.push(this._build(t,R,W,s-1))}}return A(l,this._toBBox),l}_chooseSubtree(t,n,e,s){for(;s.push(n),!0!==n.leaf&&s.length-1!==e;){let i,r=1/0,l=1/0;for(let u=0,M=n.children.length;u<M;u++){const f=n.children[u],X=h(f),R=d(t,f)-X;R<l?(l=R,r=X<r?X:r,i=f):R===l&&X<r&&(r=X,i=f)}n=i||n.children[0]}return n}_insert(t,n,e){const i=e?t:(0,this._toBBox)(t);x.clear();const r=this._chooseSubtree(i,this.data,n,x);for(r.children.push(t),m(r,i);n>=0&&x.data[n].children.length>this._maxEntries;)this._split(x,n),n--;this._adjustParentBBoxes(i,x,n)}_split(t,n){const e=t.data[n],s=e.children.length,i=this._minEntries;this._chooseSplitAxis(e,i,s);const r=this._chooseSplitIndex(e,i,s);if(!r)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const l=e.children.splice(r,e.children.length-r),u=e.leaf?new S(l):new U(l);u.height=e.height,A(e,this._toBBox),A(u,this._toBBox),n?t.data[n-1].children.push(u):this._splitRoot(e,u)}_splitRoot(t,n){this.data=new U([t,n]),this.data.height=t.height+1,A(this.data,this._toBBox)}_chooseSplitIndex(t,n,e){let s,i,r;s=i=1/0;for(let l=n;l<=e-n;l++){const u=v(t,0,l,this._toBBox),M=v(t,l,e,this._toBBox),f=Y(u,M),X=h(u)+h(M);f<s?(s=f,r=l,i=X<i?X:i):f===s&&X<i&&(i=X,r=l)}return r}_chooseSplitAxis(t,n,e){const s=t.leaf?this.compareMinX:c,i=t.leaf?this.compareMinY:o;this._allDistMargin(t,n,e,s)<this._allDistMargin(t,n,e,i)&&t.children.sort(s)}_allDistMargin(t,n,e,s){t.children.sort(s);const i=this._toBBox,r=v(t,0,n,i),l=v(t,e-n,e,i);let u=_(r)+_(l);for(let M=n;M<e-n;M++){const f=t.children[M];m(r,t.leaf?i(f):f),u+=_(r)}for(let M=e-n-1;M>=n;M--){const f=t.children[M];m(l,t.leaf?i(f):f),u+=_(l)}return u}_adjustParentBBoxes(t,n,e){for(let s=e;s>=0;s--)m(n.data[s],t)}_condense(t){for(let n=t.length-1;n>=0;n--){const e=t.data[n];if(0===e.children.length)if(n>0){const s=t.data[n-1],i=s.children;i.splice((0,w.cq)(i,e,i.length,s.indexHint),1)}else this.clear();else A(e,this._toBBox)}}_initFormat(t){const n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(t[0])),this.compareMinY=new Function("a","b",n.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function A(a,t){v(a,0,a.children.length,t,a)}function v(a,t,n,e,s){s||(s=new S([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let i,r=t;r<n;r++)i=a.children[r],m(s,a.leaf?e(i):i);return s}function m(a,t){a.minX=Math.min(a.minX,t.minX),a.minY=Math.min(a.minY,t.minY),a.maxX=Math.max(a.maxX,t.maxX),a.maxY=Math.max(a.maxY,t.maxY)}function c(a,t){return a.minX-t.minX}function o(a,t){return a.minY-t.minY}function h(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function _(a){return a.maxX-a.minX+(a.maxY-a.minY)}function d(a,t){return(Math.max(t.maxX,a.maxX)-Math.min(t.minX,a.minX))*(Math.max(t.maxY,a.maxY)-Math.min(t.minY,a.minY))}function Y(a,t){const n=Math.max(a.minX,t.minX),e=Math.max(a.minY,t.minY),s=Math.min(a.maxX,t.maxX),i=Math.min(a.maxY,t.maxY);return Math.max(0,s-n)*Math.max(0,i-e)}function p(a,t){return a.minX<=t.minX&&a.minY<=t.minY&&t.maxX<=a.maxX&&t.maxY<=a.maxY}function g(a,t){return t.minX<=a.maxX&&t.minY<=a.maxY&&t.maxX>=a.minX&&t.maxY>=a.minY}function C(a,t,n,e,s){const i=[t,n];for(;i.length;){const r=(0,I.j0)(i.pop()),l=(0,I.j0)(i.pop());if(r-l<=e)continue;const u=l+Math.ceil((r-l)/e/2)*e;(0,b.q)(a,u,l,r,s),i.push(l,u,u,r)}}const P=new D.Z,j=new D.Z,x=new D.Z,O=new D.Z({deallocator:void 0});class K extends class E{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}{constructor(){super(...arguments),this.height=1,this.indexHint=new w.SO}}class S extends K{constructor(t){super(),this.children=t,this.leaf=!0}}class U extends K{constructor(t){super(),this.children=t,this.leaf=!1}}},28149:(L,T,B)=>{B.r(T),B.d(T,{default:()=>A});var w=B(15861),I=B(8314),D=B(62208),b=B(36592),y=B(60853);class A{createIndex(c,o){var h=this;return(0,w.Z)(function*(){const _=new Array;if(!c.vertexAttributes||!c.vertexAttributes.position)return new b.Q;const d=h._createMeshData(c),Y=(0,D.pC)(o)?yield o.invoke("createIndexThread",d,{transferList:_}):h.createIndexThread(d).result;return h._createPooledRBush().fromJSON(Y)})()}createIndexThread(c){const o=new Float64Array(c.position),h=this._createPooledRBush();return c.components?this._createIndexComponentsThread(h,o,c.components.map(_=>new Uint32Array(_))):this._createIndexAllThread(h,o)}_createIndexAllThread(c,o){const h=new Array(o.length/9);let _=0;for(let d=0;d<o.length;d+=9)h[_++]=v(o,d+0,d+3,d+6);return c.load(h),{result:c.toJSON()}}_createIndexComponentsThread(c,o,h){let _=0;for(const p of h)_+=p.length/3;const d=new Array(_);let Y=0;for(const p of h)for(let g=0;g<p.length;g+=3)d[Y++]=v(o,3*p[g+0],3*p[g+1],3*p[g+2]);return c.load(d),{result:c.toJSON()}}_createMeshData(c){const o=(c.transform?(0,y.I5)({position:c.vertexAttributes.position,normal:null,tangent:null},c.transform,c.spatialReference).position:c.vertexAttributes.position).buffer;return!c.components||c.components.some(h=>!h.faces)?{position:o}:{position:o,components:c.components.map(h=>h.faces)}}_createPooledRBush(){return new b.Q(9,(0,I.Z)("esri-csp-restrictions")?c=>c:[".minX",".minY",".maxX",".maxY"])}}function v(m,c,o,h){return{minX:Math.min(m[c+0],m[o+0],m[h+0]),maxX:Math.max(m[c+0],m[o+0],m[h+0]),minY:Math.min(m[c+1],m[o+1],m[h+1]),maxY:Math.max(m[c+1],m[o+1],m[h+1]),p0:[m[c+0],m[c+1],m[c+2]],p1:[m[o+0],m[o+1],m[o+2]],p2:[m[h+0],m[h+1],m[h+2]]}}}}]);