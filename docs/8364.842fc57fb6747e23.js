"use strict";var Le=Object.defineProperty,ye=Object.getOwnPropertySymbols,Ne=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,de=(tt,B,D)=>B in tt?Le(tt,B,{enumerable:!0,configurable:!0,writable:!0,value:D}):tt[B]=D,ce=(tt,B)=>{for(var D in B||(B={}))Ne.call(B,D)&&de(tt,D,B[D]);if(ye)for(var D of ye(B))Ae.call(B,D)&&de(tt,D,B[D]);return tt};(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[8364],{7547:(tt,B,D)=>{var x,S,I,E,o,u,l,f,d,w,b,h,M,V,F,J,It,Ot,ot,it,A,st,lt,Ht,et,ee,z,Tt,L,Y,G,rt,ft,at,yt,Bt,ut,dt,Dt,gt,_t,Ut,xt,Pt,mt,pt,$,Gt,Yt,Ct,Wt,kt,Mt,vt,St,Et,bt,wt,Rt,Lt,K,r;D.d(B,{$y:()=>st,AH:()=>S,CS:()=>$,DD:()=>f,Dd:()=>L,Em:()=>A,JS:()=>mt,Ky:()=>d,Lh:()=>Gt,Qb:()=>bt,RL:()=>x,RS:()=>Rt,TF:()=>it,Tx:()=>o,UR:()=>It,UX:()=>Et,bj:()=>pt,eZ:()=>l,id:()=>et,kP:()=>Bt,r4:()=>gt,sj:()=>ut,v2:()=>I,zQ:()=>Tt,zV:()=>J}),(r=x||(x={}))[r.BUTT=0]="BUTT",r[r.ROUND=1]="ROUND",r[r.SQUARE=2]="SQUARE",r[r.UNKNOWN=4]="UNKNOWN",function(r){r[r.BEVEL=0]="BEVEL",r[r.ROUND=1]="ROUND",r[r.MITER=2]="MITER",r[r.UNKNOWN=4]="UNKNOWN"}(S||(S={})),function(r){r[r.SCREEN=0]="SCREEN",r[r.MAP=1]="MAP"}(I||(I={})),function(r){r[r.Tint=0]="Tint",r[r.Ignore=1]="Ignore",r[r.Multiply=99]="Multiply"}(E||(E={})),function(r){r.Both="Both",r.JustBegin="JustBegin",r.JustEnd="JustEnd",r.None="None"}(o||(o={})),function(r){r[r.Mosaic=0]="Mosaic",r[r.Centered=1]="Centered"}(u||(u={})),function(r){r[r.Normal=0]="Normal",r[r.Superscript=1]="Superscript",r[r.Subscript=2]="Subscript"}(l||(l={})),function(r){r[r.MSSymbol=0]="MSSymbol",r[r.Unicode=1]="Unicode"}(f||(f={})),function(r){r[r.Unspecified=0]="Unspecified",r[r.TrueType=1]="TrueType",r[r.PSOpenType=2]="PSOpenType",r[r.TTOpenType=3]="TTOpenType",r[r.Type1=4]="Type1"}(d||(d={})),function(r){r[r.Display=0]="Display",r[r.Map=1]="Map"}(w||(w={})),function(r){r.None="None",r.Loop="Loop",r.Oscillate="Oscillate"}(b||(b={})),function(r){r[r.Z=0]="Z",r[r.X=1]="X",r[r.Y=2]="Y"}(h||(h={})),function(r){r[r.XYZ=0]="XYZ",r[r.ZXY=1]="ZXY",r[r.YXZ=2]="YXZ"}(M||(M={})),function(r){r[r.Rectangle=0]="Rectangle",r[r.RoundedRectangle=1]="RoundedRectangle",r[r.Oval=2]="Oval"}(V||(V={})),function(r){r[r.None=0]="None",r[r.Alpha=1]="Alpha",r[r.Screen=2]="Screen",r[r.Multiply=3]="Multiply",r[r.Add=4]="Add"}(F||(F={})),function(r){r[r.TTB=0]="TTB",r[r.RTL=1]="RTL",r[r.BTT=2]="BTT"}(J||(J={})),function(r){r[r.None=0]="None",r[r.SignPost=1]="SignPost",r[r.FaceNearPlane=2]="FaceNearPlane"}(It||(It={})),function(r){r[r.Float=0]="Float",r[r.String=1]="String",r[r.Boolean=2]="Boolean"}(Ot||(Ot={})),function(r){r[r.Intersect=0]="Intersect",r[r.Subtract=1]="Subtract"}(ot||(ot={})),function(r){r.OpenEnded="OpenEnded",r.Block="Block",r.Crossed="Crossed"}(it||(it={})),function(r){r.FullGeometry="FullGeometry",r.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",r.ReversedFirstSegment="ReversedFirstSegment",r.PerpendicularToSecondSegment="PerpendicularToSecondSegment",r.SecondSegmentWithTicks="SecondSegmentWithTicks",r.DoublePerpendicular="DoublePerpendicular",r.OppositeToFirstSegment="OppositeToFirstSegment",r.TriplePerpendicular="TriplePerpendicular",r.HalfCircleFirstSegment="HalfCircleFirstSegment",r.HalfCircleSecondSegment="HalfCircleSecondSegment",r.HalfCircleExtended="HalfCircleExtended",r.OpenCircle="OpenCircle",r.CoverageEdgesWithTicks="CoverageEdgesWithTicks",r.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",r.GapExtentMidline="GapExtentMidline",r.Chevron="Chevron",r.PerpendicularWithArc="PerpendicularWithArc",r.ClosedHalfCircle="ClosedHalfCircle",r.TripleParallelExtended="TripleParallelExtended",r.ParallelWithTicks="ParallelWithTicks",r.Parallel="Parallel",r.PerpendicularToFirstSegment="PerpendicularToFirstSegment",r.ParallelOffset="ParallelOffset",r.OffsetOpposite="OffsetOpposite",r.OffsetSame="OffsetSame",r.CircleWithArc="CircleWithArc",r.DoubleJog="DoubleJog",r.PerpendicularOffset="PerpendicularOffset",r.LineExcludingLastSegment="LineExcludingLastSegment",r.MultivertexArrow="MultivertexArrow",r.CrossedArrow="CrossedArrow",r.ChevronArrow="ChevronArrow",r.ChevronArrowOffset="ChevronArrowOffset",r.PartialFirstSegment="PartialFirstSegment",r.Arch="Arch",r.CurvedParallelTicks="CurvedParallelTicks",r.Arc90Degrees="Arc90Degrees"}(A||(A={})),function(r){r.Mitered="Mitered",r.Bevelled="Bevelled",r.Rounded="Rounded",r.Square="Square",r.TrueBuffer="TrueBuffer"}(st||(st={})),function(r){r.ClosePath="ClosePath",r.ConvexHull="ConvexHull",r.RectangularBox="RectangularBox"}(lt||(lt={})),function(r){r.BeginningOfLine="BeginningOfLine",r.EndOfLine="EndOfLine"}(Ht||(Ht={})),function(r){r.Mitered="Mitered",r.Bevelled="Bevelled",r.Rounded="Rounded",r.Square="Square"}(et||(et={})),function(r){r.Fast="Fast",r.Accurate="Accurate"}(ee||(ee={})),function(r){r.BeginningOfLine="BeginningOfLine",r.EndOfLine="EndOfLine"}(z||(z={})),function(r){r.Sinus="Sinus",r.Square="Square",r.Triangle="Triangle",r.Random="Random"}(Tt||(Tt={})),function(r){r[r.None=0]="None",r[r.Default=1]="Default",r[r.Force=2]="Force"}(L||(L={})),function(r){r[r.Buffered=0]="Buffered",r[r.Left=1]="Left",r[r.Right=2]="Right",r[r.AlongLine=3]="AlongLine"}(Y||(Y={})),function(r){r[r.Linear=0]="Linear",r[r.Rectangular=1]="Rectangular",r[r.Circular=2]="Circular",r[r.Buffered=3]="Buffered"}(G||(G={})),function(r){r[r.Discrete=0]="Discrete",r[r.Continuous=1]="Continuous"}(rt||(rt={})),function(r){r[r.AcrossLine=0]="AcrossLine",r[r.AloneLine=1]="AloneLine"}(ft||(ft={})),function(r){r[r.Left=0]="Left",r[r.Right=1]="Right",r[r.Center=2]="Center",r[r.Justify=3]="Justify"}(at||(at={})),function(r){r[r.Base=0]="Base",r[r.MidPoint=1]="MidPoint",r[r.ThreePoint=2]="ThreePoint",r[r.FourPoint=3]="FourPoint",r[r.Underline=4]="Underline",r[r.CircularCW=5]="CircularCW",r[r.CircularCCW=6]="CircularCCW"}(yt||(yt={})),function(r){r.Butt="Butt",r.Round="Round",r.Square="Square"}(Bt||(Bt={})),function(r){r.NoConstraint="NoConstraint",r.HalfPattern="HalfPattern",r.HalfGap="HalfGap",r.FullPattern="FullPattern",r.FullGap="FullGap",r.Custom="Custom"}(ut||(ut={})),function(r){r[r.None=-1]="None",r[r.Custom=0]="Custom",r[r.Circle=1]="Circle",r[r.OpenArrow=2]="OpenArrow",r[r.ClosedArrow=3]="ClosedArrow",r[r.Diamond=4]="Diamond"}(dt||(dt={})),function(r){r[r.ExtraLeading=0]="ExtraLeading",r[r.Multiple=1]="Multiple",r[r.Exact=2]="Exact"}(Dt||(Dt={})),function(r){r.Bevel="Bevel",r.Round="Round",r.Miter="Miter"}(gt||(gt={})),function(r){r[r.Default=0]="Default",r[r.String=1]="String",r[r.Numeric=2]="Numeric"}(_t||(_t={})),function(r){r[r.InsidePolygon=0]="InsidePolygon",r[r.PolygonCenter=1]="PolygonCenter",r[r.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(Ut||(Ut={})),function(r){r[r.Tint=0]="Tint",r[r.Replace=1]="Replace",r[r.Multiply=2]="Multiply"}(xt||(xt={})),function(r){r[r.ClipAtBoundary=0]="ClipAtBoundary",r[r.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",r[r.DoNotTouchBoundary=2]="DoNotTouchBoundary",r[r.DoNotClip=3]="DoNotClip"}(Pt||(Pt={})),function(r){r.NoConstraint="NoConstraint",r.WithMarkers="WithMarkers",r.WithFullGap="WithFullGap",r.WithHalfGap="WithHalfGap",r.Custom="Custom"}(mt||(mt={})),function(r){r.Fixed="Fixed",r.Random="Random",r.RandomFixedQuantity="RandomFixedQuantity"}(pt||(pt={})),function(r){r.LineMiddle="LineMiddle",r.LineBeginning="LineBeginning",r.LineEnd="LineEnd",r.SegmentMidpoint="SegmentMidpoint"}($||($={})),function(r){r.OnPolygon="OnPolygon",r.CenterOfMass="CenterOfMass",r.BoundingBoxCenter="BoundingBoxCenter"}(Gt||(Gt={})),function(r){r[r.Low=0]="Low",r[r.Medium=1]="Medium",r[r.High=2]="High"}(Yt||(Yt={})),function(r){r[r.MarkerCenter=0]="MarkerCenter",r[r.MarkerBounds=1]="MarkerBounds"}(Ct||(Ct={})),function(r){r[r.None=0]="None",r[r.PropUniform=1]="PropUniform",r[r.PropNonuniform=2]="PropNonuniform",r[r.DifUniform=3]="DifUniform",r[r.DifNonuniform=4]="DifNonuniform"}(Wt||(Wt={})),function(r){r.Tube="Tube",r.Strip="Strip",r.Wall="Wall"}(kt||(kt={})),function(r){r[r.Random=0]="Random",r[r.Increasing=1]="Increasing",r[r.Decreasing=2]="Decreasing",r[r.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(Mt||(Mt={})),function(r){r[r.Relative=0]="Relative",r[r.Absolute=1]="Absolute"}(vt||(vt={})),function(r){r[r.Normal=0]="Normal",r[r.LowerCase=1]="LowerCase",r[r.Allcaps=2]="Allcaps"}(St||(St={})),function(r){r[r.LTR=0]="LTR",r[r.RTL=1]="RTL"}(Et||(Et={})),function(r){r.Draft="Draft",r.Picture="Picture",r.Text="Text"}(bt||(bt={})),function(r){r[r.Top=0]="Top",r[r.Center=1]="Center",r[r.Baseline=2]="Baseline",r[r.Bottom=3]="Bottom"}(wt||(wt={})),function(r){r[r.Right=0]="Right",r[r.Upright=1]="Upright"}(Rt||(Rt={})),function(r){r[r.Small=0]="Small",r[r.Medium=1]="Medium",r[r.Large=2]="Large"}(Lt||(Lt={})),function(r){r[r.Calm=0]="Calm",r[r.Rippled=1]="Rippled",r[r.Slight=2]="Slight",r[r.Moderate=3]="Moderate"}(K||(K={}))},36243:(tt,B,D)=>{D.d(B,{Z:()=>x});class x{constructor(I){this._array=[],I<=0&&console.error("strideInBytes must be positive!"),this._stride=I}get array(){return this._array}get index(){return 4*this._array.length/this._stride}get itemSize(){return this._stride}get sizeInBytes(){return 4*this._array.length}reset(){this.array.length=0}toBuffer(){return new Uint32Array(this._array).buffer}static i1616to32(I,E){return 65535&I|E<<16}static i8888to32(I,E,o,u){return 255&I|(255&E)<<8|(255&o)<<16|u<<24}static i8816to32(I,E,o){return 255&I|(255&E)<<8|o<<16}}},1268:(tt,B,D)=>{D.d(B,{EE:()=>I,R:()=>E,_5:()=>f,aF:()=>o,f2:()=>b,fD:()=>d,fR:()=>S,nR:()=>l,r1:()=>w,vL:()=>u});var S,I,E,o,u,l,f,d,w,h,x=D(7547);(h=S||(S={}))[h.BACKGROUND=0]="BACKGROUND",h[h.FILL=1]="FILL",h[h.LINE=2]="LINE",h[h.SYMBOL=3]="SYMBOL",h[h.CIRCLE=4]="CIRCLE",function(h){h[h.VISIBLE=0]="VISIBLE",h[h.NONE=1]="NONE"}(I||(I={})),function(h){h[h.POINT=0]="POINT",h[h.LINE=1]="LINE",h[h.LINE_CENTER=2]="LINE_CENTER"}(E||(E={})),function(h){h[h.MAP=0]="MAP",h[h.VIEWPORT=1]="VIEWPORT",h[h.AUTO=2]="AUTO"}(o||(o={})),function(h){h[h.AUTO=0]="AUTO",h[h.LEFT=1]="LEFT",h[h.CENTER=2]="CENTER",h[h.RIGHT=3]="RIGHT"}(u||(u={})),function(h){h[h.CENTER=0]="CENTER",h[h.LEFT=1]="LEFT",h[h.RIGHT=2]="RIGHT",h[h.TOP=3]="TOP",h[h.BOTTOM=4]="BOTTOM",h[h.TOP_LEFT=5]="TOP_LEFT",h[h.TOP_RIGHT=6]="TOP_RIGHT",h[h.BOTTOM_LEFT=7]="BOTTOM_LEFT",h[h.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"}(l||(l={})),function(h){h[h.NONE=0]="NONE",h[h.UPPERCASE=1]="UPPERCASE",h[h.LOWERCASE=2]="LOWERCASE"}(f||(f={})),function(h){h[h.MAP=0]="MAP",h[h.VIEWPORT=1]="VIEWPORT"}(d||(d={})),function(h){h[h.HORIZONTAL=0]="HORIZONTAL",h[h.VERTICAL=1]="VERTICAL"}(w||(w={}));class b{}b.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:I.VISIBLE}},b.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:I.VISIBLE}},b.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:I.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:x.RL.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],default:x.AH.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}},b.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:I.VISIBLE},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:E.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:l.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:o.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:l.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:u.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:o.AUTO},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:f.NONE},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[w.HORIZONTAL]}},b.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:I.VISIBLE}},b.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}},b.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:d.MAP}},b.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:d.MAP},"line-width":{type:"number",minimum:0,default:1}},b.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:d.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:d.MAP}},b.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}},b.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:d.MAP}}},13295:(tt,B,D)=>{D.d(B,{Et:()=>we,sj:()=>xe,Le:()=>Re,_L:()=>Pe,gf:()=>Ie,jG:()=>De,nj:()=>Se});var o,u,s,x=D(7547),S=D(919),I=D(62208),E=D(36243);(s=o||(o={}))[s.R8_SIGNED=0]="R8_SIGNED",s[s.R8_UNSIGNED=1]="R8_UNSIGNED",s[s.R16_SIGNED=2]="R16_SIGNED",s[s.R16_UNSIGNED=3]="R16_UNSIGNED",s[s.R8G8_SIGNED=4]="R8G8_SIGNED",s[s.R8G8_UNSIGNED=5]="R8G8_UNSIGNED",s[s.R16G16_SIGNED=6]="R16G16_SIGNED",s[s.R16G16_UNSIGNED=7]="R16G16_UNSIGNED",s[s.R8G8B8A8_SIGNED=8]="R8G8B8A8_SIGNED",s[s.R8G8B8A8_UNSIGNED=9]="R8G8B8A8_UNSIGNED",s[s.R8G8B8A8_COLOR=10]="R8G8B8A8_COLOR",s[s.R16G16B16A16_DASHARRAY=11]="R16G16B16A16_DASHARRAY",s[s.R16G16B16A16_PATTERN=12]="R16G16B16A16_PATTERN",function(s){s[s.UNIFORM=0]="UNIFORM",s[s.DATA_DRIVEN=1]="DATA_DRIVEN",s[s.INTERPOLATED_DATA_DRIVEN=2]="INTERPOLATED_DATA_DRIVEN",s[s.UNUSED=3]="UNUSED"}(u||(u={}));var l=D(67969),f=D(40852);class d{constructor(t){this._locations=new Map,this._key=t}get key(){return this._key}get type(){return 7&this._key}defines(){return[]}getStride(){return this._layoutInfo||this._buildAttributesInfo(),this._stride}getAttributeLocations(){return 0===this._locations.size&&this._buildAttributesInfo(),this._locations}getLayoutInfo(){return this._layoutInfo||this._buildAttributesInfo(),this._layoutInfo}getEncodingInfos(){return this._propertyEncodingInfo||this._buildAttributesInfo(),this._propertyEncodingInfo}getUniforms(){return this._uniforms||this._buildAttributesInfo(),this._uniforms}getShaderHeader(){return this._shaderHeader||this._buildAttributesInfo(),this._shaderHeader}getShaderMain(){return this._shaderMain||this._buildAttributesInfo(),this._shaderMain}setDataUniforms(t,e,i,n,a){const y=this.getUniforms();for(const c of y){const{name:p,type:g,getValue:_}=c,m=_(i,e,n,a);if(null!==m)switch(g){case"float":t.setUniform1f(p,m);break;case"vec2":t.setUniform2fv(p,m);break;case"vec4":t.setUniform4fv(p,m)}}}encodeAttributes(t,e,i,n){var _;const a=this.attributesInfo(),y=this.getEncodingInfos(),c=[];let p=0,g=0;for(const m of Object.keys(y)){const v=y[m],{type:N,precisionFactor:R,isLayout:j}=a[m],O=j?i.getLayoutProperty(m):i.getPaintProperty(m),X=null==(_=O.interpolator)?void 0:_.getInterpolationRange(e);let P=0;for(const C of v){const{offset:U,bufferElementsToAdd:q}=C;if(q>0){for(let Z=0;Z<q;Z++)c.push(0);p+=g,g=C.bufferElementsToAdd}const W=null!=n?n:O.getValue(X?X[P]:e,t);switch(N){case o.R8_SIGNED:case o.R8_UNSIGNED:c[p]|=this._encodeByte(W*(R||1),8*U);break;case o.R16_SIGNED:case o.R16_UNSIGNED:c[p]|=this._encodeShort(W*(R||1),8*U);break;case o.R8G8_SIGNED:case o.R8G8_UNSIGNED:c[p]|=this._encodeByte(W*(R||1),8*U),c[p]|=this._encodeByte(W*(R||1),8*U+8);break;case o.R16G16_SIGNED:case o.R16G16_UNSIGNED:c[p]|=this._encodeShort(W*(R||1),8*U),c[p]|=this._encodeShort(W*(R||1),8*U+16);break;case o.R8G8B8A8_SIGNED:case o.R8G8B8A8_UNSIGNED:c[p]|=this._encodeByte(W*(R||1),8*U),c[p]|=this._encodeByte(W*(R||1),8*U+8),c[p]|=this._encodeByte(W*(R||1),8*U+16),c[p]|=this._encodeByte(W*(R||1),8*U+24);break;case o.R8G8B8A8_COLOR:c[p]=this._encodeColor(W);break;case o.R16G16B16A16_DASHARRAY:case o.R16G16B16A16_PATTERN:this._encodePattern(p,c,W);break;default:throw new Error("Unsupported encoding type")}P++}}return c}getAtributeState(t){let e=0;const i=3+2*t;return e|=this._bit(i),e|=this._bit(i+1)<<1,e}_buildAttributesInfo(){const t=[],e={},i={};let n=-1;const a=this.attributesInfo(),y=this.attributes();let c=-1;for(const m of y){c++;const v=this.getAtributeState(c);if(v===u.UNIFORM||v===u.UNUSED)continue;const N=a[m],R=[];e[m]=R;const j=N.type;for(let O=0;O<v;O++){const{dataType:X,bytesPerElement:P,count:C,normalized:U}=d._encodingInfo[j],q=P*C,W=`${X}-${!0===U}`;let Z=i[W],ct=0;if(!Z||Z.count+C>4)n++,Z={dataIndex:n,count:0,offset:0},4!==C&&(i[W]=Z),t.push({location:-1,name:"a_data_"+n,count:C,type:X,normalized:U}),ct=Math.ceil(Math.max(q/4,1));else{const ht=t[Z.dataIndex];ht.count+=C,ct=Math.ceil(Math.max(ht.count*P/4,1))-Math.ceil(Math.max(Z.offset/4,1))}R.push({dataIndex:Z.dataIndex,offset:Z.offset,bufferElementsToAdd:ct}),Z.offset+=q,Z.count+=C}}for(const m of t)switch(m.type){case l.g.BYTE:case l.g.UNSIGNED_BYTE:m.count=4;break;case l.g.SHORT:case l.g.UNSIGNED_SHORT:m.count+=m.count%2}this._buildVertexBufferLayout(t);let p=0;const g=this._layoutInfo.geometry;for(const m of g)this._locations.set(m.name,p++);const _=this._layoutInfo.opacity;if(_)for(const m of _)this._locations.set(m.name,p++);this._buildShaderInfo(t,e),this._propertyEncodingInfo=e}_buildVertexBufferLayout(t){const e={},i=this.geometryInfo();let n=i[0].stride;if(0===t.length)e.geometry=i;else{const a=[];let y=n;for(const c of t)n+=w(c.type)*c.count;for(const c of i)a.push(new f.G(c.name,c.count,c.type,c.offset,n,c.normalized));for(const c of t)a.push(new f.G(c.name,c.count,c.type,y,n,c.normalized)),y+=w(c.type)*c.count;e.geometry=a}this.opacityInfo()&&(e.opacity=this.opacityInfo()),this._layoutInfo=e,this._stride=n}_buildShaderInfo(t,e){let i="\n",n="\n";const a=[];for(const g of t)i+=`attribute ${this._getType(g.count)} ${g.name};\n`;const y=this.attributes(),c=this.attributesInfo();let p=-1;for(const g of y){p++;const{name:_,type:m,precisionFactor:v,isLayout:N}=c[g],R=v&&1!==v?" * "+1/v:"",{bytesPerElement:j,count:O}=d._encodingInfo[m],X=P=>`a_data_${P.dataIndex}${b(O,P.offset,j)}`;switch(this.getAtributeState(p)){case u.UNIFORM:{const P=this._getType(O),C=`u_${_}`;a.push({name:C,type:P,getValue:(U,q,W,Z)=>{const ct=N?U.getLayoutValue(g,q):U.getPaintValue(g,q);if(m===o.R16G16B16A16_DASHARRAY){const ht=U.getDashKey(ct,U.getLayoutValue("line-cap",q)),Qt=Z.getMosaicItemPosition(ht,!1);if((0,I.Wi)(Qt))return null;const{tl:te,br:fe}=Qt;return[te[0],fe[1],fe[0],te[1]]}if(m===o.R16G16B16A16_PATTERN){const ht=Z.getMosaicItemPosition(ct,!g.includes("line-"));if((0,I.Wi)(ht))return null;const{tl:Qt,br:te}=ht;return[Qt[0],te[1],te[0],Qt[1]]}if(m===o.R8G8B8A8_COLOR){const ht=ct[3];return[ht*ct[0],ht*ct[1],ht*ct[2],ht]}return ct}}),i+=`uniform ${P} ${C};\n`,n+=`${P} ${_} = ${C};\n`}break;case u.DATA_DRIVEN:{const P=X(e[g][0]);n+=`${this._getType(O)} ${_} = ${P}${R};\n`}break;case u.INTERPOLATED_DATA_DRIVEN:{const P=`u_t_${_}`;a.push({name:P,type:"float",getValue:(q,W,Z,ct)=>(N?q.getLayoutProperty(g):q.getPaintProperty(g)).interpolator.interpolationUniformValue(Z,W)}),i+=`uniform float ${P};\n`;const C=X(e[g][0]),U=X(e[g][1]);n+=`${this._getType(O)} ${_} = mix(${C}${R}, ${U}${R}, ${P});\n`}}}this._shaderHeader=i,this._shaderMain=n,this._uniforms=a}_bit(t){return(this._key&1<<t)>>t}_getType(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw new Error("Invalid count")}_encodeColor(t){const e=255*t[3];return E.Z.i8888to32(t[0]*e,t[1]*e,t[2]*e,e)}_encodePattern(t,e,i){if(!i||!i.rect)return;const a=i.rect,y=i.width,c=i.height;e[t]=this._encodeShort(a.x+2,0),e[t]|=this._encodeShort(a.y+2+c,16),e[t+1]=this._encodeShort(a.x+2+y,0),e[t+1]|=this._encodeShort(a.y+2,16)}_encodeByte(t,e){return(255&t)<<e}_encodeShort(t,e){return(65535&t)<<e}}d._encodingInfo={[o.R8_SIGNED]:{dataType:l.g.BYTE,bytesPerElement:1,count:1,normalized:!1},[o.R8_UNSIGNED]:{dataType:l.g.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1},[o.R16_SIGNED]:{dataType:l.g.SHORT,bytesPerElement:2,count:1,normalized:!1},[o.R16_UNSIGNED]:{dataType:l.g.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1},[o.R8G8_SIGNED]:{dataType:l.g.BYTE,bytesPerElement:1,count:2,normalized:!1},[o.R8G8_UNSIGNED]:{dataType:l.g.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1},[o.R16G16_SIGNED]:{dataType:l.g.SHORT,bytesPerElement:2,count:2,normalized:!1},[o.R16G16_UNSIGNED]:{dataType:l.g.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1},[o.R8G8B8A8_SIGNED]:{dataType:l.g.BYTE,bytesPerElement:1,count:4,normalized:!1},[o.R8G8B8A8_UNSIGNED]:{dataType:l.g.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!1},[o.R8G8B8A8_COLOR]:{dataType:l.g.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!0},[o.R16G16B16A16_DASHARRAY]:{dataType:l.g.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1},[o.R16G16B16A16_PATTERN]:{dataType:l.g.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}};const w=s=>{switch(s){case l.g.FLOAT:case l.g.INT:case l.g.UNSIGNED_INT:return 4;case l.g.SHORT:case l.g.UNSIGNED_SHORT:return 2;case l.g.BYTE:case l.g.UNSIGNED_BYTE:return 1}},b=(s,t,e)=>{const i=t/e;if(1===s)switch(i){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(2===s)switch(i){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(3===s)switch(i){case 0:return".xyz";case 1:return".yzw"}return""};class h extends d{constructor(t){super(t)}geometryInfo(){return h.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return h.ATTRIBUTES}attributesInfo(){return h.ATTRIBUTES_INFO}}h.ATTRIBUTES=[],h.GEOMETRY_LAYOUT=[new f.G("a_pos",2,l.g.BYTE,0,2)],h.ATTRIBUTES_INFO={};class M extends d{constructor(t){super(t)}geometryInfo(){return M.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return M.ATTRIBUTES}attributesInfo(){return M.ATTRIBUTES_INFO}}M.ATTRIBUTES=["circle-radius","circle-color","circle-opacity","circle-stroke-width","circle-stroke-color","circle-stroke-opacity","circle-blur"],M.GEOMETRY_LAYOUT=[new f.G("a_pos",2,l.g.SHORT,0,4)],M.ATTRIBUTES_INFO={"circle-radius":{name:"radius",type:o.R8_UNSIGNED},"circle-color":{name:"color",type:o.R8G8B8A8_COLOR},"circle-opacity":{name:"opacity",type:o.R8_UNSIGNED,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:o.R8_UNSIGNED,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:o.R8G8B8A8_COLOR},"circle-stroke-opacity":{name:"stroke_opacity",type:o.R8_UNSIGNED,precisionFactor:100},"circle-blur":{name:"blur",type:o.R8_UNSIGNED,precisionFactor:32}};class V extends d{constructor(t){super(t)}geometryInfo(){return V.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return V.ATTRIBUTES}attributesInfo(){return V.ATTRIBUTES_INFO}}V.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"],V.GEOMETRY_LAYOUT=[new f.G("a_pos",2,l.g.SHORT,0,4)],V.ATTRIBUTES_INFO={"fill-color":{name:"color",type:o.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:o.R8_UNSIGNED,precisionFactor:100},"fill-pattern":{name:"tlbr",type:o.R16G16B16A16_PATTERN,isOptional:!0}};class F extends d{constructor(t,e){super(t),this.usefillColor=e}geometryInfo(){return F.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return this.usefillColor?F.ATTRIBUTES_FILL:F.ATTRIBUTES_OUTLINE}attributesInfo(){return this.usefillColor?F.ATTRIBUTES_INFO_FILL:F.ATTRIBUTES_INFO_OUTLINE}}F.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"],F.ATTRIBUTES_FILL=["fill-color","fill-opacity"],F.GEOMETRY_LAYOUT=[new f.G("a_pos",2,l.g.SHORT,0,8),new f.G("a_offset",2,l.g.BYTE,4,8),new f.G("a_xnormal",2,l.g.BYTE,6,8)],F.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:o.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:o.R8_UNSIGNED,precisionFactor:100}},F.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:o.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:o.R8_UNSIGNED,precisionFactor:100}};class J extends d{constructor(t){super(t)}geometryInfo(){return J.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return J.ATTRIBUTES}attributesInfo(){return J.ATTRIBUTES_INFO}}J.ATTRIBUTES=["line-blur","line-color","line-gap-width","line-offset","line-opacity","line-width","line-pattern","line-dasharray"],J.GEOMETRY_LAYOUT=[new f.G("a_pos",2,l.g.SHORT,0,16),new f.G("a_extrude_offset",4,l.g.BYTE,4,16),new f.G("a_dir_normal",4,l.g.BYTE,8,16),new f.G("a_accumulatedDistance",2,l.g.UNSIGNED_SHORT,12,16)],J.ATTRIBUTES_INFO={"line-width":{name:"width",type:o.R8_UNSIGNED,precisionFactor:2},"line-gap-width":{name:"gap_width",type:o.R8_UNSIGNED,precisionFactor:2},"line-offset":{name:"offset",type:o.R8_SIGNED,precisionFactor:2},"line-color":{name:"color",type:o.R8G8B8A8_COLOR},"line-opacity":{name:"opacity",type:o.R8_UNSIGNED,precisionFactor:100},"line-blur":{name:"blur",type:o.R8_UNSIGNED,precisionFactor:4},"line-pattern":{name:"tlbr",type:o.R16G16B16A16_PATTERN,isOptional:!0},"line-dasharray":{name:"tlbr",type:o.R16G16B16A16_DASHARRAY,isOptional:!0}};const It=[new f.G("a_pos",2,l.g.SHORT,0,16),new f.G("a_vertexOffset",2,l.g.SHORT,4,16),new f.G("a_texAngleRange",4,l.g.UNSIGNED_BYTE,8,16),new f.G("a_levelInfo",4,l.g.UNSIGNED_BYTE,12,16)],Ot=[new f.G("a_opacityInfo",1,l.g.UNSIGNED_BYTE,0,1)];class ot extends d{constructor(t){super(t)}geometryInfo(){return It}opacityInfo(){return Ot}attributes(){return ot.ATTRIBUTES}attributesInfo(){return ot.ATTRIBUTES_INFO}}ot.ATTRIBUTES=["icon-color","icon-opacity","icon-halo-blur","icon-halo-color","icon-halo-width","icon-size"],ot.ATTRIBUTES_INFO={"icon-color":{name:"color",type:o.R8G8B8A8_COLOR},"icon-opacity":{name:"opacity",type:o.R8_UNSIGNED,precisionFactor:100},"icon-halo-color":{name:"halo_color",type:o.R8G8B8A8_COLOR},"icon-halo-width":{name:"halo_width",type:o.R8_UNSIGNED,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:o.R8_UNSIGNED,precisionFactor:4},"icon-size":{name:"size",type:o.R8_UNSIGNED,precisionFactor:32,isLayout:!0}};class it extends d{constructor(t){super(t)}geometryInfo(){return It}opacityInfo(){return Ot}attributes(){return it.ATTRIBUTES}attributesInfo(){return it.ATTRIBUTES_INFO}}it.ATTRIBUTES=["text-color","text-opacity","text-halo-blur","text-halo-color","text-halo-width","text-size"],it.ATTRIBUTES_INFO={"text-color":{name:"color",type:o.R8G8B8A8_COLOR},"text-opacity":{name:"opacity",type:o.R8_UNSIGNED,precisionFactor:100},"text-halo-color":{name:"halo_color",type:o.R8G8B8A8_COLOR},"text-halo-width":{name:"halo_width",type:o.R8_UNSIGNED,precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:o.R8_UNSIGNED,precisionFactor:4},"text-size":{name:"size",type:o.R8_UNSIGNED,isLayout:!0}};var A=D(91558),st=D(78260);function lt(s,t,e,i){const n=3*s,a=3*(e-s)-n,y=1-n-a,c=3*t,p=3*(i-t)-c,g=1-c-p;function _(R){return((y*R+a)*R+n)*R}function v(R){return(3*y*R+2*a)*R+n}return function(R,j=1e-6){return function m(R){return((g*R+p)*R+c)*R}(function N(R,j){let O,X,P,C,U,q;for(P=R,q=0;q<8;q++){if(C=_(P)-R,Math.abs(C)<j)return P;if(U=v(P),Math.abs(U)<1e-6)break;P-=C/U}if(O=0,X=1,P=R,P<O)return O;if(P>X)return X;for(;O<X;){if(C=_(P),Math.abs(C-R)<j)return P;R>C?O=P:X=P,P=.5*(X-O)+O}return P}(R,j))}}const et={};et.ease=lt(.25,.1,.25,1),et.linear=lt(0,0,1,1),et.easeIn=et["ease-in"]=lt(.42,0,1,1),et.easeOut=et["ease-out"]=lt(0,0,.58,1),et.easeInOut=et["ease-in-out"]=lt(.42,0,.58,1);var z=D(86575);const Tt={kind:"null"},L={kind:"number"},Y={kind:"string"},G={kind:"boolean"},rt={kind:"color"},ft={kind:"object"},at={kind:"value"};function yt(s,t){return{kind:"array",itemType:s,n:t}}const Bt=[Tt,L,Y,G,rt,ft,yt(at)];function ut(s){if("array"===s.kind){const t=ut(s.itemType);return"number"==typeof s.n?`array<${t}, ${s.n}>`:"value"===s.itemType.kind?"array":`array<${t}>`}return s.kind}function dt(s){if(null===s)return Tt;if("string"==typeof s)return Y;if("boolean"==typeof s)return G;if("number"==typeof s)return L;if(s instanceof A.Z)return rt;if(Array.isArray(s)){let t;for(const e of s){const i=dt(e);if(t){if(t!==i){t=at;break}}else t=i}return yt(t||at,s.length)}return"object"==typeof s?ft:at}function Dt(s,t){if("array"===t.kind)return"array"===s.kind&&(0===s.n&&"value"===s.itemType.kind||Dt(s.itemType,t.itemType))&&("number"!=typeof t.n||t.n===s.n);if("value"===t.kind)for(const e of Bt)if(Dt(s,e))return!0;return t.kind===s.kind}function gt(s){if(null===s)return"";const t=typeof s;return"string"===t?s:"number"===t||"boolean"===t?String(s):s instanceof A.Z?s.toString():JSON.stringify(s)}var _t=D(97938);class Ut{constructor(t){this.parent=t,this.vars={}}add(t,e){this.vars[t]=e}get(t){return this.vars[t]?this.vars[t]:this.parent?this.parent.get(t):null}}class xt{constructor(){this.type=at}static parse(t){if(t.length>1)throw new Error('"id" does not expect arguments');return new xt}evaluate(t,e){return null==t?void 0:t.id}}class Pt{constructor(){this.type=Y}static parse(t){if(t.length>1)throw new Error('"geometry-type" does not expect arguments');return new Pt}evaluate(t,e){if(!t)return null;switch(t.type){case _t.V.Point:return"Point";case _t.V.LineString:return"LineString";case _t.V.Polygon:return"Polygon";default:return null}}}class mt{constructor(){this.type=ft}static parse(t){if(t.length>1)throw new Error('"properties" does not expect arguments');return new mt}evaluate(t,e){return null==t?void 0:t.values}}class pt{constructor(){this.type=L}static parse(t){if(t.length>1)throw new Error('"zoom" does not expect arguments');return new pt}evaluate(t,e){return e}}class ${constructor(t,e,i){this.lhs=t,this.rhs=e,this.compare=i,this.type=G}static parse(t,e,i){if(3!==t.length&&4!==t.length)throw new Error(`"${t[0]}" expects 2 or 3 arguments`);if(4===t.length)throw new Error(`"${t[0]}" collator not supported`);return new $(T(t[1],e),T(t[2],e),i)}evaluate(t,e){return this.compare(this.lhs.evaluate(t,e),this.rhs.evaluate(t,e))}}class vt{constructor(t){this.arg=t,this.type=G}static parse(t,e){if(2!==t.length)throw new Error('"!" expects 1 argument');return new vt(T(t[1],e))}evaluate(t,e){return!this.arg.evaluate(t,e)}}class St{constructor(t){this.args=t,this.type=G}static parse(t,e){const i=[];for(let n=1;n<t.length;n++)i.push(T(t[n],e));return new St(i)}evaluate(t,e){for(const i of this.args)if(!i.evaluate(t,e))return!1;return!0}}class Et{constructor(t){this.args=t,this.type=G}static parse(t,e){const i=[];for(let n=1;n<t.length;n++)i.push(T(t[n],e));return new Et(i)}evaluate(t,e){for(const i of this.args)if(i.evaluate(t,e))return!0;return!1}}class bt{constructor(t){this.args=t,this.type=G}static parse(t,e){const i=[];for(let n=1;n<t.length;n++)i.push(T(t[n],e));return new bt(i)}evaluate(t,e){for(const i of this.args)if(i.evaluate(t,e))return!1;return!0}}class wt{constructor(t,e,i){this.type=t,this.args=e,this.fallback=i}static parse(t,e,i){if(t.length<4)throw new Error('"case" expects at least 3 arguments');if(t.length%2==1)throw new Error('"case" expects an odd number of arguments');let n;const a=[];for(let c=1;c<t.length-1;c+=2){const p=T(t[c],e),g=T(t[c+1],e,i);n||(n=g.type),a.push({condition:p,output:g})}const y=T(t[t.length-1],e,i);return n||(n=y.type),new wt(n,a,y)}evaluate(t,e){for(const i of this.args)if(i.condition.evaluate(t,e))return i.output.evaluate(t,e);return this.fallback.evaluate(t,e)}}class Rt{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)throw new Error('"coalesce" expects at least 1 argument');let i;const n=[];for(let a=1;a<t.length;a++){const y=T(t[a],e);i||(i=y.type),n.push(y)}return new Rt(i,n)}evaluate(t,e){for(const i of this.args){const n=i.evaluate(t,e);if(null!==n)return n}return null}}class Lt{constructor(t,e,i,n,a){this.type=t,this.input=e,this.labels=i,this.outputs=n,this.fallback=a}static parse(t,e){if(t.length<3)throw new Error('"match" expects at least 3 arguments');if(t.length%2==0)throw new Error('"case" expects an even number of arguments');let i;const n=T(t[1],e),a=[],y={};let c;for(let p=2;p<t.length-1;p+=2){let g=t[p];Array.isArray(g)||(g=[g]);for(const m of g){const v=typeof m;if("string"!==v&&"number"!==v)throw new Error('"match" requires string or number literal as labels');if(c){if(v!==c)throw new Error('"match" requires labels to have the same type')}else c=v;y[m]=a.length}const _=T(t[p+1],e);i||(i=_.type),a.push(_)}return new Lt(i,n,y,a,T(t[t.length-1],e))}evaluate(t,e){const i=this.input.evaluate(t,e);return(this.outputs[this.labels[i]]||this.fallback).evaluate(t,e)}}class K{constructor(t,e,i,n,a){this.operator=t,this.type=e,this.interpolation=i,this.input=n,this.stops=a}static parse(t,e,i){const n=t[0];if(t.length<5)throw new Error(`"${n}" expects at least 4 arguments`);const a=t[1];if(!Array.isArray(a)||0===a.length)throw new Error(`"${a}" is not a valid interpolation`);switch(a[0]){case"linear":if(1!==a.length)throw new Error("Linear interpolation cannot have parameters");break;case"exponential":if(2!==a.length||"number"!=typeof a[1])throw new Error("Exponential interpolation requires one numeric argument");break;case"cubic-bezier":if(5!==a.length)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(let g=1;g<5;g++){const _=a[g];if("number"!=typeof _||_<0||_>1)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1")}break;default:throw new Error(`"${t[0]}" unknown interpolation type "${a[0]}"`)}if(t.length%2!=1)throw new Error(`"${n}" expects an even number of arguments`);const y=T(t[2],e,L);let c;"interpolate-hcl"===n||"interpolate-lab"===n?c=rt:i&&"value"!==i.kind&&(c=i);const p=[];for(let g=3;g<t.length;g+=2){const _=t[g];if("number"!=typeof _)throw new Error(`"${n}" requires stop inputs as literal numbers`);if(p.length&&p[p.length-1][0]>=_)throw new Error(`"${n}" requires strictly ascending stop inputs`);const m=T(t[g+1],e,c);c||(c=m.type),p.push([_,m])}if(c&&c!==rt&&c!==L&&("array"!==c.kind||c.itemType!==L))throw new Error(`"${n}" cannot interpolate type ${ut(c)}`);return new K(n,c,a,y,p)}evaluate(t,e){const i=this.stops;if(1===i.length)return i[0][1].evaluate(t,e);const n=this.input.evaluate(t,e);if(n<=i[0][0])return i[0][1].evaluate(t,e);if(n>=i[i.length-1][0])return i[i.length-1][1].evaluate(t,e);let a=0;for(;++a<i.length&&!(n<i[a][0]););const p=K.interpolationRatio(this.interpolation,n,i[a-1][0],i[a][0]),g=i[a-1][1].evaluate(t,e),_=i[a][1].evaluate(t,e);if("interpolate"===this.operator){if("array"===this.type.kind&&Array.isArray(g)&&Array.isArray(_))return g.map((m,v)=>(0,z.sX)(m,_[v],p));if("color"===this.type.kind&&g instanceof A.Z&&_ instanceof A.Z){const m=new A.Z(g),v=new A.Z(_);return new A.Z([(0,z.sX)(m.r,v.r,p),(0,z.sX)(m.g,v.g,p),(0,z.sX)(m.b,v.b,p),(0,z.sX)(m.a,v.a,p)])}if("number"===this.type.kind&&"number"==typeof g&&"number"==typeof _)return(0,z.sX)(g,_,p);throw new Error(`"${this.operator}" cannot interpolate type ${ut(this.type)}`)}if("interpolate-hcl"===this.operator){const m=(0,st.sJ)(g),v=(0,st.sJ)(_),N=v.h-m.h,R=(0,st.xr)({h:m.h+p*(N>180||N<-180?N-360*Math.round(N/360):N),c:(0,z.sX)(m.c,v.c,p),l:(0,z.sX)(m.l,v.l,p)});return new A.Z(ce({a:(0,z.sX)(g.a,_.a,p)},R))}if("interpolate-lab"===this.operator){const m=(0,st.Y3)(g),v=(0,st.Y3)(_),N=(0,st.xr)({l:(0,z.sX)(m.l,v.l,p),a:(0,z.sX)(m.a,v.a,p),b:(0,z.sX)(m.b,v.b,p)});return new A.Z(ce({a:(0,z.sX)(g.a,_.a,p)},N))}throw new Error(`Unexpected operator "${this.operator}"`)}interpolationUniformValue(t,e){const i=this.stops;if(1===i.length||t>=i[i.length-1][0])return 0;let n=0;for(;++n<i.length&&!(t<i[n][0]););return K.interpolationRatio(this.interpolation,e,i[n-1][0],i[n][0])}getInterpolationRange(t){const e=this.stops;if(1===e.length){const a=e[0][0];return[a,a]}const i=e[e.length-1][0];if(t>=i)return[i,i];let n=0;for(;++n<e.length&&!(t<e[n][0]););return[e[n-1][0],e[n][0]]}static interpolationRatio(t,e,i,n){let a=0;return"linear"===t[0]?a=K._exponentialInterpolationRatio(e,1,i,n):"exponential"===t[0]?a=K._exponentialInterpolationRatio(e,t[1],i,n):"cubic-bezier"===t[0]&&(a=lt(t[1],t[2],t[3],t[4])(K._exponentialInterpolationRatio(e,1,i,n),1e-5)),a<0?a=0:a>1&&(a=1),a}static _exponentialInterpolationRatio(t,e,i,n){const a=n-i;if(0===a)return 0;const y=t-i;return 1===e?y/a:(e**y-1)/(e**a-1)}}class r{constructor(t,e,i){this.type=t,this.input=e,this.stops=i}static parse(t,e){if(t.length<5)throw new Error('"step" expects at least 4 arguments');if(t.length%2!=1)throw new Error('"step" expects an even number of arguments');const i=T(t[1],e,L);let n;const a=[];a.push([-1/0,T(t[2],e)]);for(let y=3;y<t.length;y+=2){const c=t[y];if("number"!=typeof c)throw new Error('"step" requires stop inputs as literal numbers');if(a.length&&a[a.length-1][0]>=c)throw new Error('"step" requires strictly ascending stop inputs');const p=T(t[y+1],e);n||(n=p.type),a.push([c,p])}return new r(n,i,a)}evaluate(t,e){const i=this.stops;if(1===i.length)return i[0][1].evaluate(t,e);const n=this.input.evaluate(t,e);let a=0;for(;++a<i.length&&!(n<i[a][0]););return this.stops[a-1][1].evaluate(t,e)}}class Zt{constructor(t,e){this.type=t,this.output=e}static parse(t,e,i){if(t.length<4)throw new Error('"let" expects at least 3 arguments');if(t.length%2==1)throw new Error('"let" expects an odd number of arguments');const n=new Ut(e);for(let y=1;y<t.length-1;y+=2){const c=t[y];if("string"!=typeof c)throw new Error(`"let" requires a string to define variable names - found ${c}`);n.add(c,T(t[y+1],e))}const a=T(t[t.length-1],n,i);return new Zt(a.type,a)}evaluate(t,e){return this.output.evaluate(t,e)}}class jt{constructor(t,e){this.type=t,this.output=e}static parse(t,e,i){if(2!==t.length||"string"!=typeof t[1])throw new Error('"var" requires just one literal string argument');const n=e.get(t[1]);if(!n)throw new Error(`${t[1]} must be defined before being used in a "var" expression`);return new jt(i||at,n)}evaluate(t,e){return this.output.evaluate(t,e)}}class Kt{constructor(t,e,i){this.type=t,this.index=e,this.array=i}static parse(t,e){if(3!==t.length)throw new Error('"at" expects 2 arguments');const i=T(t[1],e,L),n=T(t[2],e);return new Kt(n.type.itemType,i,n)}evaluate(t,e){const i=this.index.evaluate(t,e),n=this.array.evaluate(t,e);if(i<0||i>=n.length)throw new Error('"at" index out of bounds');if(i!==Math.floor(i))throw new Error('"at" index must be an integer');return n[i]}}class Ft{constructor(t,e){this.key=t,this.obj=e,this.type=at}static parse(t,e){let i,n;switch(t.length){case 2:return i=T(t[1],e),new Ft(i);case 3:return i=T(t[1],e),n=T(t[2],e),new Ft(i,n);default:throw new Error('"get" expects 1 or 2 arguments')}}evaluate(t,e){const i=this.key.evaluate(t,e);return this.obj?this.obj.evaluate(t,e)[i]:null==t?void 0:t.values[i]}}class zt{constructor(t,e){this.key=t,this.obj=e,this.type=G}static parse(t,e){let i,n;switch(t.length){case 2:return i=T(t[1],e),new zt(i);case 3:return i=T(t[1],e),n=T(t[2],e),new zt(i,n);default:throw new Error('"has" expects 1 or 2 arguments')}}evaluate(t,e){const i=this.key.evaluate(t,e);return this.obj?i in this.obj.evaluate(t,e):!(null==t||!t.values[i])}}class Xt{constructor(t,e){this.key=t,this.vals=e,this.type=G}static parse(t,e){if(3!==t.length)throw new Error('"in" expects 2 arguments');return new Xt(T(t[1],e),T(t[2],e))}evaluate(t,e){const i=this.key.evaluate(t,e);return this.vals.evaluate(t,e).includes(i)}}class Vt{constructor(t,e,i){this.item=t,this.array=e,this.from=i,this.type=L}static parse(t,e){if(t.length<3||t.length>4)throw new Error('"index-of" expects 3 or 4 arguments');const i=T(t[1],e),n=T(t[2],e);if(4===t.length){const a=T(t[3],e,L);return new Vt(i,n,a)}return new Vt(i,n)}evaluate(t,e){const i=this.item.evaluate(t,e),n=this.array.evaluate(t,e);if(this.from){const a=this.from.evaluate(t,e);if(a!==Math.floor(a))throw new Error('"index-of" index must be an integer');return n.indexOf(i,a)}return n.indexOf(i)}}class qt{constructor(t){this.arg=t,this.type=L}static parse(t,e){if(2!==t.length)throw new Error('"length" expects 2 arguments');const i=T(t[1],e);return new qt(i)}evaluate(t,e){const i=this.arg.evaluate(t,e);if("string"==typeof i||Array.isArray(i))return i.length;throw new Error('"length" expects string or array')}}class $t{constructor(t,e,i,n){this.type=t,this.array=e,this.from=i,this.to=n}static parse(t,e){if(t.length<3||t.length>4)throw new Error('"slice" expects 2 or 3 arguments');const i=T(t[1],e),n=T(t[2],e,L);if(n.type!==L)throw new Error('"slice" index must return a number');if(4===t.length){const a=T(t[3],e,L);if(a.type!==L)throw new Error('"slice" index must return a number');return new $t(i.type,i,n,a)}return new $t(i.type,i,n)}evaluate(t,e){const i=this.array.evaluate(t,e);if(!Array.isArray(i)&&"string"!=typeof i)throw new Error('"slice" input must be an array or a string');const n=this.from.evaluate(t,e);if(n<0||n>=i.length)throw new Error('"slice" index out of bounds');if(n!==Math.floor(n))throw new Error('"slice" index must be an integer');if(this.to){const a=this.to.evaluate(t,e);if(a<0||a>=i.length)throw new Error('"slice" index out of bounds');if(a!==Math.floor(a))throw new Error('"slice" index must be an integer');return i.slice(n,a)}return i.slice(n)}}class ne{constructor(){this.type=G}static parse(t){if(1!==t.length)throw new Error('"has-id" expects no arguments');return new ne}evaluate(t,e){return t&&void 0!==t.id}}class Q{constructor(t,e){this.args=t,this.calculate=e,this.type=L}static parse(t,e,i){const n=t.slice(1).map(a=>T(a,e));return new Q(n,i)}evaluate(t,e){let i;return this.args&&(i=this.args.map(n=>n.evaluate(t,e))),this.calculate(i)}}let H=(()=>{class s{constructor(e,i){this.args=e,this.calculate=i,this.type=L}static parse(e,i){const n=e.slice(1).map(a=>T(a,i));return new s(n,s.ops[e[0]])}evaluate(e,i){let n;return this.args&&(n=this.args.map(a=>a.evaluate(e,i))),this.calculate(n)}}return s.ops={abs:t=>Math.abs(t[0]),acos:t=>Math.acos(t[0]),asin:t=>Math.asin(t[0]),atan:t=>Math.atan(t[0]),ceil:t=>Math.ceil(t[0]),cos:t=>Math.cos(t[0]),e:()=>Math.E,floor:t=>Math.floor(t[0]),ln:t=>Math.log(t[0]),ln2:()=>Math.LN2,log10:t=>Math.log(t[0])/Math.LN10,log2:t=>Math.log(t[0])/Math.LN2,max:t=>Math.max(...t),min:t=>Math.min(...t),pi:()=>Math.PI,round:t=>Math.round(t[0]),sin:t=>Math.sin(t[0]),sqrt:t=>Math.sqrt(t[0]),tan:t=>Math.tan(t[0])},s})();class ie{constructor(t){this.args=t,this.type=Y}static parse(t,e){return new ie(t.slice(1).map(i=>T(i,e)))}evaluate(t,e){return this.args.map(i=>i.evaluate(t,e)).join("")}}let he=(()=>{class s{constructor(e,i){this.arg=e,this.calculate=i,this.type=Y}static parse(e,i){if(2!==e.length)throw new Error(`${e[0]} expects 1 argument`);const n=T(e[1],i);return new s(n,s.ops[e[0]])}evaluate(e,i){return this.calculate(this.arg.evaluate(e,i))}}return s.ops={downcase:t=>t.toLowerCase(),upcase:t=>t.toUpperCase()},s})();class ae{constructor(t){this.args=t,this.type=rt}static parse(t,e){if(4!==t.length)throw new Error('"rgb" expects 3 arguments');const i=t.slice(1).map(n=>T(n,e));return new ae(i)}evaluate(t,e){const i=this._validate(this.args[0].evaluate(t,e)),n=this._validate(this.args[1].evaluate(t,e)),a=this._validate(this.args[2].evaluate(t,e));return new A.Z({r:i,g:n,b:a})}_validate(t){if("number"!=typeof t||t<0||t>255)throw new Error(`${t}: invalid color component`);return Math.round(t)}}class oe{constructor(t){this.args=t,this.type=rt}static parse(t,e){if(5!==t.length)throw new Error('"rgba" expects 4 arguments');const i=t.slice(1).map(n=>T(n,e));return new oe(i)}evaluate(t,e){const i=this._validate(this.args[0].evaluate(t,e)),n=this._validate(this.args[1].evaluate(t,e)),a=this._validate(this.args[2].evaluate(t,e)),y=this._validateAlpha(this.args[3].evaluate(t,e));return new A.Z({r:i,g:n,b:a,a:y})}_validate(t){if("number"!=typeof t||t<0||t>255)throw new Error(`${t}: invalid color component`);return Math.round(t)}_validateAlpha(t){if("number"!=typeof t||t<0||t>1)throw new Error(`${t}: invalid alpha color component`);return t}}class se{constructor(t){this.color=t,this.type=yt(L,4)}static parse(t,e){if(2!==t.length)throw new Error('"to-rgba" expects 1 argument');const i=T(t[1],e);return new se(i)}evaluate(t,e){return new A.Z(this.color.evaluate(t,e)).toRgba()}}class Nt{constructor(t,e){this.type=t,this.args=e}static parse(t,e){const i=t[0];if(t.length<2)throw new Error(`${i} expects at least one argument`);let n,a=1;if("array"===i){if(t.length>2){switch(t[1]){case"string":n=Y;break;case"number":n=L;break;case"boolean":n=G;break;default:throw new Error('"array" type argument must be string, number or boolean')}a++}else n=at;let c;if(t.length>3){if(c=t[2],null!==c&&("number"!=typeof c||c<0||c!==Math.floor(c)))throw new Error('"array" length argument must be a positive integer literal');a++}n=yt(n,c)}else switch(i){case"string":n=Y;break;case"number":n=L;break;case"boolean":n=G;break;case"object":n=ft}const y=[];for(;a<t.length;a++){const c=T(t[a],e);y.push(c)}return new Nt(n,y)}evaluate(t,e){let i;for(const n of this.args){const a=n.evaluate(t,e);if(i=dt(a),Dt(i,this.type))return a}throw new Error(`Expected ${ut(this.type)} but got ${ut(i)}`)}}let At=(()=>{class s{constructor(e,i){this.type=e,this.args=i}static parse(e,i){const n=e[0],a=s.types[n];if(a===G||a===Y){if(2!==e.length)throw new Error(`${n} expects one argument`)}else if(e.length<2)throw new Error(`${n} expects at least one argument`);const y=[];for(let c=1;c<e.length;c++){const p=T(e[c],i);y.push(p)}return new s(a,y)}evaluate(e,i){if(this.type===G)return Boolean(this.args[0].evaluate(e,i));if(this.type===Y)return gt(this.args[0].evaluate(e,i));if(this.type===L){for(const n of this.args){const a=Number(n.evaluate(e,i));if(!isNaN(a))return a}return null}if(this.type===rt){for(const n of this.args)try{const a=s.toColor(n.evaluate(e,i));if(a instanceof A.Z)return a}catch(a){}return null}}static toBoolean(e){return Boolean(e)}static toString(e){return gt(e)}static toNumber(e){const i=Number(e);if(isNaN(i))throw new Error(`"${e}" is not a number`);return i}static toColor(e){if(e instanceof A.Z)return e;if("string"==typeof e){const i=A.Z.fromString(e);if(i)return i;throw new Error(`"${e}" is not a color`)}if(Array.isArray(e))return A.Z.fromArray(e);throw new Error(`"${e}" is not a color`)}}return s.types={"to-boolean":G,"to-color":rt,"to-number":L,"to-string":Y},s})();class le{constructor(t){this.val=t,this.type=dt(t)}static parse(t){if(2!==t.length)throw new Error('"literal" expects 1 argument');return new le(t[1])}evaluate(t,e){return this.val}}class ue{constructor(t){this.arg=t,this.type=Y}static parse(t,e){if(2!==t.length)throw new Error('"typeof" expects 1 argument');return new ue(T(t[1],e))}evaluate(t,e){return ut(dt(this.arg.evaluate(t,e)))}}function T(s,t,e){const i=typeof s;if("string"===i||"boolean"===i||"number"===i||null===s){if(e)switch(e.kind){case"string":"string"!==i&&(s=At.toString(s));break;case"number":"number"!==i&&(s=At.toNumber(s));break;case"color":s=At.toColor(s)}s=["literal",s]}if(!Array.isArray(s)||0===s.length)throw new Error("Expression must be a non empty array");const n=s[0];if("string"!=typeof n)throw new Error("First element of expression must be a string");const a=pe[n];if(void 0===a)throw new Error(`Invalid expression operator "${n}"`);if(!a)throw new Error(`Unimplemented expression operator "${n}"`);return a.parse(s,t,e)}const pe={array:Nt,boolean:Nt,collator:null,format:null,image:null,literal:le,number:Nt,"number-format":null,object:Nt,string:Nt,"to-boolean":At,"to-color":At,"to-number":At,"to-string":At,typeof:ue,accumulated:null,"feature-state":null,"geometry-type":Pt,id:xt,"line-progress":null,properties:mt,at:Kt,get:Ft,has:zt,in:Xt,"index-of":Vt,length:qt,slice:$t,"!":vt,"!=":class Yt extends ${static parse(t,e){return $.parse(t,e,(i,n)=>i!==n)}},"<":class Ct extends ${static parse(t,e){return $.parse(t,e,(i,n)=>i<n)}},"<=":class Wt extends ${static parse(t,e){return $.parse(t,e,(i,n)=>i<=n)}},"==":class Gt extends ${static parse(t,e){return $.parse(t,e,(i,n)=>i===n)}},">":class kt extends ${static parse(t,e){return $.parse(t,e,(i,n)=>i>n)}},">=":class Mt extends ${static parse(t,e){return $.parse(t,e,(i,n)=>i>=n)}},all:St,any:Et,case:wt,coalesce:Rt,match:Lt,within:null,interpolate:K,"interpolate-hcl":K,"interpolate-lab":K,step:r,let:Zt,var:jt,concat:ie,downcase:he,"is-supported-script":null,"resolved-locale":null,upcase:he,rgb:ae,rgba:oe,"to-rgba":se,"-":class ge extends Q{static parse(t,e){switch(t.length){case 2:return Q.parse(t,e,i=>-i[0]);case 3:return Q.parse(t,e,i=>i[0]-i[1]);default:throw new Error('"-" expects 1 or 2 arguments')}}},"*":class me extends Q{static parse(t,e){return Q.parse(t,e,i=>{let n=1;for(const a of i)n*=a;return n})}},"/":class Ee extends Q{static parse(t,e){if(3===t.length)return Q.parse(t,e,i=>i[0]/i[1]);throw new Error('"/" expects 2 arguments')}},"%":class be extends Q{static parse(t,e){if(3===t.length)return Q.parse(t,e,i=>i[0]%i[1]);throw new Error('"%" expects 2 arguments')}},"^":class Te extends Q{static parse(t,e){if(3===t.length)return Q.parse(t,e,i=>i[0]**i[1]);throw new Error('"^" expects 1 or 2 arguments')}},"+":class _e extends Q{static parse(t,e){return Q.parse(t,e,i=>{let n=0;for(const a of i)n+=a;return n})}},abs:H,acos:H,asin:H,atan:H,ceil:H,cos:H,e:H,floor:H,ln:H,ln2:H,log10:H,log2:H,max:H,min:H,pi:H,round:H,sin:H,sqrt:H,tan:H,zoom:pt,"heatmap-density":null,"has-id":ne,none:bt};class nt{constructor(t){this._expression=t}filter(t,e){if(!this._expression)return!0;try{return this._expression.evaluate(t,e)}catch(i){return console.log(i.message),!0}}static createFilter(t){if(!t)return null;this.isLegacyFilter(t)&&(t=this.convertLegacyFilter(t));try{const e=T(t,null,G);return new nt(e)}catch(e){return console.log(e.message),null}}static isLegacyFilter(t){if(!Array.isArray(t)||0===t.length)return!0;switch(t[0]){case"==":case"!=":case">":case"<":case">=":case"<=":return 3===t.length&&"string"==typeof t[1]&&!Array.isArray(t[2]);case"in":return t.length>=3&&"string"==typeof t[1]&&!Array.isArray(t[2]);case"!in":case"none":case"!has":return!0;case"any":case"all":for(let e=1;e<t.length;e++)if(this.isLegacyFilter(t[e]))return!0;return!1;case"has":return 2===t.length&&("$id"===t[1]||"$type"===t[1]);default:return!1}}static convertLegacyFilter(t){if(!Array.isArray(t)||0===t.length)return!0;const e=t[0];if(1===t.length)return"any"!==e;switch(e){case"==":return nt.convertComparison("==",t[1],t[2]);case"!=":return nt.negate(nt.convertComparison("==",t[1],t[2]));case">":case"<":case">=":case"<=":return nt.convertComparison(e,t[1],t[2]);case"in":return nt.convertIn(t[1],t.slice(2));case"!in":return nt.negate(nt.convertIn(t[1],t.slice(2)));case"any":case"all":case"none":return nt.convertCombining(e,t.slice(1));case"has":return nt.convertHas(t[1]);case"!has":return nt.negate(nt.convertHas(t[1]));default:throw new Error("Unexpected legacy filter.")}}static convertComparison(t,e,i){switch(e){case"$type":return[t,["geometry-type"],i];case"$id":return[t,["id"],i];default:return[t,["get",e],i]}}static convertIn(t,e){switch(t){case"$type":return["in",["geometry-type"],["literal",e]];case"$id":return["in",["id"],["literal",e]];default:return["in",["get",t],["literal",e]]}}static convertHas(t){switch(t){case"$type":return!0;case"$id":return["has-id"];default:return["has",t]}}static convertCombining(t,e){return[t].concat(e.map(this.convertLegacyFilter))}static negate(t){return["!",t]}}var k=D(1268);class re{constructor(t,e){let i;switch(this.isDataDriven=!1,this.interpolator=null,t.type){case"number":case"color":i=!0;break;case"array":i="number"===t.value;break;default:i=!1}if(null==e&&(e=t.default),Array.isArray(e)&&e.length>0&&pe[e[0]]){const a={number:L,color:rt,string:Y,boolean:G,enum:Y};try{const c=T(e,null,"array"===t.type?yt(a[t.value]||at,t.length):a[t.type]);this.getValue=this._buildExpression(c,t),this.isDataDriven=!0,c instanceof K&&c.input instanceof pt&&(this.interpolator=c)}catch(y){console.log(y.message),this.getValue=this._buildSimple(t.default)}return}i&&"interval"===e.type&&(i=!1);const n=e&&e.stops&&e.stops.length>0;if(n)for(const a of e.stops)a[1]=this._validate(a[1],t);if(this.isDataDriven=!!e&&!!e.property,this.isDataDriven)if(void 0!==e.default&&(e.default=this._validate(e.default,t)),n)switch(e.type){case"identity":this.getValue=this._buildIdentity(e,t);break;case"categorical":this.getValue=this._buildCategorical(e,t);break;default:this.getValue=i?this._buildInterpolate(e,t):this._buildInterval(e,t)}else this.getValue=this._buildIdentity(e,t);else n?this.getValue=i?this._buildZoomInterpolate(e):this._buildZoomInterval(e):(e=this._validate(e,t),this.getValue=this._buildSimple(e))}_validate(t,e){if("number"===e.type){if(t<e.minimum)return e.minimum;if(t>e.maximum)return e.maximum}else"color"===e.type?t=re._parseColor(t):"enum"===e.type?"string"==typeof t&&(t=e.values.indexOf(t)):"array"===e.type&&"enum"===e.value?t=t.map(i=>"string"==typeof i?e.values.indexOf(i):i):"string"===e.type&&(t=gt(t));return t}_buildSimple(t){return()=>t}_buildExpression(t,e){return(i,n)=>{try{const a=t.evaluate(n,i);return void 0===a?e.default:this._validate(a,e)}catch(a){return console.log(a.message),e.default}}}_buildIdentity(t,e){return(i,n)=>{let a;return n&&(a=n.values[t.property]),void 0!==a&&(a=this._validate(a,e)),null!=a?a:void 0!==t.default?t.default:e.default}}_buildCategorical(t,e){return(i,n)=>{let a;return n&&(a=n.values[t.property]),a=this._categorical(a,t.stops),void 0!==a?a:void 0!==t.default?t.default:e.default}}_buildInterval(t,e){return(i,n)=>{let a;return n&&(a=n.values[t.property]),"number"==typeof a?this._interval(a,t.stops):void 0!==t.default?t.default:e.default}}_buildInterpolate(t,e){return(i,n)=>{let a;return n&&(a=n.values[t.property]),"number"==typeof a?this._interpolate(a,t.stops,t.base||1):void 0!==t.default?t.default:e.default}}_buildZoomInterpolate(t){return e=>this._interpolate(e,t.stops,t.base||1)}_buildZoomInterval(t){return e=>this._interval(e,t.stops)}_categorical(t,e){const i=e.length;for(let n=0;n<i;n++)if(e[n][0]===t)return e[n][1]}_interval(t,e){const i=e.length;let n=0;for(let a=0;a<i&&e[a][0]<=t;a++)n=a;return e[n][1]}_interpolate(t,e,i){let n,a;const y=e.length;for(let c=0;c<y;c++){const p=e[c];if(!(p[0]<=t)){a=p;break}n=p}if(n&&a){const c=a[0]-n[0],p=t-n[0],g=1===i?p/c:(i**p-1)/(i**c-1);if(Array.isArray(n[1])){const _=n[1],m=a[1],v=[];for(let N=0;N<_.length;N++)v.push((0,z.sX)(_[N],m[N],g));return v}return(0,z.sX)(n[1],a[1],g)}return n?n[1]:a?a[1]:void 0}static _isEmpty(t){for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}static _parseColor(t){return Array.isArray(t)?t:("string"==typeof t&&(t=new A.Z(t)),t instanceof A.Z&&!this._isEmpty(t)?A.Z.toUnitRGBA(t):void 0)}}var ve=D(39351);class Jt{constructor(t,e,i,n){switch(this.type=t,this.typeName=e.type,this.id=e.id,this.source=e.source,this.sourceLayer=e["source-layer"],this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this.filter=e.filter,this.layout=e.layout,this.paint=e.paint,this.z=i,this.uid=n,t){case k.fR.BACKGROUND:this._layoutDefinition=k.f2.backgroundLayoutDefinition,this._paintDefinition=k.f2.backgroundPaintDefinition;break;case k.fR.FILL:this._layoutDefinition=k.f2.fillLayoutDefinition,this._paintDefinition=k.f2.fillPaintDefinition;break;case k.fR.LINE:this._layoutDefinition=k.f2.lineLayoutDefinition,this._paintDefinition=k.f2.linePaintDefinition;break;case k.fR.SYMBOL:this._layoutDefinition=k.f2.symbolLayoutDefinition,this._paintDefinition=k.f2.symbolPaintDefinition;break;case k.fR.CIRCLE:this._layoutDefinition=k.f2.circleLayoutDefinition,this._paintDefinition=k.f2.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout),this._paintProperties=this._parsePaint(this.paint)}getFeatureFilter(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=nt.createFilter(this.filter)}getLayoutProperty(t){return this._layoutProperties[t]}getPaintProperty(t){return this._paintProperties[t]}getLayoutValue(t,e,i){let n;const a=this._layoutProperties[t];return a&&(n=a.getValue(e,i)),void 0===n&&(n=this._layoutDefinition[t].default),n}getPaintValue(t,e,i){let n;const a=this._paintProperties[t];return a&&(n=a.getValue(e,i)),void 0===n&&(n=this._paintDefinition[t].default),n}isPainterDataDriven(){const t=this._paintProperties;if(t)for(const e in t)if(t[e].isDataDriven)return!0;return!1}_parseLayout(t){const e={};for(const i in t){const n=this._layoutDefinition[i];n&&(e[i]=new re(n,t[i]))}return e}_parsePaint(t){const e={};for(const i in t){const n=this._paintDefinition[i];n&&(e[i]=new re(n,t[i]))}return e}computeAttributesKey(t,e,i,n){let a=0,y=0;for(const c of e){let p=3;if(!c||c!==n){const g=i[c],{isLayout:_,isOptional:m}=g,v=_?this.getLayoutProperty(c):this.getPaintProperty(c);p=null!=v&&v.interpolator?2:null!=v&&v.isDataDriven?1:m&&!v?3:0}y|=p<<a,a+=2}return y<<3|t}}class we extends Jt{constructor(t,e,i,n){super(t,e,i,n),this.backgroundMaterial=new h(this.computeAttributesKey(S._K.BACKGROUND,h.ATTRIBUTES,h.ATTRIBUTES_INFO))}}class Re extends Jt{constructor(t,e,i,n){super(t,e,i,n);const a=this.getPaintProperty("fill-color"),y=this.getPaintProperty("fill-opacity"),c=this.getPaintProperty("fill-pattern");this.hasDataDrivenColor=null==a?void 0:a.isDataDriven,this.hasDataDrivenOpacity=null==y?void 0:y.isDataDriven,this.hasDataDrivenFill=this.hasDataDrivenColor||this.hasDataDrivenOpacity||(null==c?void 0:c.isDataDriven);const p=this.getPaintProperty("fill-outline-color");this.outlineUsesFillColor=!p,this.hasDataDrivenOutlineColor=null==p?void 0:p.isDataDriven,this.hasDataDrivenOutline=p?p.isDataDriven:!!a&&a.isDataDriven,this.hasDataDrivenOutline=(p?this.hasDataDrivenOutlineColor:this.hasDataDrivenColor)||this.hasDataDrivenOpacity,this.fillMaterial=new V(this.computeAttributesKey(S._K.FILL,V.ATTRIBUTES,V.ATTRIBUTES_INFO)),this.outlineMaterial=new F(this.computeAttributesKey(S._K.OUTLINE,this.outlineUsesFillColor?F.ATTRIBUTES_FILL:F.ATTRIBUTES_OUTLINE,this.outlineUsesFillColor?F.ATTRIBUTES_INFO_FILL:F.ATTRIBUTES_INFO_OUTLINE),this.outlineUsesFillColor)}}class Ie extends Jt{constructor(t,e,i,n){var y,c,p,g,_,m,v,N,R;super(t,e,i,n);const a=this.getPaintProperty("line-pattern");if(this.lineMaterial=new J(this.computeAttributesKey(S._K.LINE,J.ATTRIBUTES,J.ATTRIBUTES_INFO,a?"line-dasharray":"")),this.hasDataDrivenLine=(null==(y=this.getPaintProperty("line-blur"))?void 0:y.isDataDriven)||(null==(c=this.getPaintProperty("line-color"))?void 0:c.isDataDriven)||(null==(p=this.getPaintProperty("line-gap-width"))?void 0:p.isDataDriven)||(null==(g=this.getPaintProperty("line-offset"))?void 0:g.isDataDriven)||(null==(_=this.getPaintProperty("line-opacity"))?void 0:_.isDataDriven)||(null==(m=this.getPaintProperty("line-pattern"))?void 0:m.isDataDriven)||(null==(v=this.getPaintProperty("line-dasharray"))?void 0:v.isDataDriven)||(null==(N=this.getLayoutProperty("line-cap"))?void 0:N.isDataDriven)||(null==(R=this.getPaintProperty("line-width"))?void 0:R.isDataDriven),this.canUseThinTessellation=!1,!this.hasDataDrivenLine){const j=this.getPaintProperty("line-width");if(!j||"number"==typeof j&&.5*j<ve.tQ){const O=this.getPaintProperty("line-offset");(!O||"number"==typeof O&&0===O)&&(this.canUseThinTessellation=!0)}}}getDashKey(t,e){let i;switch(e){case x.RL.BUTT:i="Butt";break;case x.RL.ROUND:i="Round";break;case x.RL.SQUARE:i="Square";break;default:i="Butt"}return`dasharray-[${t.toString()}]-${i}`}}class De extends Jt{constructor(t,e,i,n){var a,y,c,p,g,_,m,v,N,R,j,O;super(t,e,i,n),this.iconMaterial=new ot(this.computeAttributesKey(S._K.ICON,ot.ATTRIBUTES,ot.ATTRIBUTES_INFO)),this.textMaterial=new it(this.computeAttributesKey(S._K.TEXT,it.ATTRIBUTES,it.ATTRIBUTES_INFO)),this.hasDataDrivenIcon=(null==(a=this.getPaintProperty("icon-color"))?void 0:a.isDataDriven)||(null==(y=this.getPaintProperty("icon-halo-blur"))?void 0:y.isDataDriven)||(null==(c=this.getPaintProperty("icon-halo-color"))?void 0:c.isDataDriven)||(null==(p=this.getPaintProperty("icon-halo-width"))?void 0:p.isDataDriven)||(null==(g=this.getPaintProperty("icon-opacity"))?void 0:g.isDataDriven)||(null==(_=this.getLayoutProperty("icon-size"))?void 0:_.isDataDriven),this.hasDataDrivenText=(null==(m=this.getPaintProperty("text-color"))?void 0:m.isDataDriven)||(null==(v=this.getPaintProperty("text-halo-blur"))?void 0:v.isDataDriven)||(null==(N=this.getPaintProperty("text-halo-color"))?void 0:N.isDataDriven)||(null==(R=this.getPaintProperty("text-halo-width"))?void 0:R.isDataDriven)||(null==(j=this.getPaintProperty("text-opacity"))?void 0:j.isDataDriven)||(null==(O=this.getLayoutProperty("text-size"))?void 0:O.isDataDriven)}}class xe extends Jt{constructor(t,e,i,n){super(t,e,i,n),this.circleMaterial=new M(this.computeAttributesKey(S._K.CIRCLE,M.ATTRIBUTES,M.ATTRIBUTES_INFO))}}class Pe{constructor(t,e,i){let n;this.allowOverlap=t.getLayoutValue("icon-allow-overlap",e),this.ignorePlacement=t.getLayoutValue("icon-ignore-placement",e),this.keepUpright=t.getLayoutValue("icon-keep-upright",e),this.optional=t.getLayoutValue("icon-optional",e),this.rotationAlignment=t.getLayoutValue("icon-rotation-alignment",e),this.rotationAlignment===k.aF.AUTO&&(this.rotationAlignment=i?k.aF.MAP:k.aF.VIEWPORT),n=t.getLayoutProperty("icon-anchor"),null!=n&&n.isDataDriven?this._anchorProp=n:this.anchor=t.getLayoutValue("icon-anchor",e),n=t.getLayoutProperty("icon-offset"),null!=n&&n.isDataDriven?this._offsetProp=n:this.offset=t.getLayoutValue("icon-offset",e),n=t.getLayoutProperty("icon-padding"),null!=n&&n.isDataDriven?this._paddingProp=n:this.padding=t.getLayoutValue("icon-padding",e),n=t.getLayoutProperty("icon-rotate"),null!=n&&n.isDataDriven?this._rotateProp=n:this.rotate=t.getLayoutValue("icon-rotate",e),n=t.getLayoutProperty("icon-size"),null!=n&&n.isDataDriven?this._sizeProp=n:this.size=t.getLayoutValue("icon-size",e)}update(t,e){this._anchorProp&&(this.anchor=this._anchorProp.getValue(t,e)),this._offsetProp&&(this.offset=this._offsetProp.getValue(t,e)),this._paddingProp&&(this.padding=this._paddingProp.getValue(t,e)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(t,e)),this._sizeProp&&(this.size=this._sizeProp.getValue(t,e))}}class Se{constructor(t,e,i){let n;this.allowOverlap=t.getLayoutValue("text-allow-overlap",e),this.ignorePlacement=t.getLayoutValue("text-ignore-placement",e),this.keepUpright=t.getLayoutValue("text-keep-upright",e),this.optional=t.getLayoutValue("text-optional",e),this.rotationAlignment=t.getLayoutValue("text-rotation-alignment",e),this.rotationAlignment===k.aF.AUTO&&(this.rotationAlignment=i?k.aF.MAP:k.aF.VIEWPORT),n=t.getLayoutProperty("text-anchor"),null!=n&&n.isDataDriven?this._anchorProp=n:this.anchor=t.getLayoutValue("text-anchor",e),n=t.getLayoutProperty("text-justify"),null!=n&&n.isDataDriven?this._justifyProp=n:this.justify=t.getLayoutValue("text-justify",e),n=t.getLayoutProperty("text-letter-spacing"),null!=n&&n.isDataDriven?this._letterSpacingProp=n:this.letterSpacing=t.getLayoutValue("text-letter-spacing",e),n=t.getLayoutProperty("text-line-height"),null!=n&&n.isDataDriven?this._lineHeightProp=n:this.lineHeight=t.getLayoutValue("text-line-height",e),n=t.getLayoutProperty("text-max-angle"),null!=n&&n.isDataDriven?this._maxAngleProp=n:this.maxAngle=t.getLayoutValue("text-max-angle",e),n=t.getLayoutProperty("text-max-width"),null!=n&&n.isDataDriven?this._maxWidthProp=n:this.maxWidth=t.getLayoutValue("text-max-width",e),n=t.getLayoutProperty("text-offset"),null!=n&&n.isDataDriven?this._offsetProp=n:this.offset=t.getLayoutValue("text-offset",e),n=t.getLayoutProperty("text-padding"),null!=n&&n.isDataDriven?this._paddingProp=n:this.padding=t.getLayoutValue("text-padding",e),n=t.getLayoutProperty("text-rotate"),null!=n&&n.isDataDriven?this._rotateProp=n:this.rotate=t.getLayoutValue("text-rotate",e),n=t.getLayoutProperty("text-size"),null!=n&&n.isDataDriven?this._sizeProp=n:this.size=t.getLayoutValue("text-size",e),n=t.getLayoutProperty("text-writing-mode"),null!=n&&n.isDataDriven?this._writingModeProp=n:this.writingMode=t.getLayoutValue("text-writing-mode",e)}update(t,e){this._anchorProp&&(this.anchor=this._anchorProp.getValue(t,e)),this._justifyProp&&(this.justify=this._justifyProp.getValue(t,e)),this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(t,e)),this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(t,e)),this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(t,e)),this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(t,e)),this._offsetProp&&(this.offset=this._offsetProp.getValue(t,e)),this._paddingProp&&(this.padding=this._paddingProp.getValue(t,e)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(t,e)),this._sizeProp&&(this.size=this._sizeProp.getValue(t,e)),this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(t,e))}}},78364:(tt,B,D)=>{D.d(B,{Z:()=>I});var x=D(1268),S=D(13295);class I{constructor(o){if(this._style=o,this.backgroundBucketIds=[],this._uidToLayer=new Map,this._layerByName={},this._runningId=0,o.layers||(o.layers=[]),this.version=parseFloat(o.version),this.layers=o.layers.map((u,l,f)=>this._create(u,l,f)).filter(u=>!!u),this.layers){let u;for(let l=0;l<this.layers.length;l++)u=this.layers[l],this._layerByName[u.id]=u,this._uidToLayer.set(u.uid,u),u.type===x.fR.BACKGROUND&&this.backgroundBucketIds.push(u.id)}this._identifyRefLayers()}isPainterDataDriven(o){const u=this._layerByName[o];return!!u&&u.isPainterDataDriven()}getStyleLayerId(o){return o>=this.layers.length?null:this.layers[o].id}getStyleLayerByUID(o){var u;return null!=(u=this._uidToLayer.get(o))?u:null}getStyleLayerIndex(o){const u=this._layerByName[o];return u?this.layers.indexOf(u):-1}setStyleLayer(o,u){if(!o||!o.id)return;const l=this._style;null!=u&&u>=this.layers.length&&(u=this.layers.length-1);let f,d=!0;const w=this._layerByName[o.id];if(w){const b=this.layers.indexOf(w);u||(u=b),u===b?(d=!1,f=I._recreateLayer(o,w),this.layers[u]=f,l.layers[u]=o):(this.layers.splice(b,1),l.layers.splice(b,1),f=this._create(o,u,this.layers),this.layers.splice(u,0,f),l.layers.splice(u,0,o))}else f=this._create(o,u,this.layers),!u||u>=this.layers.length?(this.layers.push(f),l.layers.push(o)):(this.layers.splice(u,0,f),l.layers.splice(u,0,o));this._layerByName[o.id]=f,this._uidToLayer.set(f.uid,f),d&&this._recomputeZValues(),this._identifyRefLayers()}getStyleLayer(o){const u=this._layerByName[o];return u?{type:u.typeName,id:u.id,source:u.source,"source-layer":u.sourceLayer,minzoom:u.minzoom,maxzoom:u.maxzoom,filter:u.filter,layout:u.layout,paint:u.paint}:null}deleteStyleLayer(o){const u=this._layerByName[o];if(u){delete this._layerByName[o],this._uidToLayer.delete(u.uid);const l=this.layers.indexOf(u);this.layers.splice(l,1),this._style.layers.splice(l,1),this._recomputeZValues(),this._identifyRefLayers()}}getLayerById(o){return this._layerByName[o]}getLayoutProperties(o){const u=this._layerByName[o];return u?u.layout:null}getPaintProperties(o){const u=this._layerByName[o];return u?u.paint:null}setPaintProperties(o,u){const l=this._layerByName[o];if(!l)return;const d=I._recreateLayer({type:l.typeName,id:l.id,source:l.source,"source-layer":l.sourceLayer,minzoom:l.minzoom,maxzoom:l.maxzoom,filter:l.filter,layout:l.layout,paint:u},l),w=this.layers.indexOf(l);this.layers[w]=d,this._style.layers[w].paint=u,this._layerByName[l.id]=d,this._uidToLayer.set(l.uid,d)}setLayoutProperties(o,u){const l=this._layerByName[o];if(!l)return;const d=I._recreateLayer({type:l.typeName,id:l.id,source:l.source,"source-layer":l.sourceLayer,minzoom:l.minzoom,maxzoom:l.maxzoom,filter:l.filter,layout:u,paint:l.paint},l),w=this.layers.indexOf(l);this.layers[w]=d,this._style.layers[w].layout=u,this._layerByName[l.id]=d,this._uidToLayer.set(l.uid,d)}setStyleLayerVisibility(o,u){const l=this._layerByName[o];if(!l)return;const f=l.layout||{};f.visibility=u;const w=I._recreateLayer({type:l.typeName,id:l.id,source:l.source,"source-layer":l.sourceLayer,minzoom:l.minzoom,maxzoom:l.maxzoom,filter:l.filter,layout:f,paint:l.paint},l),b=this.layers.indexOf(l);this.layers[b]=w,this._style.layers[b].layout=f,this._layerByName[l.id]=w,this._uidToLayer.set(l.uid,w)}getStyleLayerVisibility(o){var l,f;const u=this._layerByName[o];return u?null!=(f=null==(l=u.layout)?void 0:l.visibility)?f:"visible":"none"}_recomputeZValues(){const o=this.layers,u=1/(o.length+1);for(let l=0;l<o.length;l++)o[l].z=1-(1+l)*u}_identifyRefLayers(){const o=[],u=[];let l=0;for(const f of this.layers){const d=f.layout;if(f.type===x.fR.FILL){const w=f;let b=f.source+"|"+f.sourceLayer;b+="|"+(null==d?void 0:d.visibility),b+="|"+f.minzoom,b+="|"+f.maxzoom,b+="|"+JSON.stringify(f.filter),(w.hasDataDrivenFill||w.hasDataDrivenOutline)&&(b+="|"+l),o.push({key:b,layer:f})}else if(f.type===x.fR.LINE){const w=f;let b=f.source+"|"+f.sourceLayer;b+="|"+(null==d?void 0:d.visibility),b+="|"+f.minzoom,b+="|"+f.maxzoom,b+="|"+JSON.stringify(f.filter),b+="|"+(void 0!==d?d["line-cap"]:""),b+="|"+(void 0!==d?d["line-join"]:""),w.hasDataDrivenLine&&(b+="|"+l),u.push({key:b,layer:f})}++l}this._assignRefLayers(o),this._assignRefLayers(u)}_assignRefLayers(o){let u,l;o.sort((d,w)=>d.key<w.key?-1:d.key>w.key?1:0);const f=o.length;for(let d=0;d<f;d++){const w=o[d];if(w.key===u)w.layer.refLayerId=l;else if(u=w.key,l=w.layer.id,w.layer.type===x.fR.FILL){if(!w.layer.getPaintProperty("fill-outline-color"))for(let b=d+1;b<f;b++){const h=o[b];if(h.key!==u)break;if(h.layer.getPaintProperty("fill-outline-color")){o[d]=h,o[b]=w,l=h.layer.id;break}}}else if(w.layer.type===x.fR.LINE){let b=w.layer;for(let h=d+1;h<f;h++){const M=o[h];if(M.key!==u)break;const V=M.layer;(b.canUseThinTessellation&&!V.canUseThinTessellation||!b.canUseThinTessellation&&(V.getPaintProperty("line-pattern")||V.getPaintProperty("line-dasharray")))&&(b=V,o[d]=M,o[h]=w,l=M.layer.id)}}}}_create(o,u,l){const f=1-(1+u)*(1/(l.length+1)),d=this._runningId++;switch(o.type){case"background":return new S.Et(x.fR.BACKGROUND,o,f,d);case"fill":return new S.Le(x.fR.FILL,o,f,d);case"line":return new S.gf(x.fR.LINE,o,f,d);case"symbol":return new S.jG(x.fR.SYMBOL,o,f,d);case"raster":console.warn(`Unsupported vector tile raster layer ${o.id}`);case"circle":return new S.sj(x.fR.CIRCLE,o,f,d)}}static _recreateLayer(o,u){switch(o.type){case"background":return new S.Et(x.fR.BACKGROUND,o,u.z,u.uid);case"fill":return new S.Le(x.fR.FILL,o,u.z,u.uid);case"line":return new S.gf(x.fR.LINE,o,u.z,u.uid);case"symbol":return new S.jG(x.fR.SYMBOL,o,u.z,u.uid);case"raster":console.warn(`Unsupported vector tile raster layer ${o.id}`);case"circle":return new S.sj(x.fR.CIRCLE,o,u.z,u.uid)}}}},97938:(tt,B,D)=>{D.d(B,{E:()=>x,V:()=>S});class x{constructor(E,o){this.x=E,this.y=o}clone(){return new x(this.x,this.y)}equals(E,o){return E===this.x&&o===this.y}isEqual(E){return E.x===this.x&&E.y===this.y}setCoords(E,o){this.x=E,this.y=o}normalize(){const E=this.x,o=this.y,u=Math.sqrt(E*E+o*o);this.x/=u,this.y/=u}rightPerpendicular(){const E=this.x;this.x=this.y,this.y=-E}move(E,o){this.x+=E,this.y+=o}assign(E){this.x=E.x,this.y=E.y}assignAdd(E,o){this.x=E.x+o.x,this.y=E.y+o.y}assignSub(E,o){this.x=E.x-o.x,this.y=E.y-o.y}rotate(E,o){const u=this.x,l=this.y;this.x=u*E-l*o,this.y=u*o+l*E}scale(E){this.x*=E,this.y*=E}length(){const E=this.x,o=this.y;return Math.sqrt(E*E+o*o)}static distance(E,o){const u=o.x-E.x,l=o.y-E.y;return Math.sqrt(u*u+l*l)}static add(E,o){return new x(E.x+o.x,E.y+o.y)}static sub(E,o){return new x(E.x-o.x,E.y-o.y)}}var S,I;(I=S||(S={}))[I.Unknown=0]="Unknown",I[I.Point=1]="Point",I[I.LineString=2]="LineString",I[I.Polygon=3]="Polygon"},39351:(tt,B,D)=>{D.d(B,{$0:()=>b,AI:()=>I,By:()=>rt,C1:()=>r,CQ:()=>jt,CU:()=>Mt,Ex:()=>A,I_:()=>u,Ic:()=>z,Ij:()=>Y,Ip:()=>wt,Iv:()=>Xt,Iw:()=>st,MI:()=>K,SD:()=>qt,Tz:()=>Kt,Uh:()=>Zt,V4:()=>kt,XJ:()=>bt,_6:()=>Vt,a:()=>vt,aK:()=>Ut,e0:()=>zt,eV:()=>h,f2:()=>G,fL:()=>Et,iJ:()=>Tt,jk:()=>$t,kF:()=>ut,m4:()=>mt,mx:()=>ft,nM:()=>L,oK:()=>Ft,pU:()=>_t,ru:()=>o,tQ:()=>Ct,uG:()=>pt,xl:()=>gt,xm:()=>M,yP:()=>dt});const I=1e-30,o=4294967295,u=512,b=8,h=10,M=29,A=24,st=8,z=0,Tt=1,L=2,Y=3,G=4,rt=5,ft=6,ut=5,dt=6,gt=1,_t=2,Ut=3,mt=2,pt=1,Ct=1.05,kt=5,Mt=6,vt=1.15,Et=2,bt=8,wt=500,K=10,r=1024,Zt=2,jt=0,Kt=1,Ft=4,zt=8,Xt=16,Vt=4,qt=1,$t=4}}]);