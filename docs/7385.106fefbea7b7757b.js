"use strict";var fe=Object.defineProperty,ye=Object.defineProperties,ge=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,Q=(M,v,p)=>v in M?fe(M,v,{enumerable:!0,configurable:!0,writable:!0,value:p}):M[v]=p,j=(M,v)=>{for(var p in v||(v={}))ve.call(v,p)&&Q(M,p,v[p]);if(N)for(var p of N(v))we.call(v,p)&&Q(M,p,v[p]);return M},U=(M,v)=>ye(M,ge(v));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[7385],{67385:(M,v,p)=>{p.r(v),p.d(v,{getContrastingBackgroundTheme:()=>I,getRenderSymbolParameters:()=>q,previewSymbol2D:()=>de});var A=p(15861),E=p(91558),X=p(26584),x=p(23841),C=p(74741),z=p(71131),Y=p(34057);function G(n){const{r:e,g:a,b:s}=function B(n){let{r:e,g:a,b:s,a:i}=n;return i<1&&(e=Math.round(i*e+255*(1-i)),a=Math.round(i*a+255*(1-i)),s=Math.round(i*s+255*(1-i))),new E.Z({r:e,g:a,b:s})}(n);return.2126*e+.7152*a+.0722*s}const P="picture-fill",oe=z.b_.size,Z=z.b_.maxSize,R=z.b_.maxOutlineSize,re=z.b_.lineWidth,ie=document.createElement("canvas");function H(n){const e=null==n?void 0:n.size;return{width:null!=e&&"object"==typeof e&&"width"in e?(0,x.F2)(e.width):null,height:null!=e&&"object"==typeof e&&"height"in e?(0,x.F2)(e.height):null}}function pe(n,e){return O.apply(this,arguments)}function O(){return(O=(0,A.Z)(function*(n,e){const a=e.fill,s=n.color;if("pattern"===(null==a?void 0:a.type)&&s&&n.type!==P){const i=yield(0,C.Od)(a.src,s.toCss(!0));a.src=i,e.fill=a}})).apply(this,arguments)}function J(n,e){return n>e?"dark":"light"}function q(n,e){var L;const a="number"==typeof(null==e?void 0:e.size)?null==e?void 0:e.size:null,s=null!=a?(0,x.F2)(a):null,i=null!=(null==e?void 0:e.maxSize)?(0,x.F2)(e.maxSize):null,f=null!=(null==e?void 0:e.rotation)?e.rotation:"angle"in n?n.angle:null,w=(0,C._M)(n);let d=(0,C.mx)(n);"dark"!==I(n,245)||(null==e?void 0:e.ignoreWhiteSymbols)||(d=U(j({width:.75},d),{color:"#bdc3c7"}));const m={shape:null,fill:w,stroke:d,offset:[0,0]};null!=d&&d.width&&(d.width=Math.min(d.width,R));const g=(null==d?void 0:d.width)||0;let h=null!=(null==e?void 0:e.size)&&(null==(null==e?void 0:e.scale)||(null==e?void 0:e.scale)),l=0,o=0,k=!1;switch(n.type){case"simple-marker":{const c=n.style,y=Math.min(null!=s?s:(0,x.F2)(n.size),i||Z);switch(l=y,o=y,c){case"circle":m.shape={type:"circle",cx:0,cy:0,r:.5*y},h||(l+=g,o+=g);break;case"cross":m.shape={type:"path",path:[{command:"M",values:[0,.5*o]},{command:"L",values:[l,.5*o]},{command:"M",values:[.5*l,0]},{command:"L",values:[.5*l,o]}]};break;case"diamond":m.shape={type:"path",path:[{command:"M",values:[0,.5*o]},{command:"L",values:[.5*l,0]},{command:"L",values:[l,.5*o]},{command:"L",values:[.5*l,o]},{command:"Z",values:[]}]},h||(l+=g,o+=g);break;case"square":m.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[l,0]},{command:"L",values:[l,o]},{command:"L",values:[0,o]},{command:"Z",values:[]}]},h||(l+=g,o+=g),f&&(k=!0);break;case"triangle":m.shape={type:"path",path:[{command:"M",values:[.5*l,0]},{command:"L",values:[l,o]},{command:"L",values:[0,o]},{command:"Z",values:[]}]},h||(l+=g,o+=g),f&&(k=!0);break;case"x":m.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[l,o]},{command:"M",values:[l,0]},{command:"L",values:[0,o]}]},f&&(k=!0);break;case"path":m.shape={type:"path",path:n.path||""},h||(l+=g,o+=g),f&&(k=!0),h=!0}break}case"simple-line":{const{width:c,height:y}=H(e),u=null!=y?y:Math.min(null!=s?s:g,i||R),b=null!=c?c:re;d.width=u,l=b,o=u;const F=(null==(L=null==m?void 0:m.stroke)?void 0:L.cap)||"butt",S="round"===F;h=!0,m.stroke.cap="butt"===F?"square":F,m.shape={type:"path",path:[{command:"M",values:[S?u/2:0,o/2]},{command:"L",values:[S?l-u/2:l,o/2]}]};break}case P:case"simple-fill":{const c="object"==typeof(null==e?void 0:e.symbolConfig)&&(null==e?void 0:e.symbolConfig.isSquareFill),{width:y,height:u}=H(e);l=c&&null!=y?y:null!=s?s:oe,o=c&&null!=u?u:l,h||(l+=g,o+=g),h=!0,m.shape=c?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[l,0]},{command:"L",values:[l,o]},{command:"L",values:[0,o]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:z.JZ.fill[0];break}case"picture-marker":{let c=(0,x.F2)(n.width),y=(0,x.F2)(n.height);const u=null!=s?s:Math.max(c,y),b=c/y;c=b<=1?Math.ceil(u*b):u,y=b<=1?u:Math.ceil(u/b),l=Math.min(c,i||Z),o=Math.min(y,i||Z),m.shape={type:"image",x:-Math.round(l/2),y:-Math.round(o/2),width:l,height:o,src:n.url||""},f&&(k=!0);break}case"text":{const c=n,y=c.text||"Aa",u=c.font,b=Math.min(null!=s?s:(0,x.F2)(u.size),i||Z),F=function ce(n,e){const a=ie.getContext("2d"),s=[];return e&&(e.weight&&s.push(e.weight),e.size&&s.push(e.size+"px"),e.family&&s.push(e.family)),a.font=s.join(" "),a.measureText(n).width}(y,{weight:u.weight,size:b,family:u.family}),S=/[\uE600-\uE6FF]/.test(y);l=S?b:F,o=b;let K=.25*function he(n){if(0===n.length)return 0;if(n.length>2){const e=(0,x.Wz)(1),a=parseFloat(n);switch(n.slice(-2)){case"px":return a;case"pt":return a*e;case"in":return 72*a*e;case"pc":return 12*a*e;case"mm":return 2.8346456692913384*a*e;case"cm":return 28.346456692913385*a*e}}return parseFloat(n)}((u?b:0).toString());S&&(K+=5),m.shape={type:"text",text:y,x:c.xoffset||0,y:c.yoffset||K,align:"middle",alignBaseline:c.verticalAlignment,decoration:u&&u.decoration,rotated:c.rotated,kerning:c.kerning},m.font=u&&{size:b,style:u.style,decoration:u.decoration,weight:u.weight,family:u.family};break}}return{shapeDescriptor:m,size:[l,o],renderOptions:{node:null==e?void 0:e.node,scale:h,opacity:null==e?void 0:e.opacity,rotation:f,useRotationSize:k,effectView:null==e?void 0:e.effectView}}}function de(n,e){return V.apply(this,arguments)}function V(){return(V=(0,A.Z)(function*(n,e){const{shapeDescriptor:a,size:s,renderOptions:i}=q(n,e);if(!a.shape)throw new X.Z("symbolPreview: renderPreviewHTML2D","symbol not supported.");yield pe(n,a);const f=[[a]];if("object"==typeof(null==e?void 0:e.symbolConfig)&&(null==e?void 0:e.symbolConfig.applyColorModulation)){const w=.6*s[0];f.unshift([U(j({},a),{offset:[-w,0],fill:(0,z.dc)(a.fill,-.3)})]),f.push([U(j({},a),{offset:[w,0],fill:(0,z.dc)(a.fill,.3)})]),s[0]+=2*w,i.scale=!1}return(0,Y.w)(f,s,i)})).apply(this,arguments)}function I(n,e=225){const a=(0,C._M)(n),s=(0,C.mx)(n),i=!a||"type"in a?null:new E.Z(a),f=null!=s&&s.color?new E.Z(null==s?void 0:s.color):null,w=i?J(G(i),e):null,d=f?J(G(f),e):null;return d?w?w===d?w:e>=225?"light":"dark":d:w}}}]);