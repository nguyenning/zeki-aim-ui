"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[4976],{64976:(M,d,e)=>{e.r(d),e.d(d,{default:()=>O});var r=e(17626),i=e(26584),E=e(77712),p=(e(90912),e(85931),e(76898)),y=e(19702),P=e(50916),a=e(45611);let n=class extends((0,P.r)((0,y.A)(a.Z))){constructor(){super(...arguments),this.type="elevation-3d"}get tileInfo(){return this.layer.tileInfo}initialize(){var o,l,v,D,g;const c=null==(l=null==(o=this.view)?void 0:o.map)?void 0:l.allLayers,t=c&&c.includes(this.layer),_=null==(g=null==(D=null==(v=this.view)?void 0:v.map)?void 0:D.ground)?void 0:g.layers,s=_&&_.includes(this.layer);if(t&&!s){const C=new i.Z("layerview:elevation-layer-only","3D elevation layer '"+this.layer.id+"' can only be added to layers in map.ground");this.addResolvingPromise(Promise.reject(C))}this._addTilingSchemeMatchPromise()}};(0,r._)([(0,E.Cb)()],n.prototype,"layer",void 0),(0,r._)([(0,E.Cb)()],n.prototype,"tileInfo",null),n=(0,r._)([(0,p.j)("esri.views.3d.layers.ElevationLayerView3D")],n);const O=n},19702:(M,d,e)=>{e.d(d,{A:()=>O});var r=e(15861),i=e(17626),E=e(54024),h=e(10699),u=e(32917),p=e(77712),a=(e(90912),e(85931),e(76898)),n=e(36947);const O=c=>{let t=class extends c{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(_){super.postscript(_),(0,n.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}_validateHeightModelInfo(){var _=this;return(0,r.Z)(function*(){const s=new AbortController,o=s.signal;_.handles.add((0,E.kB)(()=>s.abort())),yield(0,u.N1)(()=>{var v;return null==(v=_.view.defaultsFromMap)?void 0:v.heightModelInfoReady},o),(0,h.k_)(o);const l=(0,n.Wt)(_.layer,_.view.heightModelInfo,_.supportsHeightUnitConversion);if(l)throw l})()}canResume(){const _=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!_||!_.minScale||!_.maxScale||_.minScale>=_.maxScale)}getSuspendInfo(){const _=super.getSuspendInfo(),s=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(_.outsideScaleRange=!0),_}};return(0,i._)([(0,p.Cb)()],t.prototype,"view",void 0),(0,i._)([(0,p.Cb)()],t.prototype,"slicePlaneEnabled",void 0),t=(0,i._)([(0,a.j)("esri.views.3d.layers.LayerView3D")],t),t}},45611:(M,d,e)=>{e.d(d,{Z:()=>_});var r=e(17626),i=e(14517),E=e(61885),h=e(80542),u=e(61996),p=e(63290),y=e(62208),P=e(60330),a=e(77712),c=(e(90912),e(85931),e(76898));let t=class extends((0,h.p)((0,u.IG)((0,P.v)(E.Z.EventedMixin(i.Z))))){constructor(s){super(s),this.layer=null,this.parent=null}initialize(){this.when().catch(s=>{if("layerview:create-error"!==s.name){const o=this.layer&&this.layer.id||"no id",l=this.layer&&this.layer.title||"no title";p.Z.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${l}', id: '${o}')`,s)}})}get fullOpacity(){return(0,y.Pt)(this.get("layer.opacity"),1)*(0,y.Pt)(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var s;return!this.suspended&&!0===(null==(s=this.layer)?void 0:s.legendEnabled)}get updating(){var s;return!!(null!=(s=this.updatingHandles)&&s.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var s;return!0===(null==(s=this.layer)?void 0:s.visible)}set visible(s){this._overrideIfSome("visible",s)}canResume(){var s,o,l;return this.visible&&(null==(s=this.layer)?void 0:s.loaded)&&!(null!=(o=this.parent)&&o.suspended)&&(null==(l=this.view)?void 0:l.ready)||!1}getSuspendInfo(){const s=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(s.viewNotReady=!0),this.layer&&this.layer.loaded||(s.layerNotLoaded=!0),this.visible||(s.layerInvisible=!0),s}isUpdating(){return!1}};(0,r._)([(0,a.Cb)()],t.prototype,"fullOpacity",null),(0,r._)([(0,a.Cb)()],t.prototype,"layer",void 0),(0,r._)([(0,a.Cb)()],t.prototype,"parent",void 0),(0,r._)([(0,a.Cb)({readOnly:!0})],t.prototype,"suspended",null),(0,r._)([(0,a.Cb)({readOnly:!0})],t.prototype,"suspendInfo",null),(0,r._)([(0,a.Cb)({readOnly:!0})],t.prototype,"legendEnabled",null),(0,r._)([(0,a.Cb)({type:Boolean,readOnly:!0})],t.prototype,"updating",null),(0,r._)([(0,a.Cb)({readOnly:!0})],t.prototype,"updatingProgress",null),(0,r._)([(0,a.Cb)()],t.prototype,"visible",null),(0,r._)([(0,a.Cb)()],t.prototype,"view",void 0),t=(0,r._)([(0,c.j)("esri.views.layers.LayerView")],t);const _=t}}]);