"use strict";var ee=Object.defineProperty,re=Object.defineProperties,ae=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,O=(o,i,t)=>i in o?ee(o,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[i]=t,V=(o,i)=>{for(var t in i||(i={}))te.call(i,t)&&O(o,t,i[t]);if(b)for(var t of b(i))ye.call(i,t)&&O(o,t,i[t]);return o},B=(o,i)=>re(o,ae(i));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[1074],{71074:(o,i,t)=>{t.r(i),t.d(i,{populateOperationalLayers:()=>A});var u=t(15861),U=t(46160),D=(t(8314),t(10699)),c=t(30164),w=t(55463);function R(e){return T(e,"notes")}function Z(e){return T(e,"markup")}function E(e){return T(e,"route")}function T(e,r){return!(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)&&e.featureCollectionType===r}var N=t(7534),J=t(39683);function A(e,r,a){return g.apply(this,arguments)}function g(){return(g=(0,u.Z)(function*(e,r,a){if(!r)return;const n=[];for(const y of r){const L=j(y,a);n.push("GroupLayer"===y.layerType?q(L,y,a):L)}const l=yield(0,D.as)(n);for(const y of l)y.value&&e.add(y.value)})).apply(this,arguments)}const K={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},P={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},k={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",DefaultTileLayer:"TileLayer"},H={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},$={ArcGISFeatureLayer:"FeatureLayer"},z={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};function j(e,r){return f.apply(this,arguments)}function f(){return(f=(0,u.Z)(function*(e,r){return Q(yield X(e,r),e,r)})).apply(this,arguments)}function Q(e,r,a){return m.apply(this,arguments)}function m(){return(m=(0,u.Z)(function*(e,r,a){const n=new e;return n.read(r,a.context),"group"===n.type&&h(r)&&(yield _(n,r,a.context)),yield(0,J.y)(n,a.context),n})).apply(this,arguments)}function X(e,r){return G.apply(this,arguments)}function G(){return(G=(0,u.Z)(function*(e,r){var s;const a=r.context,n=Y(a);let l=e.layerType||e.type;!l&&r&&r.defaultLayerType&&(l=r.defaultLayerType);const y=n[l];let L=y?c.T[y]:c.T.UnknownLayer;if(x(e)){const p=null==a?void 0:a.portal;if(e.itemId){const S=new w.default({id:e.itemId,portal:p});yield S.load();const d=(yield(0,N.selectLayerClassPath)(S)).className||"UnknownLayer";L=c.T[d]}}else"ArcGISFeatureLayer"===l?R(e)||Z(e)?L=c.T.MapNotesLayer:E(e)?L=c.T.RouteLayer:h(e)&&(L=c.T.GroupLayer):e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier?L=c.T.WMTSLayer:"WFS"===l&&"2.0.0"!==(null==(s=e.wfsInfo)?void 0:s.version)&&(L=c.T.UnsupportedLayer);return L()})).apply(this,arguments)}function h(e){var r,a,n;return"ArcGISFeatureLayer"===e.layerType&&!x(e)&&(null!=(n=null==(a=null==(r=e.featureCollection)?void 0:r.layers)?void 0:a.length)?n:0)>1}function x(e){return"Feature Collection"===e.type}function Y(e){let r;if("web-scene"===e.origin)switch(e.layerContainerType){case"basemap":r=k;break;case"ground":r=P;break;default:r=K}else switch(e.layerContainerType){case"basemap":r=z;break;case"tables":r=$;break;default:r=H}return r}function q(e,r,a){return M.apply(this,arguments)}function M(){return(M=(0,u.Z)(function*(e,r,a){const n=new U.Z,l=A(n,Array.isArray(r.layers)?r.layers:[],a),y=yield e;if(yield l,"group"===y.type)return y.layers.addMany(n),y})).apply(this,arguments)}function _(e,r,a){return v.apply(this,arguments)}function v(){return(v=(0,u.Z)(function*(e,r,a){var p;const n=c.T.FeatureLayer,l=yield n(),y=r.featureCollection,L=null==y?void 0:y.showLegend,s=null==(p=null==y?void 0:y.layers)?void 0:p.map((S,d)=>{var W,F;const I=new l;I.read(S,a);const C=B(V({},a),{ignoreDefaults:!0});return I.read({id:`${e.id}-sublayer-${d}`,visibility:null==(F=null==(W=r.visibleLayers)?void 0:W.includes(d))||F},C),null!=L&&I.read({showLegend:L},C),I});e.layers.addMany(null!=s?s:[])})).apply(this,arguments)}}}]);