"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[6692],{19702:(g,h,e)=>{e.d(h,{A:()=>p});var r=e(15861),i=e(17626),y=e(54024),d=e(10699),n=e(32917),P=e(77712),l=(e(90912),e(85931),e(76898)),u=e(36947);const p=v=>{let s=class extends v{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(_){super.postscript(_),(0,u.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}_validateHeightModelInfo(){var _=this;return(0,r.Z)(function*(){const t=new AbortController,a=t.signal;_.handles.add((0,y.kB)(()=>t.abort())),yield(0,n.N1)(()=>{var o;return null==(o=_.view.defaultsFromMap)?void 0:o.heightModelInfoReady},a),(0,d.k_)(a);const E=(0,u.Wt)(_.layer,_.view.heightModelInfo,_.supportsHeightUnitConversion);if(E)throw E})()}canResume(){const _=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!_||!_.minScale||!_.maxScale||_.minScale>=_.maxScale)}getSuspendInfo(){const _=super.getSuspendInfo(),t=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return t&&t.minScale&&t.maxScale&&t.minScale<t.maxScale&&(_.outsideScaleRange=!0),_}};return(0,i._)([(0,P.Cb)()],s.prototype,"view",void 0),(0,i._)([(0,P.Cb)()],s.prototype,"slicePlaneEnabled",void 0),s=(0,i._)([(0,l.j)("esri.views.3d.layers.LayerView3D")],s),s}},66692:(g,h,e)=>{e.r(h),e.d(h,{default:()=>E});var r=e(15861),i=e(17626),y=e(26584),d=e(62208),n=e(77712),O=(e(90912),e(85931),e(76898)),l=e(55915),u=e(19702),p=e(50916),v=e(45611),s=e(94421),_=e(81243),t=e(94672);let a=class extends((0,s.Z)((0,p.r)((0,u.A)(v.Z)))){constructor(){super(...arguments),this.type="tile-3d",this._popupHighlightHelper=null}get imageFormatIsOpaque(){return"jpg"===this.layer.tileInfo.format}get hasMixedImageFormats(){return"mixed"===this.layer.tileInfo.format}get tileInfo(){return this.layer.tileInfo}get dataLevelRange(){if(this.tileInfo){const o=this.tileInfo.lods;return this.levelRangeFromScaleRange(o[0].scale,o[o.length-1].scale)}return{minLevel:0,maxLevel:0}}initialize(){if("web-tile"===this.layer.type){const o=this.layer.get("fullExtent.spatialReference"),c=this.layer.get("tileInfo.spatialReference");if((0,d.Wi)(o)||(0,d.Wi)(c)||!(0,l.Up)(o,c)){const M="defaults"===this.layer.originOf("fullExtent")||(0,d.Wi)(this.layer.fullExtent)?"SceneView requires fullExtent to be specified by the user on WebTileLayer":"SceneView requires fullExtent to be specified in the same spatial reference as tileInfo on WebTileLayer";this.addResolvingPromise(Promise.reject(new y.Z("layerview:incompatible-fullextent",M)))}}(0,_.Uf)(this,this.layer)&&(this._popupHighlightHelper=new _.VF({createFetchPopupFeaturesQueryGeometry:(o,c)=>(0,t.K)(o,c,this.view),layerView:this,updatingHandles:this.updatingHandles})),this._addTilingSchemeMatchPromise()}destroy(){var o;null==(o=this._popupHighlightHelper)||o.destroy()}fetchPopupFeatures(o,c){var M=this;return(0,r.Z)(function*(){return M._popupHighlightHelper?M._popupHighlightHelper.fetchPopupFeatures(o,c):[]})()}doRefresh(){var o=this;return(0,r.Z)(function*(){o.suspended||o.emit("data-changed")})()}};(0,i._)([(0,n.Cb)()],a.prototype,"imageFormatIsOpaque",null),(0,i._)([(0,n.Cb)()],a.prototype,"hasMixedImageFormats",null),(0,i._)([(0,n.Cb)()],a.prototype,"layer",void 0),(0,i._)([(0,n.Cb)()],a.prototype,"tileInfo",null),(0,i._)([(0,n.Cb)()],a.prototype,"dataLevelRange",null),a=(0,i._)([(0,O.j)("esri.views.3d.layers.TileLayerView3D")],a);const E=a},45611:(g,h,e)=>{e.d(h,{Z:()=>_});var r=e(17626),i=e(14517),y=e(61885),d=e(80542),n=e(61996),P=e(63290),D=e(62208),O=e(60330),l=e(77712),v=(e(90912),e(85931),e(76898));let s=class extends((0,d.p)((0,n.IG)((0,O.v)(y.Z.EventedMixin(i.Z))))){constructor(t){super(t),this.layer=null,this.parent=null}initialize(){this.when().catch(t=>{if("layerview:create-error"!==t.name){const a=this.layer&&this.layer.id||"no id",E=this.layer&&this.layer.title||"no title";P.Z.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${E}', id: '${a}')`,t)}})}get fullOpacity(){return(0,D.Pt)(this.get("layer.opacity"),1)*(0,D.Pt)(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var t;return!this.suspended&&!0===(null==(t=this.layer)?void 0:t.legendEnabled)}get updating(){var t;return!!(null!=(t=this.updatingHandles)&&t.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var t;return!0===(null==(t=this.layer)?void 0:t.visible)}set visible(t){this._overrideIfSome("visible",t)}canResume(){var t,a,E;return this.visible&&(null==(t=this.layer)?void 0:t.loaded)&&!(null!=(a=this.parent)&&a.suspended)&&(null==(E=this.view)?void 0:E.ready)||!1}getSuspendInfo(){const t=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(t.viewNotReady=!0),this.layer&&this.layer.loaded||(t.layerNotLoaded=!0),this.visible||(t.layerInvisible=!0),t}isUpdating(){return!1}};(0,r._)([(0,l.Cb)()],s.prototype,"fullOpacity",null),(0,r._)([(0,l.Cb)()],s.prototype,"layer",void 0),(0,r._)([(0,l.Cb)()],s.prototype,"parent",void 0),(0,r._)([(0,l.Cb)({readOnly:!0})],s.prototype,"suspended",null),(0,r._)([(0,l.Cb)({readOnly:!0})],s.prototype,"suspendInfo",null),(0,r._)([(0,l.Cb)({readOnly:!0})],s.prototype,"legendEnabled",null),(0,r._)([(0,l.Cb)({type:Boolean,readOnly:!0})],s.prototype,"updating",null),(0,r._)([(0,l.Cb)({readOnly:!0})],s.prototype,"updatingProgress",null),(0,r._)([(0,l.Cb)()],s.prototype,"visible",null),(0,r._)([(0,l.Cb)()],s.prototype,"view",void 0),s=(0,r._)([(0,v.j)("esri.views.layers.LayerView")],s);const _=s},94421:(g,h,e)=>{e.d(h,{Z:()=>l});var r=e(17626),i=e(63290),y=e(10699),d=e(32917),n=e(77712),O=(e(90912),e(85931),e(76898));const l=u=>{let p=class extends u{initialize(){this.handles.add((0,d.on)(()=>this.layer,"refresh",v=>{this.doRefresh(v.dataChanged).catch(s=>{(0,y.D_)(s)||i.Z.getLogger(this.declaredClass).error(s)})}),"RefreshableLayerView")}};return(0,r._)([(0,n.Cb)()],p.prototype,"layer",void 0),p=(0,r._)([(0,O.j)("esri.layers.mixins.RefreshableLayerView")],p),p}}}]);