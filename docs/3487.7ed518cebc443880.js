"use strict";var F=Object.defineProperty,Z=Object.defineProperties,H=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,W=(U,D,s)=>D in U?F(U,D,{enumerable:!0,configurable:!0,writable:!0,value:s}):U[D]=s,w=(U,D)=>{for(var s in D||(D={}))Y.call(D,s)&&W(U,s,D[s]);if(L)for(var s of L(D))z.call(D,s)&&W(U,s,D[s]);return U},N=(U,D)=>Z(U,H(D));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[3487],{14259:(U,D,s)=>{s.d(D,{q:()=>V});var A,P,R={exports:{}};A=R,void 0!==(P=function(){function y(t,n,p,c,E){for(;c>p;){if(c-p>600){var O=c-p+1,a=n-p+1,_=Math.log(O),d=.5*Math.exp(2*_/3),b=.5*Math.sqrt(_*d*(O-d)/O)*(a-O/2<0?-1:1);y(t,n,Math.max(p,Math.floor(n-a*d/O+b)),Math.min(c,Math.floor(n+(O-a)*d/O+b)),E)}var u=t[n],o=p,l=c;for(i(t,p,n),E(t[c],u)>0&&i(t,p,c);o<l;){for(i(t,o,l),o++,l--;E(t[o],u)<0;)o++;for(;E(t[l],u)>0;)l--}0===E(t[p],u)?i(t,p,l):i(t,++l,c),l<=n&&(p=l+1),n<=l&&(c=l-1)}}function i(t,n,p){var c=t[n];t[n]=t[p],t[p]=c}function r(t,n){return t<n?-1:t>n?1:0}return function B(t,n,p,c,E){y(t,n,p||0,c||t.length-1,E||r)}}())&&(A.exports=P);const V=R.exports},77044:(U,D,s)=>{s.d(D,{Y:()=>P});var A=s(62208);function v(t,n){return t?n?4:3:n?3:2}function P(t,n,p,c,E){if((0,A.Wi)(n)||!n.lengths.length)return null;const O="upperLeft"===(null==E?void 0:E.originPosition)?-1:1;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);const a=t.coords,_=[],d=p?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:b,coords:u}=n,o=v(p,c);let l=0;for(const h of b){const f=R(d,u,l,h,p,c,O);f&&_.push(f),l+=h*o}if(_.sort((h,f)=>{let S=O*h[2]-O*f[2];return 0===S&&p&&(S=h[4]-f[4]),S}),_.length){let h=6*_[0][2];a[0]=_[0][0]/h,a[1]=_[0][1]/h,p&&(h=6*_[0][4],a[2]=0!==h?_[0][3]/h:0),(a[0]<d[0]||a[0]>d[1]||a[1]<d[2]||a[1]>d[3]||p&&(a[2]<d[4]||a[2]>d[5]))&&(a.length=0)}if(!a.length){const h=n.lengths[0]?function V(t,n,p,c,E){const O=v(c,E);let a=n,_=n+O,d=0,b=0,u=0,o=0;for(let l=0,h=p-1;l<h;l++,a+=O,_+=O){const f=t[a],S=t[a+1],T=t[a+2],x=t[_],j=t[_+1],C=t[_+2],M=c?y(f,S,T,x,j,C):B(f,S,x,j);if(M)if(d+=M,c){const e=r(f,S,T,x,j,C);b+=M*e[0],u+=M*e[1],o+=M*e[2]}else{const e=i(f,S,x,j);b+=M*e[0],u+=M*e[1]}}return d>0?c?[b/d,u/d,o/d]:[b/d,u/d]:p>0?c?[t[n],t[n+1],t[n+2]]:[t[n],t[n+1]]:null}(u,0,b[0],p,c):null;if(!h)return null;a[0]=h[0],a[1]=h[1],p&&h.length>2&&(a[2]=h[2])}return t}function R(t,n,p,c,E,O,a=1){const _=v(E,O);let d=p,b=p+_,u=0,o=0,l=0,h=0,f=0;for(let T=0,x=c-1;T<x;T++,d+=_,b+=_){const j=n[d],C=n[d+1],M=n[d+2],e=n[b],g=n[b+1],I=n[b+2];let m=j*g-e*C;h+=m,u+=(j+e)*m,o+=(C+g)*m,E&&(m=j*I-e*M,l+=(M+I)*m,f+=m),j<t[0]&&(t[0]=j),j>t[1]&&(t[1]=j),C<t[2]&&(t[2]=C),C>t[3]&&(t[3]=C),E&&(M<t[4]&&(t[4]=M),M>t[5]&&(t[5]=M))}if(h*a>0&&(h*=-1),f*a>0&&(f*=-1),!h)return null;const S=[u,o,.5*h];return E&&(S[3]=l,S[4]=.5*f),S}function B(t,n,p,c){const E=p-t,O=c-n;return Math.sqrt(E*E+O*O)}function y(t,n,p,c,E,O){const a=c-t,_=E-n,d=O-p;return Math.sqrt(a*a+_*_+d*d)}function i(t,n,p,c){return[t+.5*(p-t),n+.5*(c-n)]}function r(t,n,p,c,E,O){return[t+.5*(c-t),n+.5*(E-n),p+.5*(O-p)]}},22229:(U,D,s)=>{s.d(D,{Z:()=>b});var A=s(17626),v=s(14517),P=s(61885),R=s(72392),V=s(62208),B=s(32917),y=s(77712),n=(s(85931),s(8314),s(90912),s(76898)),p=s(77029),c=s(65401),E=s(87091);class a{constructor(){this._extents=new p.Z({allocator:o=>o||(0,c.Ue)()}),this._tmpExtent=(0,c.Ue)(),this._dirty=!1}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(o){this._contains(o)||(this._removeContained(o),(0,c.JG)(this._extents.pushNew(),o),this._dirty=!0)}pop(){return this._dirty&&this._mergeTight(),this._extents.pop()}merge(o){return this._mergeTight(o),o.hasProgressed}_mergeTight(o=E.G5){const l=this._extents,h=new Set;let f=0;for(;f!==l.length;){l.sort((S,T)=>S[0]-T[0]),f=l.length,h.clear();for(let S=0;S<l.length;++S){if(o.done)return;const T=l.getItemAt(S);for(let x=S+1;x<l.length;++x){const j=l.getItemAt(x);if(j[0]>=T[2])break;h.add(j)}h.forEach(x=>{if(T===x)return;if(x[2]<=T[0])return void h.delete(x);const j=(0,c.SO)(T),C=(0,c.SO)(x),M=this._tmpExtent;(0,c.jn)(T,x,M);const e=j+C;((0,c.SO)(M)-e)/e<.05&&((0,c.JG)(T,M),h.delete(x),l.remove(x),o.madeProgress())}),h.add(T)}}this._dirty=!1}_contains(o){return this._extents.some(l=>(0,c.r3)(l,o))}_removeContained(o){this._extents.filterInPlace(l=>!(0,c.r3)(o,l))}get test(){const o=this;return{containsPoint:l=>o._extents.some(h=>(0,c.BD)(h,l))}}}var _=s(42743);let d=class extends v.Z{constructor(){super(...arguments),this.dirtyExtents=new a,this.globalDirty=!1,this.averageExtentUpdateSize=0,this.dirtyGraphicsSet=new Set,this.handles=new R.Z,this.updateElevation=!1,this.graphicsCoreOwner=null,this.graphicsCore=null,this.events=new P.Z}setup(u,o,l,h){this.graphicsCoreOwner=u,this.queryGraphicUIDsInExtent=o,this.graphicsCore=l,this.elevationProvider=h;const f=this.graphicsCoreOwner.view.resourceController.scheduler;this.handles.add([h.on("elevation-change",S=>this._elevationChanged(S)),(0,B.YP)(()=>this.graphicsCoreOwner.suspended,()=>this._suspendedChange()),f.registerTask(E.T8.ELEVATION_ALIGNMENT,this)])}destroy(){this.dirtyGraphicsSet.clear(),this.handles.destroy(),this.handles=null,this.graphicsCoreOwner=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null}clear(){this.dirtyGraphicsSet.clear(),this.notifyChange("updating")}_suspendedChange(){!0===this.graphicsCoreOwner.suspended?this.updateElevation=!1:!1===this.graphicsCoreOwner.suspended&&this.updateElevation&&(this.globalDirty=!0,this.notifyChange("updating"))}elevationInfoChange(){this.globalDirty=!0,this.notifyChange("updating")}get updating(){return this.running}get running(){return this.dirtyGraphicsSet.size>0||this.dirtyExtents&&!this.dirtyExtents.empty||this.globalDirty}get updatingRemaining(){return this.dirtyGraphicsSet.size+this.dirtyExtents.size*this.averageExtentUpdateSize}runTask(u){for(this.globalDirty&&(this._markAllGraphicsElevationDirty(),this.globalDirty=!1,u.madeProgress()),u.run(()=>this.dirtyExtents.merge(u));this.running&&!u.done;)this._updateDirtyGraphics(u),this._updateDirtyExtents(u);this.graphicsCoreOwner.view.deconflictor.setDirty(),this.notifyChange("updating")}_updateDirtyGraphics(u){const o=this.graphicsCoreOwner.view.renderCoordsHelper,l=this.graphicsCore.effectiveUpdatePolicy===_.jq.ASYNC;for(const h of this.dirtyGraphicsSet.keys()){const f=this.graphicsCore.getGraphics3DGraphicById(h);if(this.dirtyGraphicsSet.delete(h),(0,V.pC)(f)&&(f.alignWithElevation(this.elevationProvider,o,l),u.madeProgress()),u.done)return}}_updateDirtyExtents(u){for(;!this.dirtyExtents.empty&&!u.done;){const o=this.dirtyExtents.pop(),l=this.elevationProvider.spatialReference;this.events.emit("invalidate-elevation",{extent:o,spatialReference:l});const h=this.dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(o,l,f=>{const S=this.graphicsCore.getGraphics3DGraphicById(f);(0,V.pC)(S)&&S.needsElevationUpdates()&&this.dirtyGraphicsSet.add(f)}),this.averageExtentUpdateSize=.1*(this.dirtyGraphicsSet.size-h)+.9*this.averageExtentUpdateSize,u.madeProgress()}}_markAllGraphicsElevationDirty(){this.dirtyExtents.clear(),this.dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach((u,o)=>this.dirtyGraphicsSet.add(o))}_elevationChanged(u){if("scene"===u.context&&(!this.graphicsCore.layer.elevationInfo||"relative-to-scene"!==this.graphicsCore.layer.elevationInfo.mode))return;const{extent:o,spatialReference:l}=u;if(this.graphicsCoreOwner.suspended){if(!this.updateElevation){const h=this.graphicsCore.computedExtent;h&&o[2]>h.xmin&&o[0]<h.xmax&&o[3]>h.ymin&&o[1]<h.ymax&&(this.updateElevation=!0)}this.events.emit("invalidate-elevation",{extent:o,spatialReference:l})}else o[0]===-1/0?this.globalDirty=!0:this.dirtyExtents.add(o),this.notifyChange("updating")}};(0,A._)([(0,y.Cb)({readOnly:!0})],d.prototype,"updating",null),(0,A._)([(0,y.Cb)({readOnly:!0})],d.prototype,"updatingRemaining",null),d=(0,A._)([(0,n.j)("esri.views.3d.layers.graphics.Graphics3DElevationAlignment")],d);const b=d},83518:(U,D,s)=>{s.d(D,{Z:()=>O});var A=s(17626),v=s(14517),P=s(72392),R=s(32917),V=s(77712),r=(s(85931),s(8314),s(90912),s(76898)),t=s(12080),n=s(37810),p=s(87091);let E=class extends v.Z{constructor(){super(...arguments),this.suspended=!1,this.extent=null,this.extentIntersectionDirty=!0,this._isVisibleBelowSurface=!1,this.handles=new P.Z,this.graphicsCoreOwner=null,this.updating=!0}setup(a){this.graphicsCoreOwner=a,this.extentIntersection=new n.q({renderCoordsHelper:a.view.renderCoordsHelper});const _=a.view,d=_.basemapTerrain,b=_.resourceController.scheduler;this.handles.add([_.on("resize",()=>this._viewChange()),(0,R.YP)(()=>_.state.camera,()=>this._viewChange(),R.Z_),b.registerTask(p.T8.FRUSTUM_VISIBILITY,this),d.on("elevation-bounds-change",()=>this._elevationBoundsChange())]),"local"===_.viewingMode?this.isVisibleBelowSurface=!0:this.handles.add([(0,R.YP)(()=>{var u,o,l;return[d.baseOpacity,d.wireframe,null==(l=null==(o=null==(u=_.map)?void 0:u.ground)?void 0:o.navigationConstraint)?void 0:l.type]},()=>this._updateIsVisibleBelowSurface(),R.nn)])}destroy(){this.graphicsCoreOwner=null,this.extent=null,this.extentIntersection=null,this.handles&&(this.handles.destroy(),this.handles=null)}_setDirty(){this.updating||this._set("updating",!0)}setExtent(a){this.extent=a,this.extentIntersectionDirty=!0,this._setDirty()}_viewChange(){this._setDirty()}_elevationBoundsChange(){this._setDirty(),this.extentIntersectionDirty=!0}set isVisibleBelowSurface(a){this._isVisibleBelowSurface=a,this._setDirty(),this.extentIntersectionDirty=!0}_updateIsVisibleBelowSurface(){const a=this.graphicsCoreOwner.view;this.isVisibleBelowSurface="local"===a.viewingMode||!a.basemapTerrain.opaque||a.map.ground&&a.map.ground.navigationConstraint&&"none"===a.map.ground.navigationConstraint.type}_updateExtentIntersection(){if(!this.extentIntersectionDirty)return;this.extentIntersectionDirty=!1;const a=this.graphicsCoreOwner.view;let _;if(this._isVisibleBelowSurface)_=-.3*(0,t.Iu)(a.spatialReference).radius;else{const{min:d,max:b}=a.basemapTerrain.elevationBounds;_=d-Math.max(1,(b-d)*(1.2-1))}this.extentIntersection.update(this.extent,a.spatialReference,_)}get running(){return this.updating}runTask(){if(this._set("updating",!1),!this.extent)return void this._set("suspended",!1);this._updateExtentIntersection();const a=this.graphicsCoreOwner.view.frustum,_=(0,t.Iu)(this.graphicsCoreOwner.view.spatialReference).radius;this._set("suspended",!this.extentIntersection.isVisibleInFrustum(a,_))}};(0,A._)([(0,V.Cb)({readOnly:!0})],E.prototype,"suspended",void 0),(0,A._)([(0,V.Cb)({readOnly:!0})],E.prototype,"updating",void 0),E=(0,A._)([(0,r.j)("esri.views.3d.layers.graphics.Graphics3DFrustumVisibility")],E);const O=E},14752:(U,D,s)=>{s.d(D,{d:()=>B});var P,y,A=s(54024),v=s(42743);(y=P||(P={}))[y.Object=0]="Object",y[y.RenderGeometry=1]="RenderGeometry",y[y.External=2]="External",y[y.COUNT=3]="COUNT";class R{constructor(){this.items=[]}addObject(i,r){this.items.push({type:P.Object,objectStateId:r,object:i})}addRenderGeometry(i,r,t){this.items.push({type:P.RenderGeometry,objectStateId:r,renderGeometry:i,owner:t})}addExternal(i,r){this.items.push({type:P.External,objectStateId:r,remove:i})}remove(i){for(let r=this.items.length-1;r>=0;--r){const t=this.items[r];t.objectStateId===i&&(this._removeObjectStateItem(t),this.items.splice(r,1))}}removeObject(i){for(let r=this.items.length-1;r>=0;--r){const t=this.items[r];t.type===P.Object&&t.object===i&&(this._removeObjectStateItem(t),this.items.splice(r,1))}}removeRenderGeometry(i){for(let r=this.items.length-1;r>=0;--r){const t=this.items[r];t.type===P.RenderGeometry&&t.renderGeometry===i&&(this._removeObjectStateItem(t),this.items.splice(r,1))}}removeAll(){this.items.forEach(i=>{this._removeObjectStateItem(i)}),this.items=[]}_removeObjectStateItem(i){switch(i.type){case P.Object:i.objectStateId.channel===v.V_.Highlight?i.object.removeHighlight(i.objectStateId):i.objectStateId.channel===v.V_.MaskOccludee&&i.object.removeOcclude(i.objectStateId);break;case P.RenderGeometry:i.owner.removeRenderGeometryObjectState(i.renderGeometry,i.objectStateId);break;case P.External:i.remove(i.objectStateId)}}}class V{constructor(i,r){this.stateType=i,this.objectIdField=r,this.objectStateSet=new R,this.ids=new Set,this.paused=!1}hasGraphic(i){return this.ids.has(this.objectIdField?i.graphic.attributes[this.objectIdField]:i.graphic.uid)}}class B{constructor(i){this._graphicsCore=i,this._stateSets=new Array}destroy(){this._stateSets&&this._stateSets.forEach(i=>i.objectStateSet.removeAll()),this._stateSets=null}acquireSet(i,r){const t=new V(i,r);this._stateSets.push(t);const n=(0,A.kB)(()=>this.releaseSet(t));return{set:t,handle:n}}releaseSet(i){i.objectStateSet.removeAll();const r=this._stateSets?this._stateSets.indexOf(i):-1;-1!==r&&this._stateSets.splice(r,1)}_addObjectStateSet(i,r){i.addObjectStateSet(r.stateType,r.objectStateSet)}_removeObjectStateSet(i,r){i.removeObjectState(r.objectStateSet)}setUid(i,r){i.ids.add(r);const t=this._graphicsCore.graphics3DGraphics.get(r);t&&this._addObjectStateSet(t,i)}setUids(i,r){r.forEach(t=>this.setUid(i,t))}setObjectIds(i,r){r.forEach(t=>i.ids.add(t)),this._initializeSet(i)}addGraphic(i){this._stateSets.forEach(r=>{!r.paused&&r.hasGraphic(i)&&this._addObjectStateSet(i,r)})}removeGraphic(i){this._stateSets.forEach(r=>{r.hasGraphic(i)&&this._removeObjectStateSet(i,r)})}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach(i=>i.objectStateSet.removeAll())}_initializeSet(i){const r=this._graphicsCore.graphics3DGraphics;i.objectIdField?r.forEach(t=>{t&&i.hasGraphic(t)&&this._addObjectStateSet(t,i)}):i.ids.forEach(t=>{const n=r.get(t);n&&this._addObjectStateSet(n,i)})}get test(){return{states:this._stateSets}}}},32400:(U,D,s)=>{s.d(D,{D:()=>C});var A=s(15861),v=s(17626),P=s(88879),R=s(46160),V=s(80542),B=s(54024),y=s(62208),i=s(10699),r=s(32917),t=s(77712),E=(s(85931),s(8314),s(90912),s(76898)),O=s(84682),a=s(44917),_=s(84786),d=s(39256),b=s(84952),u=s(62600),o=s(80960),l=s(8333),h=s(22229),f=s(83518),S=s(14752),T=s(67873),x=s(67225),j=s(42743);let C=class extends V.r{constructor(e){super(e),this.type="graphics-3d",this.graphicsCore=null,this.elevationAlignment=new h.Z,this.drapeSourceType=u.L.Features,this._suspendResumeExtent=null}normalizeCtorArgs(e){const g=N(w({},e),{scaleVisibility:null,frustumVisibility:null});return delete g.scaleVisibilityEnabled,delete g.frustumVisibilityEnabled,e.scaleVisibilityEnabled&&(g.scaleVisibility=new T.Z),e.frustumVisibilityEnabled&&(g.frustumVisibility=new f.Z),g}initialize(){const e=new l.w({owner:this,layer:this.owner.layer,preferredUpdatePolicy:j.jq.SYNC,graphicSymbolSupported:!0});this._set("graphicsCore",e);const{layer:g,scaleVisibility:I}=this;if((0,y.pC)(I)&&"effectiveScaleRange"in g){const m=g;this.updatingHandles.add(()=>m.effectiveScaleRange,()=>I.layerMinMaxScaleChangeHandler())}if("fullOpacity"in this.owner){const m=this.owner;this.updatingHandles.add(()=>m.fullOpacity,()=>this.graphicsCore.opacityChange())}if("elevationInfo"in g){const m=g;this.updatingHandles.add(()=>m.elevationInfo,(G,K)=>{(0,O.Hg)(G,K)&&this.updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})}}setup(){var e=this;return(0,A.Z)(function*(){const g=(I,m,G)=>e.graphicsCore.spatialIndex.queryGraphicUIDsInExtent(I,m,G);e.elevationAlignment.setup(e,g,e.graphicsCore,e.view.elevationProvider),(0,y.pC)(e.scaleVisibility)&&"effectiveScaleRange"in e.layer&&e.scaleVisibility.setup(e,e.layer,g,e.graphicsCore,e.owner.view.basemapTerrain),(0,y.pC)(e.frustumVisibility)&&e.frustumVisibility.setup(e),e._set("objectStates",new S.d(e.graphicsCore));try{yield e.graphicsCore.setup({elevationAlignment:e.elevationAlignment,scaleVisibility:e.scaleVisibility,objectStates:e.objectStates})}catch(I){if((0,i.D_)(I))return;throw I}e.destroyed||(e.handles.add((0,r.YP)(()=>e.view.clippingArea,()=>e._updateClippingExtent(),r.Z_)),e._updateClippingExtent(),e._setupSuspendResumeExtent(),e.graphicsCore.startCreateGraphics())})()}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set("elevationAlignment",(0,y.SC)(this.elevationAlignment)),this._set("scaleVisibility",(0,y.SC)(this.scaleVisibility)),this._set("frustumVisibility",(0,y.SC)(this.frustumVisibility)),this._set("objectStates",(0,y.SC)(this.objectStates)),this._set("graphicsCore",(0,y.SC)(this.graphicsCore))}get layer(){return this.owner.layer}get view(){return this.owner.view}get scaleVisibilitySuspended(){return!(!(0,y.pC)(this.scaleVisibility)||!this.scaleVisibility.suspended)}get frustumVisibilitySuspended(){return!(!(0,y.pC)(this.frustumVisibility)||!this.frustumVisibility.suspended)}get suspended(){var e;return null!=(e=this.owner.suspended)&&e}get updating(){var e;return!!((null==(e=this.graphicsCore)?void 0:e.updating)||(0,y.pC)(this.scaleVisibility)&&this.scaleVisibility.updating||(0,y.pC)(this.frustumVisibility)&&this.frustumVisibility.updating||this.updatingHandles.updating)}get graphics3DGraphics(){var e;return null==(e=this.graphicsCore)?void 0:e.graphics3DGraphics}get graphics3DGraphicsByObjectID(){var e;return null==(e=this.graphicsCore)?void 0:e.graphics3DGraphicsByObjectID}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){var e;return null!=(e=this.owner.fullOpacity)?e:1}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}notifyGraphicGeometryChanged(e){this.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphicsCore.notifyGraphicVisibilityChanged(e)}getRenderingInfo(e,g,I){const m=(0,d.Kb)(e,{renderer:g,arcade:I});if((0,y.pC)(m)&&m.color){const G=m.color;G[0]=G[0]/255,G[1]=G[1]/255,G[2]=G[2]/255}return m}getRenderingInfoAsync(e,g,I,m){return(0,d.xn)(e,w({renderer:g,arcade:I},m))}getHit(e){if(this.owner.loadedGraphics){const g=this.owner.loadedGraphics.find(I=>I.uid===e);if(g){const m=(0,_.mW)(g,this.layer instanceof a.Z?this.layer:null);return{type:"graphic",graphic:m,layer:m.layer}}}return null}whenGraphicBounds(e,g){return this.graphicsCore?this.graphicsCore.whenGraphicBounds(e,g):Promise.reject()}computeAttachmentOrigin(e,g){return this.graphicsCore?this.graphicsCore.computeAttachmentOrigin(e,g):null}getSymbolLayerSize(e,g){return this.graphicsCore?this.graphicsCore.getSymbolLayerSize(e,g):null}maskOccludee(e){const{set:g,handle:I}=this.objectStates.acquireSet(j.V_.MaskOccludee,null);return this.objectStates.setUid(g,e.uid),I}highlight(e){if(e instanceof b.Z)return M;if("number"==typeof e)return this.highlight([e]);if(e instanceof P.Z)return this.highlight([e]);if(e instanceof R.Z&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof P.Z){const g=e.map(G=>G.uid),{set:I,handle:m}=this.objectStates.acquireSet(j.V_.Highlight,null);return this.objectStates.setUids(I,g),m}if("number"==typeof e[0]){const g=e,{set:I,handle:m}=this.objectStates.acquireSet(j.V_.Highlight,null);return this.objectStates.setObjectIds(I,g),m}}return M}_setupSuspendResumeExtent(){const{scaleVisibility:e,frustumVisibility:g}=this;if((0,y.Wi)(e)&&(0,y.Wi)(g))return;const I=({computedExtent:m,extentPadding:G})=>{this._suspendResumeExtent=(0,x.Go)(m,this._suspendResumeExtent,o.ZF,G),(0,y.pC)(e)&&e.setExtent(this._suspendResumeExtent),(0,y.pC)(g)&&g.setExtent(this._suspendResumeExtent)};this.handles.add((0,r.YP)(()=>{var m,G;return{computedExtent:null==(m=this.graphicsCore)?void 0:m.computedExtent,extentPadding:null==(G=this.graphicsCore)?void 0:G.extentPadding}},m=>I(m),r.tX))}_updateClippingExtent(){this.graphicsCore.setClippingExtent(this.view.clippingArea,this.view.spatialReference)&&this.graphicsCore.recreateAllGraphics()}};(0,v._)([(0,t.Cb)()],C.prototype,"type",void 0),(0,v._)([(0,t.Cb)({constructOnly:!0})],C.prototype,"owner",void 0),(0,v._)([(0,t.Cb)()],C.prototype,"layer",null),(0,v._)([(0,t.Cb)()],C.prototype,"view",null),(0,v._)([(0,t.Cb)({constructOnly:!0})],C.prototype,"graphicsCore",void 0),(0,v._)([(0,t.Cb)({constructOnly:!0})],C.prototype,"scaleVisibility",void 0),(0,v._)([(0,t.Cb)({constructOnly:!0})],C.prototype,"frustumVisibility",void 0),(0,v._)([(0,t.Cb)({readOnly:!0})],C.prototype,"elevationAlignment",void 0),(0,v._)([(0,t.Cb)({readOnly:!0})],C.prototype,"objectStates",void 0),(0,v._)([(0,t.Cb)({readOnly:!0})],C.prototype,"scaleVisibilitySuspended",null),(0,v._)([(0,t.Cb)({readOnly:!0})],C.prototype,"frustumVisibilitySuspended",null),(0,v._)([(0,t.Cb)()],C.prototype,"suspended",null),(0,v._)([(0,t.Cb)({readOnly:!0})],C.prototype,"updating",null),(0,v._)([(0,t.Cb)()],C.prototype,"loadedGraphics",null),(0,v._)([(0,t.Cb)()],C.prototype,"fullOpacity",null),(0,v._)([(0,t.Cb)()],C.prototype,"slicePlaneEnabled",null),(0,v._)([(0,t.Cb)()],C.prototype,"drapeSourceType",void 0),(0,v._)([(0,t.Cb)()],C.prototype,"updatePolicy",null),C=(0,v._)([(0,E.j)("esri.views.3d.layers.graphics.GraphicsProcessor")],C);const M=(0,B.kB)()}}]);