"use strict";var Y=Object.defineProperty,G=Object.defineProperties,X=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,J=(v,g,e)=>g in v?Y(v,g,{enumerable:!0,configurable:!0,writable:!0,value:e}):v[g]=e,T=(v,g)=>{for(var e in g||(g={}))V.call(g,e)&&J(v,e,g[e]);if(F)for(var e of F(g))Q.call(g,e)&&J(v,e,g[e]);return v},A=(v,g)=>G(v,X(g));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[5628],{128:(v,g,e)=>{e.d(g,{B:()=>d});var x=e(15861),l=e(22558),C=e(21726),U=e(35948),E=e(34117),P=e(31283),j=e(77712),i=e(61556),p=e(29840);function d(r){var n;const a=null!=(n=null==r?void 0:r.origins)?n:[void 0];return(u,t)=>{const o=function Z(r,a,n){var u;if("resource"===(null==r?void 0:r.type))return function z(r,a,n){const u=(0,E.Oe)(a,n);return{type:String,read:(t,o,y)=>{const s=(0,p.r)(t,o,y);return u.type===String?s:"function"==typeof u.type?new u.type({url:s}):void 0},write:{writer(t,o,y,s){if(!s||!s.resources)return"string"==typeof t?void(o[y]=(0,p.t)(t,s)):void(o[y]=t.write({},s));const h=function S(r){return null==r?null:"string"==typeof r?r:r.url}(t),c=(0,p.t)(h,A(T({},s),{verifyItemRelativeUrls:s&&s.verifyItemRelativeUrls?{writtenUrls:s.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0}),p.M.NO),f=u.type!==String&&(!(0,l.l)(this)||s&&s.origin&&this.originIdOf(n)>(0,P.M9)(s.origin)),O={object:this,propertyName:n,value:t,targetUrl:c,dest:o,targetPropertyName:y,context:s,params:r};s&&s.portalItem&&c&&!(0,C.YP)(c)?f?function W(r){var I;const{context:a,targetUrl:n,params:u,value:t,dest:o,targetPropertyName:y}=r;if(!a.portalItem)return;const s=a.portalItem.resourceFromPath(n),h=b(t,n,a),c=(0,i.B)(h),f=(0,C.Ml)(s.path),O=null!=(I=null==u?void 0:u.compress)&&I;c===f?(a.resources&&B(A(T({},r),{resource:s,content:h,compress:O,updates:a.resources.toUpdate})),o[y]=n):L(r)}(O):function D({context:r,targetUrl:a,dest:n,targetPropertyName:u}){r.portalItem&&r.resources&&(r.resources.toKeep.push({resource:r.portalItem.resourceFromPath(a),compress:!1}),n[u]=a)}(O):s&&s.portalItem&&(null==c||null!=(0,p.i)(c)||(0,C.jc)(c)||f)?L(O):o[y]=c}}}}(r,a,n);switch(null!=(u=null==r?void 0:r.type)?u:"other"){case"other":return{read:!0,write:!0};case"url":{const{read:t,write:o}=p.a;return{read:t,write:o}}}}(r,u,t);for(const y of a){const s=(0,j.CJ)(u,y,t);for(const h in o)s[h]=o[h]}}}function L(r){var K,w,_;const{targetUrl:a,params:n,value:u,context:t,dest:o,targetPropertyName:y}=r;if(!t.portalItem)return;const s=(0,p.p)(a),h=null!=(K=null==s?void 0:s.filename)?K:(0,U.D)(),c=null!=(w=null==n?void 0:n.prefix)?w:null==s?void 0:s.prefix,f=b(u,a,t),O=(0,C.v_)(c,h),I=`${O}.${(0,i.B)(f)}`,R=t.portalItem.resourceFromPath(I);(0,C.jc)(a)&&t.resources&&t.resources.pendingOperations.push(function m(r){return M.apply(this,arguments)}(a).then($=>{R.path=`${O}.${(0,i.B)($)}`,o[y]=R.itemRelativeUrl}).catch(()=>{}));const H=null!=(_=null==n?void 0:n.compress)&&_;t.resources&&B(A(T({},r),{resource:R,content:f,compress:H,updates:t.resources.toAdd})),o[y]=R.itemRelativeUrl}function B({object:r,propertyName:a,updates:n,resource:u,content:t,compress:o}){n.push({resource:u,content:t,compress:o,finish:y=>{!function N(r,a,n){"string"==typeof r[a]?r[a]=n.url:r[a].url=n.url}(r,a,y)}})}function b(r,a,n){return"string"==typeof r?{url:a}:new Blob([JSON.stringify(r.toJSON(n))],{type:"application/json"})}function M(){return(M=(0,x.Z)(function*(r){const a=(yield Promise.resolve().then(e.bind(e,84792))).default,{data:n}=yield a(r,{responseType:"blob"});return n})).apply(this,arguments)}},22558:(v,g,e)=>{function x(l){return l&&"getAtOrigin"in l&&"originOf"in l}e.d(g,{l:()=>x})},29457:(v,g,e)=>{e.r(g),e.d(g,{default:()=>u});var x=e(15861),l=e(17626),C=e(85840),U=e(61642),E=e(57574),P=e(46160),j=e(89726),i=e(62208),p=e(32917),d=e(77712),L=(e(90912),e(85931),e(76898)),W=e(55915),D=e(5548),B=e(60507);const b=P.Z.ofType(E.Z);let m=class extends C.Z{constructor(t){super(t),this.type="line-of-sight",this.observer=null,this.extent=null}initialize(){this.addHandles((0,p.YP)(()=>this._computeExtent(),t=>{((0,i.Wi)(t)||(0,i.Wi)(t.pending))&&this._set("extent",(0,i.pC)(t)?t.extent:null)},p.tX))}get targets(){return this._get("targets")||new b}set targets(t){this._set("targets",(0,j.Z)(t,this.targets,b))}get spatialReference(){return(0,i.pC)(this.observer)&&(0,i.pC)(this.observer.position)?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[(0,i.yw)(this.observer,t=>t.position)]}waitComputeExtent(){var t=this;return(0,x.Z)(function*(){const o=t._computeExtent();return(0,i.pC)(o)?(0,i.Wg)(o.pending):Promise.resolve()})()}_computeExtent(){const t=this.spatialReference;if((0,i.Wi)(this.observer)||(0,i.Wi)(this.observer.position)||(0,i.Wi)(t))return null;const o=c=>"absolute-height"===(0,B.VW)(c.position,c.elevationInfo),y=this.observer.position,s=(0,D.al)(y.x,y.y,y.z,y.x,y.y,y.z);for(const c of this.targets)if((0,i.pC)(c.position)){const f=(0,W.dz)(c.position,t);if((0,i.pC)(f.pending))return{pending:f.pending,extent:null};if((0,i.pC)(f.geometry)){const{x:O,y:I,z:R}=f.geometry;(0,D.pp)(s,[O,I,R])}}const h=(0,D.HH)(s,t);return o(this.observer)&&this.targets.every(o)||(h.zmin=void 0,h.zmax=void 0),{pending:null,extent:h}}clear(){this.observer=null,this.targets.removeAll()}};(0,l._)([(0,d.Cb)({type:["line-of-sight"]})],m.prototype,"type",void 0),(0,l._)([(0,d.Cb)({type:U.Z,json:{read:!0,write:!0}})],m.prototype,"observer",void 0),(0,l._)([(0,d.Cb)({cast:j.R,type:b,nonNullable:!0,json:{read:!0,write:!0}})],m.prototype,"targets",null),(0,l._)([(0,d.Cb)({value:null,readOnly:!0})],m.prototype,"extent",void 0),(0,l._)([(0,d.Cb)({readOnly:!0})],m.prototype,"spatialReference",null),(0,l._)([(0,d.Cb)({readOnly:!0})],m.prototype,"requiredPropertiesForEditing",null),m=(0,l._)([(0,L.j)("esri.analysis.LineOfSightAnalysis")],m);const M=m;var S=e(99959),N=e(44917),r=e(49286);const a=P.Z.ofType(E.Z);let n=class extends((0,r.q)((0,S.R)(N.Z))){constructor(t){super(t),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new M,this.opacity=1}initialize(){this.addHandles((0,p.YP)(()=>this.analysis,(t,o)=>{(0,i.pC)(o)&&o.parent===this&&(o.parent=null),(0,i.pC)(t)&&(t.parent=this)},p.tX))}load(){var t=this;return(0,x.Z)(function*(){return(0,i.pC)(t.analysis)&&t.addResolvingPromise(t.analysis.waitComputeExtent()),t})()}get observer(){return(0,i.yw)(this.analysis,t=>t.observer)}set observer(t){(0,i.yw)(this.analysis,o=>o.observer=t)}get targets(){return(0,i.pC)(this.analysis)?this.analysis.targets:new P.Z}set targets(t){var o;(0,j.Z)(t,null==(o=this.analysis)?void 0:o.targets)}get fullExtent(){return(0,i.pC)(this.analysis)?this.analysis.extent:null}get spatialReference(){return(0,i.pC)(this.analysis)?(0,i.Wg)(this.analysis.spatialReference):null}releaseAnalysis(t){this.analysis===t&&(this.analysis=new M)}};(0,l._)([(0,d.Cb)({json:{read:!1},readOnly:!0})],n.prototype,"type",void 0),(0,l._)([(0,d.Cb)({type:["LineOfSightLayer"]})],n.prototype,"operationalLayerType",void 0),(0,l._)([(0,d.Cb)({type:U.Z,json:{read:!0,write:{ignoreOrigin:!0}}})],n.prototype,"observer",null),(0,l._)([(0,d.Cb)({type:a,json:{read:!0,write:{ignoreOrigin:!0}}})],n.prototype,"targets",null),(0,l._)([(0,d.Cb)({nonNullable:!0,json:{read:!1,write:!1}})],n.prototype,"analysis",void 0),(0,l._)([(0,d.Cb)({readOnly:!0})],n.prototype,"fullExtent",null),(0,l._)([(0,d.Cb)({readOnly:!0})],n.prototype,"spatialReference",null),(0,l._)([(0,d.Cb)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],n.prototype,"opacity",void 0),(0,l._)([(0,d.Cb)({type:["show","hide"]})],n.prototype,"listMode",void 0),n=(0,l._)([(0,L.j)("esri.layers.LineOfSightLayer")],n);const u=n},61556:(v,g,e)=>{e.d(g,{B:()=>l});var x=e(21726);function l(p){return E[function C(p){return p instanceof Blob?p.type:function U(p){const d=(0,x.Ml)(p);return i[d]||P}(p.url)}(p)]||j}const E={},P="text/plain",j=E[P],i={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const p in i)E[i[p]]=p}}]);