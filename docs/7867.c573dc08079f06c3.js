"use strict";var Q=Object.defineProperty,X=Object.defineProperties,k=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,w=(T,m,t)=>m in T?Q(T,m,{enumerable:!0,configurable:!0,writable:!0,value:t}):T[m]=t,N=(T,m)=>{for(var t in m||(m={}))q.call(m,t)&&w(T,t,m[t]);if(H)for(var t of H(m))tt.call(m,t)&&w(T,t,m[t]);return T},W=(T,m)=>X(T,k(m));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[7867],{40405:(T,m,t)=>{t.d(m,{B:()=>S});var o=t(15861),i=t(62208),s=t(22558),b=t(21726),D=t(35948),_=t(34117),j=t(31283),O=t(77712);function d(r){return h[function M(r){return r instanceof Blob?r.type:function E(r){const p=(0,b.Ml)(r);return g[p]||P}(r.url)}(r)]||I}const h={},P="text/plain",I=h[P],g={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"};for(const r in g)h[g[r]]=r;var f=t(29840);function S(r){const p=(0,i.pC)(r)&&r.origins?r.origins:[void 0];return(l,c)=>{const u=function x(r,p,l){if((0,i.pC)(r)&&"resource"===r.type)return function C(r,p,l){const c=(0,_.VZ)(p,l);return{type:String,read:(u,a,v)=>{const e=(0,f.r)(u,a,v);return c.type===String?e:"function"==typeof c.type?new c.type({url:e}):void 0},write:{writer(u,a,v,e){if(!e||!e.resources)return"string"==typeof u?void(a[v]=(0,f.t)(u,e)):void(a[v]=u.write({},e));const n=function G(r){return(0,i.Wi)(r)?null:"string"==typeof r?r:r.url}(u),y=n?(0,f.t)(n,W(N({},e),{verifyItemRelativeUrls:e&&e.verifyItemRelativeUrls?{writtenUrls:e.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null}),f.M.NO):null,U=c.type!==String&&(!(0,s.l)(this)||e&&e.origin&&this.originIdOf(l)>(0,j.M9)(e.origin));e&&e.portalItem&&(0,i.pC)(y)&&!(0,b.YP)(y)?U?function F(r,p,l,c,u,a,v,e){const n=v.portalItem.resourceFromPath(c),y=L(l,c,v);d(y)===(0,b.Ml)(n.path)?(J(r,p,n,y,v.resources.toUpdate),u[a]=c):R(r,p,l,c,u,a,v,e)}(this,l,u,y,a,v,e,r):function B(r,p,l,c){c.resources.toKeep.push({resource:c.portalItem.resourceFromPath(r)}),p[l]=r}(y,a,v,e):e&&e.portalItem&&((0,i.Wi)(y)||(0,i.pC)((0,f.i)(y))||(0,b.jc)(y)||U)?R(this,l,u,y,a,v,e,r):a[v]=y}}}}(r,p,l);switch((0,i.pC)(r)&&r.type?r.type:"other"){case"other":return{read:!0,write:!0};case"url":{const{read:c,write:u}=f.p;return{read:c,write:u}}}}(r,l,c);for(const a of p){const v=(0,O.CJ)(l,a,c);for(const e in u)v[e]=u[e]}}}function R(r,p,l,c,u,a,v,e){const n=(0,D.D)(),y=L(l,c,v),U=(0,b.v_)((0,i.U2)(e,"prefix"),n),$=`${U}.${d(y)}`,A=v.portalItem.resourceFromPath($);(0,b.jc)(c)&&v.resources.pendingOperations.push(function V(r){return K.apply(this,arguments)}(c).then(Z=>{A.path=`${U}.${d(Z)}`,u[a]=A.itemRelativeUrl}).catch(()=>{})),J(r,p,A,y,v.resources.toAdd),u[a]=A.itemRelativeUrl}function J(r,p,l,c,u){u.push({resource:l,content:c,finish:a=>{!function z(r,p,l){"string"==typeof r[p]?r[p]=l.url:r[p].url=l.url}(r,p,a)}})}function L(r,p,l){return"string"==typeof r?{url:p}:new Blob([JSON.stringify(r.toJSON(l))],{type:"application/json"})}function K(){return(K=(0,o.Z)(function*(r){const p=(yield Promise.resolve().then(t.bind(t,84792))).default,{data:l}=yield p(r,{responseType:"blob"});return l})).apply(this,arguments)}},67867:(T,m,t)=>{t.r(m),t.d(m,{default:()=>v});var p,o=t(15861),i=t(17626),s=t(26584),b=t(72392),D=t(62208),_=t(99959),j=t(10699),O=t(32917),d=t(77712),P=(t(85931),t(8314),t(90912),t(68653)),I=t(76898),g=t(40405),f=t(44917),S=t(50085),x=t(65088),C=t(49286),R=t(6647),F=t(99555),B=t(10157),J=t(13812),L=t(35031),V=t(84792),K=t(46160),G=t(86810),z=t(21726),r=t(10439);let l=p=class extends((0,G.eC)(K.Z.ofType(r.Z))){constructor(e){super(e),this.url=null}clone(){return new p({url:this.url,items:this.items.map(e=>e.clone())})}toJSON(e){return this.toArray().map(n=>n.toJSON(e)).filter(n=>!!n.geometry)}static fromJSON(e,n){const y=new p;for(const U of e)y.add(r.Z.fromJSON(U,n));return y}static fromUrl(e,n,y){return(0,o.Z)(function*(){const U={url:(0,z.mN)(e),origin:"service"},$=yield(0,V.default)(e,{responseType:"json",signal:(0,D.U2)(y,"signal")}),A=n.toJSON(),Z=[];for(const Y of $.data)Z.push(r.Z.fromJSON(W(N({},Y),{geometry:W(N({},Y.geometry),{spatialReference:A})}),U));return new p({url:e,items:Z})})()}};(0,i._)([(0,d.Cb)({type:String})],l.prototype,"url",void 0),l=p=(0,i._)([(0,I.j)("esri.layers.support.SceneModifications")],l);const c=l;var u=t(29840);let a=class extends((0,B.Vt)((0,x.Y)((0,C.q)((0,R.I)((0,F.M)((0,_.R)((0,S.V)(f.Z)))))))){constructor(...e){super(...e),this._handles=new b.Z,this.geometryType="mesh",this.operationalLayerType="IntegratedMeshLayer",this.type="integrated-mesh",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile="mesh-pyramids",this.modifications=null,this._modificationsSource=null,this.elevationInfo=null,this.path=null}destroy(){this._handles.destroy()}initialize(){this._handles.add((0,O.on)(()=>this.modifications,"after-changes",()=>this.modifications=this.modifications,O.Z_))}normalizeCtorArgs(e,n){return"string"==typeof e?N({url:e},n):e}readModifications(e,n,y){this._modificationsSource={url:(0,u.f)(e,y),context:y}}load(e){var n=this;return(0,o.Z)(function*(){return n.addResolvingPromise(n._doLoad(e)),n})()}_doLoad(e){var n=this;return(0,o.Z)(function*(){const y=(0,D.U2)(e,"signal");try{yield n.loadFromPortal({supportedTypes:["Scene Service"]},e)}catch(U){(0,j.r9)(U)}if(yield n._fetchService(y),(0,D.pC)(n._modificationsSource)){const U=yield c.fromUrl(n._modificationsSource.url,n.spatialReference,e);n.setAtOrigin("modifications",U,n._modificationsSource.context.origin),n._modificationsSource=null}yield n._fetchIndexAndUpdateExtent(n.nodePages,y)})()}beforeSave(){if(!(0,D.Wi)(this._modificationsSource))return this.load().then(()=>{},()=>{})}saveAs(e,n){var y=this;return(0,o.Z)(function*(){return y._debouncedSaveOperations(B.xp.SAVE_AS,W(N({},n),{getTypeKeywords:()=>y._getTypeKeywords(),portalItemLayerType:"integrated-mesh"}),e)})()}save(){var e=this;return(0,o.Z)(function*(){const n={getTypeKeywords:()=>e._getTypeKeywords(),portalItemLayerType:"integrated-mesh"};return e._debouncedSaveOperations(B.xp.SAVE,n)})()}validateLayer(e){if(e.layerType&&"IntegratedMesh"!==e.layerType)throw new s.Z("integrated-mesh-layer:layer-type-not-supported","IntegratedMeshLayer does not support this layer type",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new s.Z("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"});if(this.version.major>1)throw new s.Z("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"})}_getTypeKeywords(){return["IntegratedMeshLayer"]}};(0,i._)([(0,d.Cb)({type:String,readOnly:!0})],a.prototype,"geometryType",void 0),(0,i._)([(0,d.Cb)({type:["show","hide"]})],a.prototype,"listMode",void 0),(0,i._)([(0,d.Cb)({type:["IntegratedMeshLayer"]})],a.prototype,"operationalLayerType",void 0),(0,i._)([(0,d.Cb)({json:{read:!1},readOnly:!0})],a.prototype,"type",void 0),(0,i._)([(0,d.Cb)({type:L.U4,readOnly:!0})],a.prototype,"nodePages",void 0),(0,i._)([(0,d.Cb)({type:[L.QI],readOnly:!0})],a.prototype,"materialDefinitions",void 0),(0,i._)([(0,d.Cb)({type:[L.Yh],readOnly:!0})],a.prototype,"textureSetDefinitions",void 0),(0,i._)([(0,d.Cb)({type:[L.H3],readOnly:!0})],a.prototype,"geometryDefinitions",void 0),(0,i._)([(0,d.Cb)({readOnly:!0})],a.prototype,"serviceUpdateTimeStamp",void 0),(0,i._)([(0,d.Cb)({type:c}),(0,g.B)({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],a.prototype,"modifications",void 0),(0,i._)([(0,P.r)(["web-scene","portal-item"],"modifications")],a.prototype,"readModifications",null),(0,i._)([(0,d.Cb)(J.PV)],a.prototype,"elevationInfo",void 0),(0,i._)([(0,d.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],a.prototype,"path",void 0),a=(0,i._)([(0,I.j)("esri.layers.IntegratedMeshLayer")],a);const v=a},35031:(T,m,t)=>{t.d(m,{H3:()=>x,QI:()=>h,U4:()=>d,Yh:()=>I});var o=t(17626),i=t(86810),s=t(77712),j=(t(85931),t(8314),t(90912),t(55342)),O=t(76898);let d=class extends i.wq{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,o._)([(0,s.Cb)({type:Number})],d.prototype,"nodesPerPage",void 0),(0,o._)([(0,s.Cb)({type:Number})],d.prototype,"rootIndex",void 0),(0,o._)([(0,s.Cb)({type:String})],d.prototype,"lodSelectionMetricType",void 0),d=(0,o._)([(0,O.j)("esri.layer.support.I3SNodePageDefinition")],d);let M=class extends i.wq{constructor(){super(...arguments),this.factor=1}};(0,o._)([(0,s.Cb)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],M.prototype,"id",void 0),(0,o._)([(0,s.Cb)({type:Number})],M.prototype,"factor",void 0),M=(0,o._)([(0,O.j)("esri.layer.support.I3SMaterialTexture")],M);let E=class extends i.wq{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,o._)([(0,s.Cb)({type:[Number]})],E.prototype,"baseColorFactor",void 0),(0,o._)([(0,s.Cb)({type:M})],E.prototype,"baseColorTexture",void 0),(0,o._)([(0,s.Cb)({type:M})],E.prototype,"metallicRoughnessTexture",void 0),(0,o._)([(0,s.Cb)({type:Number})],E.prototype,"metallicFactor",void 0),(0,o._)([(0,s.Cb)({type:Number})],E.prototype,"roughnessFactor",void 0),E=(0,o._)([(0,O.j)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],E);let h=class extends i.wq{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,o._)([(0,j.J)({opaque:"opaque",mask:"mask",blend:"blend"})],h.prototype,"alphaMode",void 0),(0,o._)([(0,s.Cb)({type:Number})],h.prototype,"alphaCutoff",void 0),(0,o._)([(0,s.Cb)({type:Boolean})],h.prototype,"doubleSided",void 0),(0,o._)([(0,j.J)({none:"none",back:"back",front:"front"})],h.prototype,"cullFace",void 0),(0,o._)([(0,s.Cb)({type:M})],h.prototype,"normalTexture",void 0),(0,o._)([(0,s.Cb)({type:M})],h.prototype,"occlusionTexture",void 0),(0,o._)([(0,s.Cb)({type:M})],h.prototype,"emissiveTexture",void 0),(0,o._)([(0,s.Cb)({type:[Number]})],h.prototype,"emissiveFactor",void 0),(0,o._)([(0,s.Cb)({type:E})],h.prototype,"pbrMetallicRoughness",void 0),h=(0,o._)([(0,O.j)("esri.layer.support.I3SMaterialDefinition")],h);let P=class extends i.wq{};(0,o._)([(0,s.Cb)({type:String,json:{read:{source:["name","index"],reader:(C,R)=>null!=C?C:`${R.index}`}}})],P.prototype,"name",void 0),(0,o._)([(0,j.J)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],P.prototype,"format",void 0),P=(0,o._)([(0,O.j)("esri.layer.support.I3STextureFormat")],P);let I=class extends i.wq{constructor(){super(...arguments),this.atlas=!1}};(0,o._)([(0,s.Cb)({type:[P]})],I.prototype,"formats",void 0),(0,o._)([(0,s.Cb)({type:Boolean})],I.prototype,"atlas",void 0),I=(0,o._)([(0,O.j)("esri.layer.support.I3STextureSetDefinition")],I);let g=class extends i.wq{};(0,o._)([(0,j.J)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],g.prototype,"type",void 0),(0,o._)([(0,s.Cb)({type:Number})],g.prototype,"component",void 0),g=(0,o._)([(0,O.j)("esri.layer.support.I3SGeometryAttribute")],g);let f=class extends i.wq{};(0,o._)([(0,j.J)({draco:"draco"})],f.prototype,"encoding",void 0),(0,o._)([(0,s.Cb)({type:[String]})],f.prototype,"attributes",void 0),f=(0,o._)([(0,O.j)("esri.layer.support.I3SGeometryCompressedAttributes")],f);let S=class extends i.wq{constructor(){super(...arguments),this.offset=0}};(0,o._)([(0,s.Cb)({type:Number})],S.prototype,"offset",void 0),(0,o._)([(0,s.Cb)({type:g})],S.prototype,"position",void 0),(0,o._)([(0,s.Cb)({type:g})],S.prototype,"normal",void 0),(0,o._)([(0,s.Cb)({type:g})],S.prototype,"uv0",void 0),(0,o._)([(0,s.Cb)({type:g})],S.prototype,"color",void 0),(0,o._)([(0,s.Cb)({type:g})],S.prototype,"uvRegion",void 0),(0,o._)([(0,s.Cb)({type:g})],S.prototype,"featureId",void 0),(0,o._)([(0,s.Cb)({type:g})],S.prototype,"faceRange",void 0),(0,o._)([(0,s.Cb)({type:f})],S.prototype,"compressedAttributes",void 0),S=(0,o._)([(0,O.j)("esri.layer.support.I3SGeometryBuffer")],S);let x=class extends i.wq{};(0,o._)([(0,j.J)({triangle:"triangle"})],x.prototype,"topology",void 0),(0,o._)([(0,s.Cb)()],x.prototype,"geometryBuffers",void 0),x=(0,o._)([(0,O.j)("esri.layer.support.I3SGeometryDefinition")],x)},10439:(T,m,t)=>{t.d(m,{Z:()=>g});var P,o=t(17626),s=(t(29132),t(86810)),b=t(58817),D=t(14889),_=t(77712),O=(t(90912),t(76898)),d=t(99433),M=t(40405),E=t(55915),h=t(37118);let I=P=class extends s.wq{constructor(f){super(f),this.geometry=null,this.type="clip"}writeGeometry(f,S,x,C){if(C.layer&&C.layer.spatialReference&&!C.layer.spatialReference.equals(this.geometry.spatialReference)){if(!(0,E.Up)(f.spatialReference,C.layer.spatialReference))return void(C&&C.messages&&C.messages.push(new D.Z("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:C.layer.spatialReference,context:C})));const R=new h.Z;(0,E.Wt)(f,R,C.layer.spatialReference),S[x]=R.toJSON(C)}else S[x]=f.toJSON(C);delete S[x].spatialReference}clone(){return new P({geometry:(0,b.d9)(this.geometry),type:this.type})}};(0,o._)([(0,_.Cb)({type:h.Z}),(0,M.B)()],I.prototype,"geometry",void 0),(0,o._)([(0,d.c)(["web-scene","portal-item"],"geometry")],I.prototype,"writeGeometry",null),(0,o._)([(0,_.Cb)({type:["clip","mask","replace"],nonNullable:!0}),(0,M.B)()],I.prototype,"type",void 0),I=P=(0,o._)([(0,O.j)("esri.layers.support.SceneModification")],I);const g=I}}]);