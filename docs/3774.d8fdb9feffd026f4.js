"use strict";var De=Object.defineProperty,je=Object.defineProperties,ke=Object.getOwnPropertyDescriptors,Ne=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,Ge=(v,b,y)=>b in v?De(v,b,{enumerable:!0,configurable:!0,writable:!0,value:y}):v[b]=y,j=(v,b)=>{for(var y in b||(b={}))Ie.call(b,y)&&Ge(v,y,b[y]);if(Ne)for(var y of Ne(b))Le.call(b,y)&&Ge(v,y,b[y]);return v},te=(v,b)=>je(v,ke(b));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[3774],{58775:(v,b,y)=>{y.d(b,{O3:()=>he,lG:()=>ae,my:()=>we,q9:()=>T});var F=y(26584),_=y(66385),N=y(88071),m=y(36630);const S={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function T(r){return S[r]}function*L(r){switch(r.type){case"Feature":yield r;break;case"FeatureCollection":for(const s of r.features)s&&(yield s)}}function*W(r){if(r)switch(r.type){case"Point":yield r.coordinates;break;case"LineString":case"MultiPoint":yield*r.coordinates;break;case"MultiLineString":case"Polygon":for(const s of r.coordinates)yield*s;break;case"MultiPolygon":for(const s of r.coordinates)for(const l of s)yield*l}}function $(r){for(const s of r)if(s.length>2)return!0;return!1}function re(r){let s=0;for(let l=0;l<r.length;l++){const p=r[l],g=r[(l+1)%r.length];s+=p[0]*g[1]-g[0]*p[1]}return s<=0}function oe(r){const s=r[0],l=r[r.length-1];return s[0]===l[0]&&s[1]===l[1]&&s[2]===l[2]||r.push(s),r}function ye(r,s,l){switch(s.type){case"LineString":return function de(r,s,l){return V(r,s.coordinates,l),r}(r,s,l);case"MultiLineString":return function R(r,s,l){for(const p of s.coordinates)V(r,p,l);return r}(r,s,l);case"MultiPoint":return function k(r,s,l){return V(r,s.coordinates,l),r}(r,s,l);case"MultiPolygon":return function se(r,s,l){for(const p of s.coordinates){U(r,p[0],l);for(let g=1;g<p.length;g++)Y(r,p[g],l)}return r}(r,s,l);case"Point":return function me(r,s,l){return z(r,s.coordinates,l),r}(r,s,l);case"Polygon":return function Q(r,s,l){const p=s.coordinates;U(r,p[0],l);for(let g=1;g<p.length;g++)Y(r,p[g],l);return r}(r,s,l)}}function U(r,s,l){const p=oe(s);!function pe(r){return!re(r)}(p)?V(r,p,l):ie(r,p,l)}function Y(r,s,l){const p=oe(s);!function fe(r){return re(r)}(p)?V(r,p,l):ie(r,p,l)}function V(r,s,l){for(const p of s)z(r,p,l);r.lengths.push(s.length)}function ie(r,s,l){for(let p=s.length-1;p>=0;p--)z(r,s[p],l);r.lengths.push(s.length)}function z(r,s,l){const[p,g,G]=s;r.coords.push(p,g),l.hasZ&&r.coords.push(G||0)}function ge(r){switch(typeof r){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function he(r){if(!r)throw new F.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==r.type&&"FeatureCollection"!==r.type)throw new F.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:r});const{crs:s}=r;if(!s)return;const l="string"==typeof s?s:"name"===s.type?s.properties.name:"EPSG"===s.type?s.properties.code:null,p=new RegExp(".*(CRS84H?|4326)$","i");if(!l||!p.test(l))throw new F.Z("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:s})}function we(r,s={}){var ue;const l=[],p=new Set,g=new Set;let G,H=!1,x=null,M=!1,{geometryType:P=null}=s,q=!1;for(const A of L(r)){const{geometry:J,properties:C,id:I}=A;if((!J||(P||(P=T(J.type)),T(J.type)===P))&&(H||(H=$(W(J))),M||(M=null!=I,M&&(G=typeof I,C&&(x=Object.keys(C).filter(O=>C[O]===I)))),C&&x&&M&&null!=I&&(x.length>1?x=x.filter(O=>C[O]===I):1===x.length&&(x=C[x[0]]===I?x:[])),!q&&C)){let O=!0;for(const Z in C){if(p.has(Z))continue;const le=C[Z];if(null==le){O=!1,g.add(Z);continue}const K=ge(le);if("unknown"===K){g.add(Z);continue}g.delete(Z),p.add(Z);const ce=(0,m.q6)(Z);ce&&l.push({name:ce,alias:Z,type:K})}q=O}}const B=null!=(ue=(0,m.q6)(1===(null==x?void 0:x.length)&&x[0]||null))?ue:void 0;if(B)for(const A of l)if(A.name===B&&(0,m.H7)(A)){A.type="esriFieldTypeOID";break}return{fields:l,geometryType:P,hasZ:H,objectIdFieldName:B,objectIdFieldType:G,unknownFields:Array.from(g)}}function ae(r,s){return Array.from(function*ne(r,s={}){const{geometryType:l,objectIdField:p}=s;for(const g of r){const{geometry:G,properties:H,id:x}=g;if(G&&T(G.type)!==l)continue;const M=H||{};let P;p&&(P=M[p],null==x||P||(M[p]=P=x)),yield new _.u_(G?ye(new N.Z,G,s):null,M,null,null!=P?P:void 0)}}(L(r),s))}},83774:(v,b,y)=>{y.d(b,{M8:()=>Y,ft:()=>B,FU:()=>p,Bm:()=>Ee,be:()=>ue,eB:()=>Z});var F=y(15861),N=(y(29132),y(84792)),m=y(26584),S=y(56354),T=y(62208),L=y(10699),W=y(21726),ne=y(55915),$=y(37053),pe=y(71774),fe=y(58775);function re(o){var n;return null!=(n=function ye(o){var D,X,Ce,ve;const n=de.exec(o);if(null==n||!n.groups)return null;const t=n.groups,i=+t.year,a=+t.month-1,u=+t.day,c=+(null!=(D=t.hours)?D:"0"),f=+(null!=(X=t.minutes)?X:"0"),d=+(null!=(Ce=t.seconds)?Ce:"0");if(c>23||f>59||d>59)return null;const h=null!=(ve=t.ms)?ve:"0",w=h?+h.padEnd(3,"0").substring(0,3):0;let E;return E=t.isUTC?Date.UTC(i,a,u,c,f,d,w):t.offsetSign?6e4*("+"===t.offsetSign?-1:1)*(60*+t.offsetHours+ +t.offsetMinutes)+Date.UTC(i,a,u,c,f,d,w):new Date(i,a,u,c,f,d,w).getTime(),Number.isNaN(E)?null:E}(o))?n:function oe(o){const n=new Date(o).getTime();return Number.isNaN(n)?null:n}(o)}const de=new RegExp("^(?:(?<year>-?\\d{4,})-(?<month>\\d{2})-(?<day>\\d{2}))(?:T(?<hours>\\d{2}):(?<minutes>\\d{2}):(?<seconds>\\d{2})(?:\\.(?<ms>\\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\\+|-)(?<offsetHours>\\d{2}):(?<offsetMinutes>\\d{2})))?$");var R=y(7255),k=y(36255),se=y(65234),me=y(2004);const Q="xlink:href",U="2.0.0",Y="__esri_wfs_id__",V="wfs-layer:getWFSLayerTypeInfo-error",ie="wfs-layer:empty-service",z="wfs-layer:feature-type-not-found",we="wfs-layer:malformed-json",ae="wfs-layer:unknown-geometry-type",s="wfs-layer:unsupported-spatial-reference";function p(o,n){return g.apply(this,arguments)}function g(){return(g=(0,F.Z)(function*(o,n){const t=G((yield(0,N.default)(o,{responseType:"text",query:j({SERVICE:"WFS",REQUEST:"GetCapabilities",VERSION:U},null==n?void 0:n.customParameters),signal:null==n?void 0:n.signal})).data);return M(o,t),t})).apply(this,arguments)}function G(o){const n=Se(o);(function Oe(o){var t;const n=null==(t=o.firstElementChild)?void 0:t.getAttribute("version");if(n&&n!==U)throw new m.Z("wfs-layer:unsupported-wfs-version",`Unsupported WFS version ${n}. Supported version: ${U}`)})(n),Fe(n);const t=n.firstElementChild,i=(0,S.Fs)(function P(o){return(0,R.H)(o,{FeatureTypeList:{FeatureType:n=>{const t={typeName:"undefined:undefined",name:"",title:"",description:"",extent:null,namespacePrefix:"",namespaceUri:"",supportedSpatialReferences:[]},i=new Set([4326]),a=u=>{var f,d,h,w;const c=parseInt(null!=(w=null==(h=null==(d=null==(f=u.textContent)?void 0:f.match(new RegExp("(?<wkid>\\d+$)","i")))?void 0:d.groups)?void 0:h.wkid)?w:"",10);Number.isNaN(c)||i.add(c)};return(0,R.h)(n,{Name:u=>{const{name:c,prefix:f}=ee(u.textContent);t.typeName=`${f}:${c}`,t.name=c,t.namespacePrefix=f,t.namespaceUri=u.lookupNamespaceURI(f)},Abstract:u=>{t.description=u.textContent},Title:u=>{t.title=u.textContent},WGS84BoundingBox:u=>{t.extent=function q(o){let n,t,i,a;for(const u of o.children)switch(u.localName){case"LowerCorner":[n,t]=u.textContent.split(" ").map(c=>Number.parseFloat(c));break;case"UpperCorner":[i,a]=u.textContent.split(" ").map(c=>Number.parseFloat(c))}return{xmin:n,ymin:t,xmax:i,ymax:a,spatialReference:$.Zn}}(u)},DefaultSRS:a,DefaultCRS:a,OtherSRS:a,OtherCRS:a}),t.title||(t.title=t.name),t.supportedSpatialReferences.push(...i),t}}})}(t));return{operations:x(t),get featureTypes(){return Array.from(i())},readFeatureTypes:i}}const H=new Set(["json","application/json","geojson","application/json; subtype=geojson"]);function x(o){let n=!1;const t={GetCapabilities:{url:""},DescribeFeatureType:{url:""},GetFeature:{url:"",outputFormat:null,supportsPagination:!1}};if((0,R.h)(o,{OperationsMetadata:{Operation:i=>{switch(i.getAttribute("name")){case"GetCapabilities":return{DCP:{HTTP:{Get:a=>{t.GetCapabilities.url=a.getAttribute(Q)}}}};case"DescribeFeatureType":return{DCP:{HTTP:{Get:a=>{t.DescribeFeatureType.url=a.getAttribute(Q)}}}};case"GetFeature":return{DCP:{HTTP:{Get:a=>{t.GetFeature.url=a.getAttribute(Q)}}},Parameter:a=>{if("outputFormat"===a.getAttribute("name"))return{AllowedValues:{Value:u=>{const c=u.textContent;c&&H.has(c.toLowerCase())&&(t.GetFeature.outputFormat=c)}}}}}}},Constraint:i=>{switch(i.getAttribute("name")){case"KVPEncoding":return{DefaultValue:a=>{n="true"===a.textContent.toLowerCase()}};case"ImplementsResultPaging":return{DefaultValue:a=>{t.GetFeature.supportsPagination="true"===a.textContent.toLowerCase()}}}}}}),!n)throw new m.Z("wfs-layer:kvp-encoding-not-supported","WFS service doesn't support key/value pair (KVP) encoding");if((0,T.Wi)(t.GetFeature.outputFormat))throw new m.Z("wfs-layer:geojson-not-supported","WFS service doesn't support GeoJSON output format");return t}function M(o,n){(0,W.$U)(o)&&((0,W.D6)(o,n.operations.DescribeFeatureType.url,!0)&&(n.operations.DescribeFeatureType.url=(0,W.hO)(n.operations.DescribeFeatureType.url)),(0,W.D6)(o,n.operations.GetFeature.url,!0)&&(n.operations.GetFeature.url=(0,W.hO)(n.operations.GetFeature.url)))}function B(o,n,t){return(0,S.sE)(o,i=>t?i.name===n&&i.namespaceUri===t:i.typeName===n||i.name===n)}function ue(o,n,t){return A.apply(this,arguments)}function A(){return(A=(0,F.Z)(function*(o,n,t,i={}){var E;const{featureType:a,extent:u}=yield J(o,n,t,i),{fields:c,geometryType:f,swapXY:d,objectIdField:h,geometryField:w}=yield I(o,a.typeName,i);return{url:o.operations.GetCapabilities.url,name:a.name,namespaceUri:a.namespaceUri,fields:c,geometryField:w,geometryType:f,objectIdField:h,spatialReference:null!=(E=i.spatialReference)?E:se.Z.WGS84,extent:u,swapXY:d,wfsCapabilities:o,customParameters:i.customParameters}})).apply(this,arguments)}function J(o,n,t){return C.apply(this,arguments)}function C(){return(C=(0,F.Z)(function*(o,n,t,i={}){const{spatialReference:a=se.Z.WGS84}=i,u=o.readFeatureTypes(),c=n?B(u,n,t):u.next().value;if((0,T.Wi)(c))throw n?new m.Z(z,`The type '${n}' could not be found in the service`):new m.Z(ie,"The service is empty");let f=new me.Z(te(j({},c.extent),{spatialReference:a}));if(!(0,$.fS)(a,$.Zn))try{yield(0,ne.iQ)($.Zn,a,void 0,i),f=(0,ne.iV)(f,$.Zn)}catch(d){throw new m.Z(s,"Projection not supported")}return{extent:f,spatialReference:a,featureType:c}})).apply(this,arguments)}function I(o,n){return O.apply(this,arguments)}function O(){return(O=(0,F.Z)(function*(o,n,t={}){var h,w,E,D,X;const[i,a]=yield(0,L.as)([ce(o.operations.DescribeFeatureType.url,n,t),le(o,n,t)]);if(i.error||a.error)throw new m.Z(V,`An error occurred while getting info about the feature type '${n}'`,{error:i.error||a.error});const{fields:u,errors:c}=null!=(h=i.value)?h:{},f=(null==(w=i.value)?void 0:w.geometryType)||(null==(E=a.value)?void 0:E.geometryType),d=null!=(X=null==(D=a.value)?void 0:D.swapXY)&&X;if((0,T.Wi)(f))throw new m.Z(ae,`The geometry type could not be determined for type '${n}`,{typeName:n,geometryType:f,fields:u,errors:c});return te(j({},Z(null!=u?u:[])),{geometryType:f,swapXY:d})})).apply(this,arguments)}function Z(o){var i;const n=o.find(a=>"geometry"===a.type);let t=o.find(a=>"oid"===a.type);return o=o.filter(a=>"geometry"!==a.type),t||(t=new k.Z({name:Y,type:"oid",alias:Y}),o.unshift(t)),{geometryField:null!=(i=null==n?void 0:n.name)?i:null,objectIdField:t.name,fields:o}}function le(o,n){return K.apply(this,arguments)}function K(){return(K=(0,F.Z)(function*(o,n,t={}){var d;let i,a=!1;const[u,c]=yield Promise.all([Ee(o.operations.GetFeature.url,n,o.operations.GetFeature.outputFormat,te(j({},t),{count:1})),(0,N.default)(o.operations.GetFeature.url,{responseType:"text",query:Pe(n,void 0,te(j({},t),{count:1})),signal:null==t?void 0:t.signal})]),f="FeatureCollection"===u.type&&(null==(d=u.features[0])?void 0:d.geometry);if(f){let h;switch(i=pe.M.fromJSON((0,fe.q9)(f.type)),f.type){case"Point":h=f.coordinates;break;case"LineString":case"MultiPoint":h=f.coordinates[0];break;case"MultiLineString":case"Polygon":h=f.coordinates[0][0];break;case"MultiPolygon":h=f.coordinates[0][0][0]}const w=/<[^>]*pos[^>]*> *(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)/.exec(c.data);if(w){const E=h[0].toFixed(3),D=h[1].toFixed(3),X=parseFloat(w[1]).toFixed(3);E===parseFloat(w[2]).toFixed(3)&&D===X&&(a=!0)}}return{geometryType:i,swapXY:a}})).apply(this,arguments)}function ce(o,n,t){return be.apply(this,arguments)}function be(){return(be=(0,F.Z)(function*(o,n,t){return Ze(n,(yield(0,N.default)(o,{responseType:"text",query:j({SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:U,TYPENAME:n},null==t?void 0:t.customParameters),signal:null==t?void 0:t.signal})).data)})).apply(this,arguments)}function Ze(o,n){const{name:t}=ee(o),i=Se(n);Fe(i);const a=(0,S.sE)((0,R.H)(i.firstElementChild,{element:u=>({name:u.getAttribute("name"),typeName:ee(u.getAttribute("type")).name})}),({name:u})=>u===t);if((0,T.pC)(a)){const u=(0,S.sE)((0,R.H)(i.firstElementChild,{complexType:c=>c}),c=>c.getAttribute("name")===a.typeName);if((0,T.pC)(u))return function Me(o){const n=[],t=[];let i;const a=(0,R.H)(o,{complexContent:{extension:{sequence:{element:u=>u}}}});for(const u of a){const c=u.getAttribute("name");if(!c)continue;let f,d;if(u.hasAttribute("type")?f=ee(u.getAttribute("type")).name:(0,R.h)(u,{simpleType:{restriction:E=>(f=ee(E.getAttribute("base")).name,{maxLength:D=>{d=+D.getAttribute("value")}})}}),!f)continue;const h="true"===u.getAttribute("nillable");let w=!1;switch(f.toLowerCase()){case"integer":case"nonpositiveinteger":case"negativeinteger":case"long":case"int":case"short":case"byte":case"nonnegativeinteger":case"unsignedlong":case"unsignedint":case"unsignedshort":case"unsignedbyte":case"positiveinteger":t.push(new k.Z({name:c,alias:c,type:"integer",nullable:h}));break;case"float":case"double":case"decimal":t.push(new k.Z({name:c,alias:c,type:"double",nullable:h}));break;case"boolean":case"string":case"gyearmonth":case"gyear":case"gmonthday":case"gday":case"gmonth":case"anyuri":case"qname":case"notation":case"normalizedstring":case"token":case"language":case"idrefs":case"entities":case"nmtoken":case"nmtokens":case"name":case"ncname":case"id":case"idref":case"entity":case"duration":case"time":t.push(new k.Z({name:c,alias:c,type:"string",nullable:h,length:null!=d?d:255}));break;case"datetime":case"date":t.push(new k.Z({name:c,alias:c,type:"date",nullable:h,length:null!=d?d:36}));break;case"pointpropertytype":i="point",w=!0;break;case"multipointpropertytype":i="multipoint",w=!0;break;case"curvepropertytype":case"multicurvepropertytype":case"multilinestringpropertytype":i="polyline",w=!0;break;case"surfacepropertytype":case"multisurfacepropertytype":case"multipolygonpropertytype":i="polygon",w=!0;break;case"geometrypropertytype":case"multigeometrypropertytype":w=!0,n.push(new m.Z(ae,`geometry type '${f}' is not supported`,{type:(new XMLSerializer).serializeToString(o)}));break;default:n.push(new m.Z("wfs-layer:unknown-field-type",`Unknown field type '${f}'`,{type:(new XMLSerializer).serializeToString(o)}))}w&&t.push(new k.Z({name:c,alias:c,type:"geometry",nullable:h}))}for(const u of t)if("integer"===u.type&&!u.nullable&&Re.has(u.name.toLowerCase())){u.type="oid";break}return{geometryType:i,fields:t,errors:n}}(u)}throw new m.Z(z,`Type '${o}' not found in document`,{document:(new XMLSerializer).serializeToString(i)})}const Re=new Set(["objectid","fid"]);function Ee(o,n,t,i){return Te.apply(this,arguments)}function Te(){return(Te=(0,F.Z)(function*(o,n,t,i){var u;let{data:a}=yield(0,N.default)(o,{responseType:"text",query:Pe(n,t,i),signal:null==i?void 0:i.signal});a=a.replace(/": +(-?\d+),(\d+)(,)?/g,'": $1.$2$3');try{if(null!=(u=null==i?void 0:i.dateFields)&&u.length){const c=new Set(i.dateFields);return JSON.parse(a,(f,d)=>c.has(f)?re(d):d)}return JSON.parse(a)}catch(c){throw new m.Z(we,"Error while parsing the\xa0response",{response:a,error:c})}})).apply(this,arguments)}function Pe(o,n,t){return j({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:U,TYPENAMES:o,OUTPUTFORMAT:n,SRSNAME:"EPSG:4326",STARTINDEX:null==t?void 0:t.startIndex,COUNT:null==t?void 0:t.count},null==t?void 0:t.customParameters)}function Se(o){return(new DOMParser).parseFromString(o.trim(),"text/xml")}function ee(o){const[n,t]=o.split(":");return{prefix:t?n:"",name:null!=t?t:n}}function Fe(o){let n="",t="";if((0,R.h)(o.firstElementChild,{Exception:i=>(n=i.getAttribute("exceptionCode"),{ExceptionText:a=>{t=a.textContent}})}),n)throw new m.Z(`wfs-layer:${n}`,t)}},7255:(v,b,y)=>{function F(N,m){if(N&&m)for(const S of N.children)if(S.localName in m){const T=m[S.localName];if("function"==typeof T){const L=T(S);L&&F(S,L)}else F(S,T)}}function*_(N,m){for(const S of N.children)if(S.localName in m){const T=m[S.localName];"function"==typeof T?yield T(S):yield*_(S,T)}}y.d(b,{H:()=>_,h:()=>F})}}]);