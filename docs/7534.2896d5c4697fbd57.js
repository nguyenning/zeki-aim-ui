"use strict";var ut=Object.defineProperty,ot=Object.defineProperties,it=Object.getOwnPropertyDescriptors,at=Object.getOwnPropertySymbols,yt=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable,lt=(h,m,t)=>m in h?ut(h,m,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[m]=t,Y=(h,m)=>{for(var t in m||(m={}))yt.call(m,t)&&lt(h,t,m[t]);if(at)for(var t of at(m))ft.call(m,t)&&lt(h,t,m[t]);return h},tt=(h,m)=>ot(h,it(m));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[7534,3705],{17196:(h,m,t)=>{t.d(m,{V:()=>r});var l=t(15861),g=t(45205);function r(c,v){return o.apply(this,arguments)}function o(){return(o=(0,l.Z)(function*(c,v){var S;const I=yield(0,g.T)(c,v);I.layers=I.layers.filter(p);const M={serviceJSON:I};if((null!=(S=I.currentVersion)?S:0)<10.5)return M;const T=yield(0,g.T)(c+"/layers",v);return M.layersJSON={layers:T.layers.filter(p),tables:T.tables},M})).apply(this,arguments)}function p(c){return!c.type||"Feature Layer"===c.type}},30164:(h,m,t)=>{t.d(m,{T:()=>g});var l=t(15861);const g={BingMapsLayer:(r=(0,l.Z)(function*(){return(yield t.e(2248).then(t.bind(t,72248))).default}),function(){return r.apply(this,arguments)}),BuildingSceneLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(2964),t.e(2455),t.e(9410),t.e(8592),t.e(676)]).then(t.bind(t,6189))).default});return function(){return r.apply(this,arguments)}}(),CSVLayer:function(){var r=(0,l.Z)(function*(){return(yield t.e(5625).then(t.bind(t,85625))).default});return function(){return r.apply(this,arguments)}}(),DimensionLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(7614)]).then(t.bind(t,17614))).default});return function(){return r.apply(this,arguments)}}(),ElevationLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(5810)]).then(t.bind(t,75810))).default});return function(){return r.apply(this,arguments)}}(),FeatureLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.resolve().then(t.bind(t,80415))).default});return function(){return r.apply(this,arguments)}}(),GeoJSONLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.resolve().then(t.bind(t,72903))).default});return function(){return r.apply(this,arguments)}}(),GeoRSSLayer:function(){var r=(0,l.Z)(function*(){return(yield t.e(6306).then(t.bind(t,96306))).default});return function(){return r.apply(this,arguments)}}(),GroupLayer:function(){var r=(0,l.Z)(function*(){return(yield t.e(5964).then(t.bind(t,25964))).default});return function(){return r.apply(this,arguments)}}(),ImageryLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(1533),t.e(1913),t.e(9400)]).then(t.bind(t,99400))).default});return function(){return r.apply(this,arguments)}}(),ImageryTileLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(1533),t.e(8594),t.e(580),t.e(1913),t.e(8592),t.e(6329)]).then(t.bind(t,86329))).default});return function(){return r.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(2455),t.e(7867)]).then(t.bind(t,67867))).default});return function(){return r.apply(this,arguments)}}(),KMLLayer:function(){var r=(0,l.Z)(function*(){return(yield t.e(2701).then(t.bind(t,12701))).default});return function(){return r.apply(this,arguments)}}(),LineOfSightLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(5628)]).then(t.bind(t,29457))).default});return function(){return r.apply(this,arguments)}}(),MapImageLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(5485),t.e(8592),t.e(7948)]).then(t.bind(t,48887))).default});return function(){return r.apply(this,arguments)}}(),MapNotesLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(9859)]).then(t.bind(t,19859))).default});return function(){return r.apply(this,arguments)}}(),MediaLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(277)]).then(t.bind(t,60277))).default});return function(){return r.apply(this,arguments)}}(),OGCFeatureLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(8443)]).then(t.bind(t,36554))).default});return function(){return r.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(5980)]).then(t.bind(t,71591))).default});return function(){return r.apply(this,arguments)}}(),OrientedImageryLayer:function(){var r=(0,l.Z)(function*(){return(yield t.e(725).then(t.bind(t,60725))).default});return function(){return r.apply(this,arguments)}}(),PointCloudLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(2455),t.e(7155)]).then(t.bind(t,7155))).default});return function(){return r.apply(this,arguments)}}(),RouteLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(403),t.e(4940)]).then(t.bind(t,84940))).default});return function(){return r.apply(this,arguments)}}(),SceneLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(2964),t.e(2455),t.e(8592),t.e(7559)]).then(t.bind(t,27559))).default});return function(){return r.apply(this,arguments)}}(),StreamLayer:function(){var r=(0,l.Z)(function*(){return(yield t.e(289).then(t.bind(t,70289))).default});return function(){return r.apply(this,arguments)}}(),SubtypeGroupLayer:function(){var r=(0,l.Z)(function*(){return(yield t.e(465).then(t.bind(t,20465))).default});return function(){return r.apply(this,arguments)}}(),TileLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(5485),t.e(8592),t.e(9735)]).then(t.bind(t,59735))).default});return function(){return r.apply(this,arguments)}}(),UnknownLayer:function(){var r=(0,l.Z)(function*(){return(yield t.e(6339).then(t.bind(t,56339))).default});return function(){return r.apply(this,arguments)}}(),UnsupportedLayer:function(){var r=(0,l.Z)(function*(){return(yield t.e(6240).then(t.bind(t,16240))).default});return function(){return r.apply(this,arguments)}}(),VectorTileLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(8364),t.e(8592),t.e(3722)]).then(t.bind(t,10193))).default});return function(){return r.apply(this,arguments)}}(),VoxelLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(2455),t.e(6007)]).then(t.bind(t,26007))).default});return function(){return r.apply(this,arguments)}}(),WFSLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(3774),t.e(8762)]).then(t.bind(t,98762))).default});return function(){return r.apply(this,arguments)}}(),WMSLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(6894)]).then(t.bind(t,46894))).default});return function(){return r.apply(this,arguments)}}(),WMTSLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(4223)]).then(t.bind(t,64223))).default});return function(){return r.apply(this,arguments)}}(),WebTileLayer:function(){var r=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(2585)]).then(t.bind(t,28678))).default});return function(){return r.apply(this,arguments)}}()};var r},88755:(h,m,t)=>{t.d(m,{Y:()=>o,h:()=>r});var l=t(21726),g=t(84687);function r(p){return{origin:"portal-item",url:(0,l.mN)(p.itemUrl),portal:p.portal||g.Z.getDefault(),portalItem:p,readResourcePaths:[]}}function o(p){return{origin:"portal-item",messages:[],writtenProperties:[],url:p.itemUrl?(0,l.mN)(p.itemUrl):null,portal:p.portal||g.Z.getDefault(),portalItem:p}}},83705:(h,m,t)=>{t.r(m),t.d(m,{getFirstLayerOrTableId:()=>z,getNumLayersAndTables:()=>R,getSubtypeGroupLayerIds:()=>F,load:()=>G,preprocessFSItemData:()=>j});var l=t(15861),g=t(26584),r=t(44917),o=t(38305),p=t(17196),c=t(84687),v=t(55463),I=t(88755),M=t(37281),T=t(39683),S=t(45205);function G(e,u){return U.apply(this,arguments)}function U(){return(U=(0,l.Z)(function*(e,u){const a=e.instance.portalItem;if(a&&a.id)return yield a.load(u),K(e),H(e,u)})).apply(this,arguments)}function K(e){const u=e.instance.portalItem;if(null==u||!u.type||!e.supportedTypes.includes(u.type))throw new g.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:null==u?void 0:u.type,expectedType:e.supportedTypes.join(", ")})}function H(e,u){return O.apply(this,arguments)}function O(){return(O=(0,l.Z)(function*(e,u){var f;const a=e.instance,i=a.portalItem;if(!i)return;const{url:y,title:d}=i,n=(0,I.h)(i);if("group"===a.type)return a.read({title:d},n),Q(a,e);y&&a.read({url:y},n);const s=yield W(e,u);return s&&a.read(s,n),a.resourceReferences={portalItem:i,paths:null!=(f=n.readResourcePaths)?f:[]},"subtype-group"!==a.type&&a.read({title:d},n),(0,T.y)(a,n)})).apply(this,arguments)}function Q(e,u){return D.apply(this,arguments)}function D(){return(D=(0,l.Z)(function*(e,u){var P;let a;const{portalItem:i}=e;if(!i)return;const y=i.type,d=u.layerModuleTypeMap,n=null!=(P=(0,M._$)(i,"Oriented Imagery Layer"))&&P;switch(y){case"Feature Service":a=n?d.OrientedImageryLayer:d.FeatureLayer;break;case"Stream Service":a=d.StreamLayer;break;case"Scene Service":a=d.SceneLayer;break;case"Feature Collection":a=d.FeatureLayer;break;default:throw new g.Z("portal:unsupported-item-type-as-group",`The item type '${y}' is not supported as a 'IGroupLayer'`)}let[s,f]=yield Promise.all([a(),W(u)]),L=()=>s;if("Feature Service"===y){if(f=i.url?yield j(f,i.url):{},F(f).length){const C=d.SubtypeGroupLayer,E=yield C();L=x=>"SubtypeGroupLayer"===x.layerType?E:s}return N(e,L,f,yield _(i.url))}return R(f)>0?N(e,L,f):X(e,L)})).apply(this,arguments)}function X(e,u){return Z.apply(this,arguments)}function Z(){return(Z=(0,l.Z)(function*(e,u){var y,d;const{portalItem:a}=e;if(null==a||!a.url)return;const i=yield(0,S.T)(a.url);i&&N(e,u,{layers:null==(y=i.layers)?void 0:y.map($),tables:null==(d=i.tables)?void 0:d.map($)})})).apply(this,arguments)}function $(e){return{id:e.id,name:e.name}}function N(e,u,a,i){var n;let y=a.layers||[];const d=a.tables||[];if("Feature Collection"===(null==(n=e.portalItem)?void 0:n.type)&&(y.forEach(s=>{var f;"Table"===(null==(f=null==s?void 0:s.layerDefinition)?void 0:f.type)&&d.push(s)}),y=y.filter(s=>{var f;return"Table"!==(null==(f=null==s?void 0:s.layerDefinition)?void 0:f.type)})),"coverage"in a){const s=function k(e){const{coverage:u}=e;if(!u)return null;const a=new URL(u);if(u.toLowerCase().includes("item.html")){const i=a.searchParams.get("id");return r.Z.fromPortalItem({portalItem:new v.default({id:i,url:a.origin})})}if((0,o.B5)(u))return r.Z.fromArcGISServerUrl({url:u});throw new g.Z("portal:oriented-imagery-layer-coverage","the provided coverage url couldn't be loaded as a layer")}(a);s&&e.add(s)}y.reverse().forEach(s=>{const f=J(e,u(s),a,s,null==i?void 0:i(s));e.add(f)}),d.reverse().forEach(s=>{const f=J(e,u(s),a,s,null==i?void 0:i(s));e.tables.add(f)})}function J(e,u,a,i,y){const d=e.portalItem,n=new u({portalItem:d.clone(),layerId:i.id});if("sourceJSON"in n&&(n.sourceJSON=y),"subtype-group"!==n.type&&(n.sublayerTitleMode="service-name"),"Feature Collection"===d.type){const s={origin:"portal-item",portal:d.portal||c.Z.getDefault()};n.read(i,s);const f=a.showLegend;null!=f&&n.read({showLegend:f},s)}return n}function W(e,u){return A.apply(this,arguments)}function A(){return(A=(0,l.Z)(function*(e,u){if(!1===e.supportsData)return;const a=e.instance,i=a.portalItem;if(!i)return;let y=null;try{y=yield i.fetchData("json",u)}catch(d){}if(w(a)){let d=null,n=!0;if(y&&R(y)>0){if(null==a.layerId){const s=F(y);a.layerId="subtype-group"===a.type?null==s?void 0:s[0]:z(y)}d=b(y,a),d&&(1===R(y)&&(n=!1),null!=y.showLegend&&(d.showLegend=y.showLegend))}return n&&"service-name"!==a.sublayerTitleMode&&(a.sublayerTitleMode="item-title-and-service-name"),d}return y})).apply(this,arguments)}function j(e,u){return B.apply(this,arguments)}function B(){return(B=(0,l.Z)(function*(e,u){if(null==(null==e?void 0:e.layers)||null==(null==e?void 0:e.tables)){const a=yield(0,S.T)(u);(e=e||{}).layers=e.layers||(null==a?void 0:a.layers),e.tables=e.tables||(null==a?void 0:a.tables)}return e})).apply(this,arguments)}function z(e){const u=e.layers;if(u&&u.length)return u[0].id;const a=e.tables;return a&&a.length?a[0].id:null}function b(e,u){var y,d;const{layerId:a}=u,i=(null==(y=e.layers)?void 0:y.find(n=>n.id===a))||(null==(d=e.tables)?void 0:d.find(n=>n.id===a));return i&&function q(e,u){return!("feature"===u.type&&"layerType"in e&&"SubtypeGroupLayer"===e.layerType||"subtype-group"===u.type&&!("layerType"in e))}(i,u)?i:null}function R(e){var u,a,i,y;return(null!=(a=null==(u=null==e?void 0:e.layers)?void 0:u.length)?a:0)+(null!=(y=null==(i=null==e?void 0:e.tables)?void 0:i.length)?y:0)}function w(e){return"stream"!==e.type&&"oriented-imagery"!==e.type&&"layerId"in e}function F(e){var a;const u=[];return null==(a=null==e?void 0:e.layers)||a.forEach(i=>{"SubtypeGroupLayer"===i.layerType&&u.push(i.id)}),u}function _(e){return V.apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(e){const{layersJSON:u}=yield(0,p.V)(e);if(!u)return null;const a=[...u.layers,...u.tables];return i=>a.find(y=>y.id===i.id)})).apply(this,arguments)}},7534:(h,m,t)=>{t.r(m),t.d(m,{fromItem:()=>M,selectLayerClassPath:()=>U});var l=t(15861),g=t(26584),r=t(72469),o=t(30164),p=t(55463),c=t(83705),v=t(37281),I=t(45205);function M(n){return T.apply(this,arguments)}function T(){return(T=(0,l.Z)(function*(n){!n.portalItem||n.portalItem instanceof p.default||(n=tt(Y({},n),{portalItem:new p.default(n.portalItem)}));const s=yield S(n.portalItem);return new s.constructor(Y({portalItem:n.portalItem},s.properties))})).apply(this,arguments)}function S(n){return G.apply(this,arguments)}function G(){return(G=(0,l.Z)(function*(n){return yield n.load(),H(yield U(n))})).apply(this,arguments)}function U(n){return K.apply(this,arguments)}function K(){return(K=(0,l.Z)(function*(n){switch(n.type){case"Map Service":return Q(n);case"Feature Service":return X(n);case"Feature Collection":return J(n);case"Scene Service":return $(n);case"Image Service":return A(n);case"Stream Service":case"Feed":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"GeoJson":return{className:"GeoJSONLayer"};case"CSV":return{className:"CSVLayer"};case"KML":return{className:"KMLLayer"};case"WFS":return{className:"WFSLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:throw new g.Z("portal:unknown-item-type","Unknown item type '${type}'",{type:n.type})}})).apply(this,arguments)}function H(n){return O.apply(this,arguments)}function O(){return(O=(0,l.Z)(function*(n){const s=o.T[n.className];return{constructor:yield s(),properties:n.properties}})).apply(this,arguments)}function Q(n){return D.apply(this,arguments)}function D(){return(D=(0,l.Z)(function*(n){return(yield u(n))?{className:"TileLayer"}:{className:"MapImageLayer"}})).apply(this,arguments)}function X(n){return Z.apply(this,arguments)}function Z(){return(Z=(0,l.Z)(function*(n){if((0,v._$)(n,"Oriented Imagery Layer"))return V(n);const s=yield i(n);if("object"==typeof s){const f={};return null!=s.id&&(f.layerId=s.id),{className:s.className||"FeatureLayer",properties:f}}return{className:"GroupLayer"}})).apply(this,arguments)}function $(n){return N.apply(this,arguments)}function N(){return(N=(0,l.Z)(function*(n){var f,L;const s=yield i(n);if("object"==typeof s){const P={};let C;if(null!=s.id?(P.layerId=s.id,C=`${n.url}/layers/${s.id}`):C=n.url,null==(f=n.typeKeywords)?void 0:f.length)for(const x of Object.keys(r.fb))if(n.typeKeywords.includes(x))return{className:r.fb[x]};const E=yield(0,I.T)(C);return{className:r.fb[null==E?void 0:E.layerType]||"SceneLayer",properties:P}}return!1===s&&"Voxel"===(null==(L=yield(0,I.T)(n.url))?void 0:L.layerType)?{className:"VoxelLayer"}:{className:"GroupLayer"}})).apply(this,arguments)}function J(n){return W.apply(this,arguments)}function W(){return(W=(0,l.Z)(function*(n){yield n.load();const s=(0,v._$)(n,"Map Notes"),f=(0,v._$)(n,"Markup");if(s||f)return{className:"MapNotesLayer"};if((0,v._$)(n,"Route Layer"))return{className:"RouteLayer"};const L=yield n.fetchData();return 1===(0,c.getNumLayersAndTables)(L)?{className:"FeatureLayer"}:{className:"GroupLayer"}})).apply(this,arguments)}function A(n){return j.apply(this,arguments)}function j(){return(j=(0,l.Z)(function*(n){var E,x,nt,et,rt;yield n.load();const s=null!=(x=null==(E=n.typeKeywords)?void 0:E.map(st=>st.toLowerCase()))?x:[];if(s.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(s.includes("tiled imagery"))return{className:"ImageryTileLayer"};const f=null==(nt=yield n.fetchData())?void 0:nt.layerType;if("ArcGISTiledImageServiceLayer"===f)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===f)return{className:"ImageryLayer"};const L=yield(0,I.T)(n.url),P=null==(et=L.cacheType)?void 0:et.toLowerCase(),C=null==(rt=L.capabilities)?void 0:rt.toLowerCase().includes("tilesonly");return"map"===P||C?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}})).apply(this,arguments)}function V(n){return e.apply(this,arguments)}function e(){return(e=(0,l.Z)(function*(n){yield n.load();const s=yield n.fetchData();return s.coverage?{className:"GroupLayer"}:{className:"OrientedImageryLayer",properties:s}})).apply(this,arguments)}function u(n){return a.apply(this,arguments)}function a(){return(a=(0,l.Z)(function*(n){return(yield(0,I.T)(n.url)).tileInfo})).apply(this,arguments)}function i(n){return y.apply(this,arguments)}function y(){return(y=(0,l.Z)(function*(n){const s=n.url;if(!s||s.match(/\/\d+$/))return{};yield n.load();const f=yield n.fetchData();if("Feature Service"===n.type){const L=d(yield(0,c.preprocessFSItemData)(f,s));if("object"==typeof L){const P=(0,c.getSubtypeGroupLayerIds)(f);L.className=null!=L.id&&P.includes(L.id)?"SubtypeGroupLayer":"FeatureLayer"}return L}return(0,c.getNumLayersAndTables)(f)>0?d(f):d(yield(0,I.T)(s))})).apply(this,arguments)}function d(n){return 1===(0,c.getNumLayersAndTables)(n)&&{id:(0,c.getFirstLayerOrTableId)(n)}}},45205:(h,m,t)=>{t.d(m,{T:()=>r});var l=t(15861),g=t(84792);function r(p,c){return o.apply(this,arguments)}function o(){return(o=(0,l.Z)(function*(p,c){const{data:v}=yield(0,g.default)(p,{responseType:"json",query:tt(Y({f:"json"},null==c?void 0:c.customParameters),{token:null==c?void 0:c.apiKey})});return v})).apply(this,arguments)}}}]);