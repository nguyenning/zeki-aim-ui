"use strict";var Le=Object.defineProperty,Te=Object.defineProperties,Ae=Object.getOwnPropertyDescriptors,Ie=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,Se=(V,x,t)=>x in V?Le(V,x,{enumerable:!0,configurable:!0,writable:!0,value:t}):V[x]=t,se=(V,x)=>{for(var t in x||(x={}))xe.call(x,t)&&Se(V,t,x[t]);if(Ie)for(var t of Ie(x))Re.call(x,t)&&Se(V,t,x[t]);return V},ve=(V,x)=>Te(V,Ae(x));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[3130],{57092:(V,x,t)=>{t.d(x,{Z:()=>Oe});var b=t(15861),y=t(17626),$=t(14517),J=t(26584),z=t(8314),T=t(62208),f=t(10699),F=t(21726),O=t(77712),S=(t(90912),t(85931),t(76898)),oe=t(15283),q=t(2618),ne=t(90463),B=(t(29132),t(20477)),W=t(96854),D=t(2004);function I(){return(I=(0,b.Z)(function*(l,r,i){const d=(0,q.en)(l);return(0,B.Vr)(d,W.Z.from(r),se({},i)).then(h=>({count:h.data.count,extent:D.Z.fromJSON(h.data.extent)}))})).apply(this,arguments)}var _=t(24865),A=t(2865),E=t(33696),j=t(82054);function N(l,r){return r}function Z(l,r,i,d){switch(i){case 0:return U(l,r+d,0);case 1:return"lowerLeft"===l.originPosition?U(l,r+d,1):function ie({translate:l,scale:r},i,d){return l[d]-i*r[d]}(l,r+d,1)}}function ee(l,r,i,d){return 2===i?U(l,r,2):Z(l,r,i,d)}function m(l,r,i,d){return 2===i?U(l,r,3):Z(l,r,i,d)}function te(l,r,i,d){return 3===i?U(l,r,3):ee(l,r,i,d)}function U({translate:l,scale:r},i,d){return l[d]+i*r[d]}class w{constructor(r){this._options=r,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this._previousCoordinate=[0,0],this._transform=null,this._applyTransform=N,this._lengths=[],this._currentLengthIndex=0,this._toAddInCurrentPath=0,this._vertexDimension=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,this._attributesConstructor=class{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(r){if(this._options.applyTransform&&(r.transform=null),this._attributesConstructor=class{},this._coordinateBuffer=null,this._lengths.length=0,!r.hasZ)return;const i=(0,E.k)(r.geometryType,this._options.sourceSpatialReference,r.spatialReference);if(!(0,T.Wi)(i))for(const d of r.features)i(d.geometry)}createSpatialReference(){return{}}addField(r,i){const d=r.fields;(0,T.O3)(d),d.push(i);const h=d.map(K=>K.name);this._attributesConstructor=function(){for(const K of h)this[K]=null}}addFeature(r,i){r.features.push(i)}prepareFeatures(r){switch(this._transform=r.transform,this._options.applyTransform&&r.transform&&(this._applyTransform=this._deriveApplyTransform(r)),this._vertexDimension=2,r.hasZ&&this._vertexDimension++,r.hasM&&this._vertexDimension++,r.geometryType){case"esriGeometryPoint":this.addCoordinate=(i,d,h)=>this.addCoordinatePoint(i,d,h),this.createGeometry=i=>this.createPointGeometry(i);break;case"esriGeometryPolygon":this.addCoordinate=(i,d,h)=>this._addCoordinatePolygon(i,d,h),this.createGeometry=i=>this._createPolygonGeometry(i);break;case"esriGeometryPolyline":this.addCoordinate=(i,d,h)=>this._addCoordinatePolyline(i,d,h),this.createGeometry=i=>this._createPolylineGeometry(i);break;case"esriGeometryMultipoint":this.addCoordinate=(i,d,h)=>this._addCoordinateMultipoint(i,d,h),this.createGeometry=i=>this._createMultipointGeometry(i)}}createFeature(){return this._lengths.length=0,this._currentLengthIndex=0,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(r,i,d){0===this._lengths.length&&(this._toAddInCurrentPath=i),this._lengths.push(i)}addQueryGeometry(r,i){const{queryGeometry:d,queryGeometryType:h}=i,K=(0,j.$g)(d.clone(),d,!1,!1,this._transform),Q=(0,j.di)(K,h,!1,!1);r.queryGeometryType=h,r.queryGeometry=se({},Q)}createPointGeometry(r){const i={x:0,y:0,spatialReference:r.spatialReference};return r.hasZ&&(i.z=0),r.hasM&&(i.m=0),i}addCoordinatePoint(r,i,d){const h=(0,T.s3)(this._transform,"transform");switch(i=this._applyTransform(h,i,d,0),d){case 0:r.x=i;break;case 1:r.y=i;break;case 2:"z"in r?r.z=i:r.m=i;break;case 3:r.m=i}}_transformPathLikeValue(r,i){let d=0;i<=1&&(d=this._previousCoordinate[i],this._previousCoordinate[i]+=r);const h=(0,T.s3)(this._transform,"transform");return this._applyTransform(h,r,i,d)}_addCoordinatePolyline(r,i,d){this._dehydratedAddPointsCoordinate(r.paths,i,d)}_addCoordinatePolygon(r,i,d){this._dehydratedAddPointsCoordinate(r.rings,i,d)}_addCoordinateMultipoint(r,i,d){0===d&&r.points.push([]);const h=this._transformPathLikeValue(i,d);r.points[r.points.length-1].push(h)}_createPolygonGeometry(r){return{rings:[[]],spatialReference:r.spatialReference,hasZ:!!r.hasZ,hasM:!!r.hasM}}_createPolylineGeometry(r){return{paths:[[]],spatialReference:r.spatialReference,hasZ:!!r.hasZ,hasM:!!r.hasM}}_createMultipointGeometry(r){return{points:[],spatialReference:r.spatialReference,hasZ:!!r.hasZ,hasM:!!r.hasM}}_dehydratedAddPointsCoordinate(r,i,d){0===d&&0==this._toAddInCurrentPath--&&(r.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);const h=this._transformPathLikeValue(i,d),K=r[r.length-1];0===d&&(this._coordinateBufferPtr=0,this._coordinateBuffer=new Array(this._vertexDimension),K.push(this._coordinateBuffer)),this._coordinateBuffer[this._coordinateBufferPtr++]=h}_deriveApplyTransform(r){const{hasZ:i,hasM:d}=r;return i&&d?te:i?ee:d?m:Z}}var P=t(17253);function ce(){return(ce=(0,b.Z)(function*(l,r,i){const d=(0,q.en)(l),h=se({},i),K=W.Z.from(r),Q=!K.quantizationParameters,{data:re}=yield(0,B.qp)(d,K,new w({sourceSpatialReference:K.sourceSpatialReference,applyTransform:Q}),h);return re})).apply(this,arguments)}let G=class extends $.Z{constructor(l){super(l),this.dynamicDataSource=null,this.fieldsIndex=null,this.gdbVersion=null,this.infoFor3D=null,this.pbfSupported=!1,this.queryAttachmentsSupported=!1,this.sourceSpatialReference=null,this.url=null}get parsedUrl(){return(0,F.mN)(this.url)}execute(l,r){var i=this;return(0,b.Z)(function*(){const d=yield i.executeJSON(l,r);return i.featureSetFromJSON(l,d,r)})()}executeJSON(l,r){var i=this;return(0,b.Z)(function*(){var de;const d=i._normalizeQuery(l),h=null!=(null==(de=l.outStatistics)?void 0:de[0]),K=(0,z.Z)("featurelayer-pbf-statistics"),Q=!h||K;let re;if(i.pbfSupported&&Q)try{re=yield function ae(l,r,i){return ce.apply(this,arguments)}(i.url,d,r)}catch(ye){if("query:parsing-pbf"!==ye.name)throw ye;i.pbfSupported=!1}return i.pbfSupported&&Q||(re=yield(0,A.F)(i.url,d,r)),i._normalizeFields(re.fields),re})()}featureSetFromJSON(l,r,i){var d=this;return(0,b.Z)(function*(){if(!d._queryIs3DObjectFormat(l)||(0,T.Wi)(d.infoFor3D)||!r.assetMaps||!r.features||!r.features.length)return P.Z.fromJSON(r);const{meshFeatureSetFromJSON:h}=yield(0,f.Hl)(Promise.all([t.e(8592),t.e(2435)]).then(t.bind(t,12435)),i);return h(l,d.infoFor3D,r)})()}executeForCount(l,r){return(0,ne.P)(this.url,this._normalizeQuery(l),r)}executeForExtent(l,r){return function L(l,r,i){return I.apply(this,arguments)}(this.url,this._normalizeQuery(l),r)}executeForIds(l,r){return(0,_.G)(this.url,this._normalizeQuery(l),r)}executeRelationshipQuery(l,r){var i=this;return(0,b.Z)(function*(){const[{default:d},{executeRelationshipQuery:h}]=yield(0,f.Hl)(Promise.all([Promise.resolve().then(t.bind(t,67010)),t.e(8727).then(t.bind(t,78727))]),r);return l=d.from(l),(i.gdbVersion||i.dynamicDataSource)&&((l=l.clone()).gdbVersion=l.gdbVersion||i.gdbVersion,l.dynamicDataSource=l.dynamicDataSource||i.dynamicDataSource),h(i.url,l,r)})()}executeRelationshipQueryForCount(l,r){var i=this;return(0,b.Z)(function*(){const[{default:d},{executeRelationshipQueryForCount:h}]=yield(0,f.Hl)(Promise.all([Promise.resolve().then(t.bind(t,67010)),t.e(8727).then(t.bind(t,78727))]),r);return l=d.from(l),(i.gdbVersion||i.dynamicDataSource)&&((l=l.clone()).gdbVersion=l.gdbVersion||i.gdbVersion,l.dynamicDataSource=l.dynamicDataSource||i.dynamicDataSource),h(i.url,l,r)})()}executeAttachmentQuery(l,r){var i=this;return(0,b.Z)(function*(){const{executeAttachmentQuery:d,fetchAttachments:h,processAttachmentQueryResult:K}=yield(0,f.Hl)(t.e(5531).then(t.bind(t,85531)),r),Q=(0,q.en)(i.url);return K(Q,yield i.queryAttachmentsSupported?d(Q,l,r):h(Q,l,r))})()}executeTopFeaturesQuery(l,r){var i=this;return(0,b.Z)(function*(){const{executeTopFeaturesQuery:d}=yield(0,f.Hl)(Promise.all([t.e(8592),t.e(8628)]).then(t.bind(t,28628)),r);return d(i.parsedUrl,l,i.sourceSpatialReference,r)})()}executeForTopIds(l,r){var i=this;return(0,b.Z)(function*(){const{executeForTopIds:d}=yield(0,f.Hl)(Promise.all([t.e(8592),t.e(9931)]).then(t.bind(t,39931)),r);return d(i.parsedUrl,l,r)})()}executeForTopExtents(l,r){var i=this;return(0,b.Z)(function*(){const{executeForTopExtents:d}=yield(0,f.Hl)(Promise.all([t.e(8592),t.e(4080)]).then(t.bind(t,14080)),r);return d(i.parsedUrl,l,r)})()}executeForTopCount(l,r){var i=this;return(0,b.Z)(function*(){const{executeForTopCount:d}=yield(0,f.Hl)(Promise.all([t.e(8592),t.e(1147)]).then(t.bind(t,91147)),r);return d(i.parsedUrl,l,r)})()}_normalizeQuery(l){let r=W.Z.from(l);if(r.sourceSpatialReference=r.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(r=r===l?r.clone():r,r.gdbVersion=l.gdbVersion||this.gdbVersion,r.dynamicDataSource=l.dynamicDataSource?oe.n.from(l.dynamicDataSource):this.dynamicDataSource),(0,T.pC)(this.infoFor3D)&&this._queryIs3DObjectFormat(l)){r=r===l?r.clone():r,r.formatOf3DObjects=null;for(const i of this.infoFor3D.queryFormats){if("3D_glb"===i){r.formatOf3DObjects=i;break}"3D_gltf"!==i||r.formatOf3DObjects||(r.formatOf3DObjects=i)}if(!r.formatOf3DObjects)throw new J.Z("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if((0,T.Wi)(r.outFields)||!r.outFields.includes("*")){r=r===l?r.clone():r,(0,T.Wi)(r.outFields)&&(r.outFields=[]);const{originX:i,originY:d,originZ:h,translationX:K,translationY:Q,translationZ:re,scaleX:de,scaleY:ye,scaleZ:fe,rotationX:pe,rotationY:_e,rotationZ:he,rotationDeg:Ee}=this.infoFor3D.transformFieldRoles;r.outFields.push(i,d,h,K,Q,re,de,ye,fe,pe,_e,he,Ee)}}return r}_normalizeFields(l){if((0,T.pC)(this.fieldsIndex)&&(0,T.pC)(l))for(const r of l){const i=this.fieldsIndex.get(r.name);i&&Object.assign(r,i.toJSON())}}_queryIs3DObjectFormat(l){return(0,T.pC)(this.infoFor3D)&&!0===l.returnGeometry&&"xyFootprint"!==l.multipatchOption&&!l.outStatistics}};(0,y._)([(0,O.Cb)({type:oe.n})],G.prototype,"dynamicDataSource",void 0),(0,y._)([(0,O.Cb)()],G.prototype,"fieldsIndex",void 0),(0,y._)([(0,O.Cb)()],G.prototype,"gdbVersion",void 0),(0,y._)([(0,O.Cb)()],G.prototype,"infoFor3D",void 0),(0,y._)([(0,O.Cb)({readOnly:!0})],G.prototype,"parsedUrl",null),(0,y._)([(0,O.Cb)()],G.prototype,"pbfSupported",void 0),(0,y._)([(0,O.Cb)()],G.prototype,"queryAttachmentsSupported",void 0),(0,y._)([(0,O.Cb)()],G.prototype,"sourceSpatialReference",void 0),(0,y._)([(0,O.Cb)({type:String})],G.prototype,"url",void 0),G=(0,y._)([(0,S.j)("esri.tasks.QueryTask")],G);const Oe=G},19027:(V,x,t)=>{t.d(x,{O:()=>ne});var b=t(15861),y=t(17626),$=t(84792),J=t(10699),z=t(21726),T=t(10349),f=t(77712),R=(t(90912),t(85931),t(68653)),C=t(76898),S=t(2004),oe=t(65234),q=t(13812);const ne=ue=>{let B=class extends ue{constructor(){super(...arguments),this.capabilities=void 0,this.copyright=null,this.fullExtent=null,this.legendEnabled=!0,this.spatialReference=null,this.version=void 0,this._allLayersAndTablesPromise=null,this._allLayersAndTablesMap=null}readCapabilities(W,D){var P,v;const L=D.capabilities&&D.capabilities.split(",").map(X=>X.toLowerCase().trim());if(!L)return{operations:{supportsExportMap:!1,supportsExportTiles:!1,supportsIdentify:!1,supportsQuery:!1,supportsTileMap:!1},exportMap:null,exportTiles:null};const I=this.type,_="tile"!==I&&!!D.supportsDynamicLayers,A=L.includes("query"),E=L.includes("map"),j=!!D.exportTilesAllowed,N=L.includes("tilemap"),Z=L.includes("data"),ee="tile"!==I&&(!D.tileInfo||_),m="tile"!==I&&(!D.tileInfo||_),te="tile"!==I,U=D.cimVersion&&T.G.parse(D.cimVersion),ie=null!=(P=null==U?void 0:U.since(1,4))&&P,w=null!=(v=null==U?void 0:U.since(2,0))&&v;return{operations:{supportsExportMap:E,supportsExportTiles:j,supportsIdentify:A,supportsQuery:Z,supportsTileMap:N},exportMap:E?{supportsArcadeExpressionForLabeling:ie,supportsSublayersChanges:te,supportsDynamicLayers:_,supportsSublayerVisibility:ee,supportsSublayerDefinitionExpression:m,supportsCIMSymbols:w}:null,exportTiles:j?{maxExportTilesCount:+D.maxExportTilesCount}:null}}readVersion(W,D){let L=D.currentVersion;return L||(L=D.hasOwnProperty("capabilities")||D.hasOwnProperty("tables")?10:D.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3),L}fetchSublayerInfo(W,D){var L=this;return(0,b.Z)(function*(){var I;try{return yield L.fetchAllLayersAndTables(D),null==(I=L._allLayersAndTablesMap)?void 0:I.get(W)}catch(_){return}})()}fetchAllLayersAndTables(W){var D=this;return(0,b.Z)(function*(){yield D.load(W),D._allLayersAndTablesPromise||(D._allLayersAndTablesPromise=(0,$.default)((0,z.mN)(D.url).path+"/layers",{responseType:"json",query:ve(se({f:"json"},D.customParameters),{token:D.apiKey})}).then(I=>{D._allLayersAndTablesMap=new Map;for(const _ of I.data.layers)D._allLayersAndTablesMap.set(_.id,_);return{result:I.data}},I=>({error:I})));const L=yield D._allLayersAndTablesPromise;if((0,J.k_)(W),"result"in L)return L.result;throw L.error})()}};return(0,y._)([(0,f.Cb)({readOnly:!0})],B.prototype,"capabilities",void 0),(0,y._)([(0,R.r)("service","capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],B.prototype,"readCapabilities",null),(0,y._)([(0,f.Cb)({json:{read:{source:"copyrightText"}}})],B.prototype,"copyright",void 0),(0,y._)([(0,f.Cb)({type:S.Z})],B.prototype,"fullExtent",void 0),(0,y._)([(0,f.Cb)(q.id)],B.prototype,"id",void 0),(0,y._)([(0,f.Cb)({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],B.prototype,"legendEnabled",void 0),(0,y._)([(0,f.Cb)(q.C_)],B.prototype,"popupEnabled",void 0),(0,y._)([(0,f.Cb)({type:oe.Z})],B.prototype,"spatialReference",void 0),(0,y._)([(0,f.Cb)({readOnly:!0})],B.prototype,"version",void 0),(0,y._)([(0,R.r)("version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],B.prototype,"readVersion",null),B=(0,y._)([(0,C.j)("esri.layers.mixins.ArcGISMapService")],B),B}},66120:(V,x,t)=>{t.d(x,{x:()=>D});var b=t(17626),y=t(46160),$=t(46882),J=t(26584),z=t(63290),T=t(32917),f=t(77712),R=(t(90912),t(85931),t(52323)),C=t(76898),S=t(31283),oe=t(39058),q=t(13410);const ne=z.Z.getLogger("esri.layers.TileLayer"),B=y.Z.ofType(oe.Z);function W(L,I){L&&L.forEach(_=>{I(_),_.sublayers&&_.sublayers.length&&W(_.sublayers,I)})}const D=L=>{let I=class extends L{constructor(..._){super(..._),this.allSublayers=new $.Z({getCollections:()=>[this.sublayers],getChildrenFunction:A=>A.sublayers}),this.sublayersSourceJSON={[S.s3.SERVICE]:{},[S.s3.PORTAL_ITEM]:{},[S.s3.WEB_SCENE]:{},[S.s3.WEB_MAP]:{}},this.addHandles((0,T.YP)(()=>this.sublayers,(A,E)=>this._handleSublayersChange(A,E),T.Z_))}readSublayers(_,A){if(!A||!_)return;const{sublayersSourceJSON:E}=this,j=(0,S.M9)(A.origin);if(j<S.s3.SERVICE||(E[j]={context:A,visibleLayers:_.visibleLayers||E[j].visibleLayers,layers:_.layers||E[j].layers},j>S.s3.SERVICE))return;this._set("serviceSublayers",this.createSublayersForOrigin("service").sublayers);const{sublayers:N,origin:Z}=this.createSublayersForOrigin("web-document"),ee=(0,R.vw)(this);ee.setDefaultOrigin(Z),this._set("sublayers",new B(N)),ee.setDefaultOrigin("user")}findSublayerById(_){return this.allSublayers.find(A=>A.id===_)}createServiceSublayers(){return this.createSublayersForOrigin("service").sublayers}createSublayersForOrigin(_){const A=(0,S.M9)("web-document"===_?"web-map":_);let E=S.s3.SERVICE,j=this.sublayersSourceJSON[S.s3.SERVICE].layers,N=this.sublayersSourceJSON[S.s3.SERVICE].context,Z=null;const ee=[S.s3.PORTAL_ITEM,S.s3.WEB_SCENE,S.s3.WEB_MAP].filter(P=>P<=A);for(const P of ee){const v=this.sublayersSourceJSON[P];(0,q.ac)(v.layers)&&(E=P,j=v.layers,N=v.context,v.visibleLayers&&(Z={visibleLayers:v.visibleLayers,context:v.context}))}const m=[S.s3.PORTAL_ITEM,S.s3.WEB_SCENE,S.s3.WEB_MAP].filter(P=>P>E&&P<=A);let te=null;for(const P of m){const{layers:v,visibleLayers:X,context:ae}=this.sublayersSourceJSON[P];v&&(te={layers:v,context:ae}),X&&(Z={visibleLayers:X,context:ae})}const U=function ue(L,I){const _=[],A={};return L&&L.forEach(E=>{const j=new oe.Z;if(j.read(E,I),A[j.id]=j,null!=E.parentLayerId&&-1!==E.parentLayerId){const N=A[E.parentLayerId];N.sublayers||(N.sublayers=[]),N.sublayers.unshift(j)}else _.unshift(j)}),_}(j,N),ie=new Map,w=new Set;if(te)for(const P of te.layers)ie.set(P.id,P);if(null!=Z&&Z.visibleLayers)for(const P of Z.visibleLayers)w.add(P);return W(U,P=>{te&&P.read(ie.get(P.id),te.context),Z&&P.read({defaultVisibility:w.has(P.id)},Z.context)}),{origin:(0,S.x3)(E),sublayers:new B({items:U})}}read(_,A){super.read(_,A),this.readSublayers(_,A)}_handleSublayersChange(_,A){A&&(A.forEach(E=>{E.parent=null,E.layer=null}),this.handles.remove("sublayers-owner")),_&&(_.forEach(E=>{E.parent=this,E.layer=this}),this.handles.add([_.on("after-add",({item:E})=>{E.parent=this,E.layer=this}),_.on("after-remove",({item:E})=>{E.parent=null,E.layer=null})],"sublayers-owner"),"tile"===this.type&&this.handles.add(_.on("before-changes",E=>{ne.error(new J.Z("tilelayer:sublayers-non-modifiable","ISublayer can't be added, moved, or removed from the layer's sublayers",{layer:this})),E.preventDefault()}),"sublayers-owner"))}};return(0,b._)([(0,f.Cb)({readOnly:!0})],I.prototype,"allSublayers",void 0),(0,b._)([(0,f.Cb)({readOnly:!0,type:y.Z.ofType(oe.Z)})],I.prototype,"serviceSublayers",void 0),(0,b._)([(0,f.Cb)({value:null,type:B,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],I.prototype,"sublayers",void 0),(0,b._)([(0,f.Cb)({readOnly:!0})],I.prototype,"sublayersSourceJSON",void 0),I=(0,b._)([(0,C.j)("esri.layers.mixins.SublayersOwner")],I),I}},39058:(V,x,t)=>{t.d(x,{Z:()=>Ce});var pe,b=t(15861),y=t(17626),J=(t(29132),t(73281)),q=(t(4832),t(49067),t(96794),t(69747),t(40425),t(69357),t(40342),t(73640),t(33474),t(32088)),ne=t(84792),ue=t(20383),B=t(46160),W=t(26584),D=t(80542),L=t(8314),I=t(61996),_=t(58817),A=t(47996),E=t(63290),j=t(62208),N=t(99959),Z=t(95737),ee=t(21726),m=t(77712),te=t(66656),U=t(68653),ie=t(76898),w=t(99433),P=t(90912),v=t(31283),X=t(52323),ae=t(57092),ce=t(41638),G=t(36255),Oe=t(60466),l=t(170),r=t(62667),i=t(2430),d=t(94138),h=t(15283),K=t(48370),Q=t(67736),re=t(96854),de=t(49430),ye=t(2004),fe=t(71774);function _e(e){return null!=e&&"esriSMS"===e.type}function he(e,s,n){var p;const u=this.originIdOf(s)>=(0,v.M9)(n.origin);return{ignoreOrigin:!0,allowNull:u,enabled:!!n&&"map-image"===(null==(p=n.layer)?void 0:p.type)&&(n.writeSublayerStructure||u)}}function Ee(e,s,n){var u;return{enabled:!!n&&"tile"===(null==(u=n.layer)?void 0:u.type)&&this._isOverridden(s)}}function Y(e,s,n){return{ignoreOrigin:!0,enabled:n&&n.writeSublayerStructure||!1}}function ge(e,s,n){return{ignoreOrigin:!0,enabled:!!n&&(n.writeSublayerStructure||this.originIdOf(s)>=(0,v.M9)(n.origin))}}let Me=0;const le=new Set;le.add("layer"),le.add("parent"),le.add("loaded"),le.add("loadStatus"),le.add("loadError"),le.add("loadWarnings");let c=pe=class extends((0,D.p)((0,N.R)((0,I.IG)(A.Z)))){constructor(e){super(e),this.capabilities=void 0,this.fields=null,this.fullExtent=null,this.geometryType=null,this.globalIdField=null,this.legendEnabled=!0,this.objectIdField=null,this.popupEnabled=!0,this.popupTemplate=null,this.sourceJSON=null,this.title=null,this.typeIdField=null,this.types=null,this._lastParsedUrl=null}load(e){var s=this;return(0,b.Z)(function*(){return s.addResolvingPromise((0,b.Z)(function*(){const{layer:n,source:u,url:p}=s;if(!n&&!p)throw new W.Z("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:s});let M=null;if(!n||s.originIdOf("url")>v.s3.SERVICE||"data-layer"===(null==u?void 0:u.type))M=(yield(0,ne.default)(p,se({responseType:"json",query:{f:"json"}},e))).data;else{let g=s.id;"map-layer"===(null==u?void 0:u.type)&&(g=u.mapLayerId),M=yield n.fetchSublayerInfo(g,e)}M&&(s.sourceJSON=M,s.read({layerDefinition:M},{origin:"service"}))})()),s})()}readCapabilities(e,s){s=s.layerDefinition||s;const{operations:{supportsQuery:n,supportsQueryAttachments:u},query:{supportsFormatPBF:p},data:{supportsAttachment:M}}=(0,d.h)(s,this.url);return{exportMap:{supportsModification:!!s.canModifyLayer},operations:{supportsQuery:n,supportsQueryAttachments:u},data:{supportsAttachment:M},query:{supportsFormatPBF:p}}}get defaultPopupTemplate(){return this.createPopupTemplate()}set definitionExpression(e){this._setAndNotifyLayer("definitionExpression",e)}get fieldsIndex(){return new Oe.Z(this.fields||[])}set floorInfo(e){this._setAndNotifyLayer("floorInfo",e)}readGlobalIdFieldFromService(e,s){if((s=s.layerDefinition||s).globalIdField)return s.globalIdField;if(s.fields)for(const n of s.fields)if("esriFieldTypeGlobalID"===n.type)return n.name}get id(){const e=this._get("id");return null!=e?e:Me++}set id(e){var s,n,u;this._get("id")!==e&&(!1!==(null==(u=null==(n=null==(s=this.layer)?void 0:s.capabilities)?void 0:n.exportMap)?void 0:u.supportsDynamicLayers)?this._set("id",e):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}set labelingInfo(e){this._setAndNotifyLayer("labelingInfo",e)}writeLabelingInfo(e,s,n,u){e&&e.length&&(s.layerDefinition={drawingInfo:{labelingInfo:e.map(p=>p.write({},u))}})}set labelsVisible(e){this._setAndNotifyLayer("labelsVisible",e)}set layer(e){this._set("layer",e),this.sublayers&&this.sublayers.forEach(s=>s.layer=e)}set listMode(e){this._set("listMode",e)}set minScale(e){this._setAndNotifyLayer("minScale",e)}readMinScale(e,s){return s.minScale||s.layerDefinition&&s.layerDefinition.minScale||0}set maxScale(e){this._setAndNotifyLayer("maxScale",e)}readMaxScale(e,s){return s.maxScale||s.layerDefinition&&s.layerDefinition.maxScale||0}get effectiveScaleRange(){const{minScale:e,maxScale:s}=this;return{minScale:e,maxScale:s}}readObjectIdFieldFromService(e,s){if((s=s.layerDefinition||s).objectIdField)return s.objectIdField;if(s.fields)for(const n of s.fields)if("esriFieldTypeOID"===n.type)return n.name}set opacity(e){this._setAndNotifyLayer("opacity",e)}readOpacity(e,s){var u,p;const n=s.layerDefinition;return 1-.01*(null!=(p=null!=(null==n?void 0:n.transparency)?n.transparency:null==(u=null==n?void 0:n.drawingInfo)?void 0:u.transparency)?p:0)}writeOpacity(e,s,n,u){s.layerDefinition={drawingInfo:{transparency:100-100*e}}}writeParent(e,s){s.parentLayerId=this.parent&&this.parent!==this.layer?(0,P.vU)(this.parent.id):-1}get queryTask(){var g,H;if(!this.layer)return null;const{spatialReference:e}=this.layer,s="gdbVersion"in this.layer?this.layer.gdbVersion:void 0,{capabilities:n,fieldsIndex:u}=this,p=(0,L.Z)("featurelayer-pbf")&&(null==n?void 0:n.query.supportsFormatPBF),M=null!=(H=null==(g=null==n?void 0:n.operations)?void 0:g.supportsQueryAttachments)&&H;return new ae.Z({url:this.url,pbfSupported:p,fieldsIndex:u,gdbVersion:s,sourceSpatialReference:e,queryAttachmentsSupported:M})}set renderer(e){if(e)for(const s of e.getSymbols())if((0,ue.dU)(s)){E.Z.getLogger(this.declaredClass).warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",e)}get source(){return this._get("source")||new K.R({mapLayerId:this.id})}set source(e){this._setAndNotifyLayer("source",e)}set sublayers(e){this._handleSublayersChange(e,this._get("sublayers")),this._set("sublayers",e)}castSublayers(e){return(0,P.se)(B.Z.ofType(pe),e)}writeSublayers(e,s,n){var u;null!=(u=this.sublayers)&&u.length&&(s[n]=this.sublayers.map(p=>p.id).toArray().reverse())}readTypeIdField(e,s){let n=(s=s.layerDefinition||s).typeIdField;if(n&&s.fields){n=n.toLowerCase();const u=s.fields.find(p=>p.name.toLowerCase()===n);u&&(n=u.name)}return n}get url(){var u,p;const e=null!=(p=null==(u=this.layer)?void 0:u.parsedUrl)?p:this._lastParsedUrl,s=this.source;if(!e)return null;if(this._lastParsedUrl=e,"map-layer"===(null==s?void 0:s.type))return`${e.path}/${s.mapLayerId}`;const n={layer:JSON.stringify({source:this.source})};return`${e.path}/dynamicLayer?${(0,ee.B7)(n)}`}set url(e){this._overrideIfSome("url",e)}set visible(e){this._setAndNotifyLayer("visible",e)}writeVisible(e,s,n,u){s[n]=this.getAtOrigin("defaultVisibility","service")||e}clone(){const{store:e}=(0,X.vw)(this),s=new pe;return(0,X.vw)(s).store=e.clone(le),this.commitProperty("url"),s._lastParsedUrl=this._lastParsedUrl,s}createPopupTemplate(e){return(0,de.eZ)(this,e)}createQuery(){return new re.Z({returnGeometry:!0,where:this.definitionExpression||"1=1"})}createFeatureLayer(){var e=this;return(0,b.Z)(function*(){var p;if(e.hasOwnProperty("sublayers"))return null;const{layer:s}=e,n=null==s?void 0:s.parsedUrl,u=new((yield Promise.resolve().then(t.bind(t,80415))).default)({url:null==n?void 0:n.path});return n&&e.source&&("map-layer"===e.source.type?u.layerId=e.source.mapLayerId:u.dynamicDataSource=e.source),null!=(null==s?void 0:s.refreshInterval)&&(u.refreshInterval=s.refreshInterval),e.definitionExpression&&(u.definitionExpression=e.definitionExpression),e.floorInfo&&(u.floorInfo=(0,_.d9)(e.floorInfo)),e.originIdOf("labelingInfo")>v.s3.SERVICE&&(u.labelingInfo=(0,_.d9)(e.labelingInfo)),e.originIdOf("labelsVisible")>v.s3.DEFAULTS&&(u.labelsVisible=e.labelsVisible),e.originIdOf("legendEnabled")>v.s3.DEFAULTS&&(u.legendEnabled=e.legendEnabled),e.originIdOf("visible")>v.s3.DEFAULTS&&(u.visible=e.visible),e.originIdOf("minScale")>v.s3.DEFAULTS&&(u.minScale=e.minScale),e.originIdOf("maxScale")>v.s3.DEFAULTS&&(u.maxScale=e.maxScale),e.originIdOf("opacity")>v.s3.DEFAULTS&&(u.opacity=e.opacity),e.originIdOf("popupTemplate")>v.s3.DEFAULTS&&(u.popupTemplate=(0,_.d9)(e.popupTemplate)),e.originIdOf("renderer")>v.s3.SERVICE&&(u.renderer=(0,_.d9)(e.renderer)),"data-layer"===(null==(p=e.source)?void 0:p.type)&&(u.dynamicDataSource=e.source.clone()),e.originIdOf("title")>v.s3.DEFAULTS&&(u.title=e.title),"map-image"===(null==s?void 0:s.type)&&s.originIdOf("customParameters")>v.s3.DEFAULTS&&(u.customParameters=s.customParameters),"tile"===(null==s?void 0:s.type)&&s.originIdOf("customParameters")>v.s3.DEFAULTS&&(u.customParameters=s.customParameters),u})()}getField(e){return this.fieldsIndex.get(e)}getFeatureType(e){const{typeIdField:s,types:n}=this;if(!s||!e)return null;const u=e.attributes?e.attributes[s]:void 0;if(null==u)return null;let p=null;return null==n||n.some(M=>{const{id:g}=M;return null!=g&&(g.toString()===u.toString()&&(p=M),!!p)}),p}getFieldDomain(e,s){const u=this.getFeatureType(s&&s.feature);if(u){const p=u.domains&&u.domains[e];if(p&&"inherited"!==p.type)return p}return this._getLayerDomain(e)}queryAttachments(e,s){var n=this;return(0,b.Z)(function*(){var De,Pe;yield n.load(),e=Q.Z.from(e);const u=n.capabilities;if(null==(De=null==u?void 0:u.data)||!De.supportsAttachment)throw new W.Z("queryAttachments:not-supported","this layer doesn't support attachments");const{attachmentTypes:p,objectIds:M,globalIds:g,num:H,size:k,start:be,where:me}=e;if((null==(Pe=null==u?void 0:u.operations)||!Pe.supportsQueryAttachments)&&((null==p?void 0:p.length)>0||(null==g?void 0:g.length)>0||(null==k?void 0:k.length)>0||H||be||me))throw new W.Z("queryAttachments:option-not-supported","when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",e);if(!((null==M?void 0:M.length)||(null==g?void 0:g.length)||me))throw new W.Z("queryAttachments:invalid-query","'objectIds', 'globalIds', or 'where' are required to perform attachment query",e);return n.queryTask.executeAttachmentQuery(e,s)})()}queryFeatures(e=this.createQuery(),s){var n=this;return(0,b.Z)(function*(){var p,M;if(yield n.load(),!n.capabilities.operations.supportsQuery)throw new W.Z("queryFeatures:not-supported","this layer doesn't support queries.");if(!n.url)throw new W.Z("queryFeatures:not-supported","this layer has no url.");const u=yield n.queryTask.execute(e,ve(se({},s),{query:ve(se({},null==(p=n.layer)?void 0:p.customParameters),{token:null==(M=n.layer)?void 0:M.apiKey})}));if(null!=u&&u.features)for(const g of u.features)g.sourceLayer=n;return u})()}toExportImageJSON(e){var M;const s={id:this.id,source:(null==(M=this.source)?void 0:M.toJSON())||{mapLayerId:this.id,type:"mapLayer"}},n=(0,Z._)(e,this.definitionExpression);(0,j.pC)(n)&&(s.definitionExpression=n);const u=["renderer","labelingInfo","opacity","labelsVisible"].reduce((g,H)=>(g[H]=this.originIdOf(H),g),{});if(Object.keys(u).some(g=>u[g]>v.s3.SERVICE)){const g=s.drawingInfo={};if(u.renderer>v.s3.SERVICE&&(g.renderer=this.renderer?this.renderer.toJSON():null),u.labelsVisible>v.s3.SERVICE&&(g.showLabels=this.labelsVisible),this.labelsVisible&&u.labelingInfo>v.s3.SERVICE){!this.loaded&&this.labelingInfo.some(k=>!k.labelPlacement)&&E.Z.getLogger(this.declaredClass).warnOnce(`A Sublayer (title: ${this.title}, id: ${this.id}) has an undefined 'labelPlacement' and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type.`,{sublayer:this});let H=this.labelingInfo;(0,j.pC)(this.geometryType)&&(H=(0,r.a)(this.labelingInfo,fe.M.toJSON(this.geometryType))),g.labelingInfo=H.filter(k=>k.labelPlacement).map(k=>k.toJSON({origin:"service",layer:this.layer})),g.showLabels=!0}u.opacity>v.s3.SERVICE&&(g.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(g.renderer)}return s}_assignDefaultSymbolColors(e){this._forEachSimpleMarkerSymbols(e,s=>{s.color||"esriSMSX"!==s.style&&"esriSMSCross"!==s.style||(s.color=s.outline&&s.outline.color?s.outline.color:[0,0,0,0])})}_forEachSimpleMarkerSymbols(e,s){var n;if(e){const u=null!=(n="uniqueValueInfos"in e?e.uniqueValueInfos:"classBreakInfos"in e?e.classBreakInfos:null)?n:[];for(const p of u)_e(p.symbol)&&s(p.symbol);"symbol"in e&&_e(e.symbol)&&s(e.symbol),"defaultSymbol"in e&&_e(e.defaultSymbol)&&s(e.defaultSymbol)}}_setAndNotifyLayer(e,s){var H,k,be,me;const n=this.layer,u=this._get(e);let p,M;switch(e){case"definitionExpression":case"floorInfo":p="supportsSublayerDefinitionExpression";break;case"minScale":case"maxScale":case"visible":p="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":p="supportsDynamicLayers",M="supportsModification"}const g=(0,X.vw)(this).getDefaultOrigin();if("service"!==g){if(p&&!1===(null==(be=null==(k=null==(H=this.layer)?void 0:H.capabilities)?void 0:k.exportMap)?void 0:be[p]))return void this._logLockedError(e,`capability not available 'layer.capabilities.exportMap.${p}'`);if(M&&!1===(null==(me=this.capabilities)?void 0:me.exportMap[M]))return void this._logLockedError(e,`capability not available 'capabilities.exportMap.${M}'`)}"source"!==e||"not-loaded"===this.loadStatus?(this._set(e,s),"service"!==g&&u!==s&&n&&n.emit&&n.emit("sublayer-update",{propertyName:e,target:this})):this._logLockedError(e,"'source' can't be changed after calling sublayer.load()")}_handleSublayersChange(e,s){s&&(s.forEach(n=>{n.parent=null,n.layer=null}),this.handles.removeAll()),e&&(e.forEach(n=>{n.parent=this,n.layer=this.layer}),this.handles.add([e.on("after-add",({item:n})=>{n.parent=this,n.layer=this.layer}),e.on("after-remove",({item:n})=>{n.parent=null,n.layer=null}),e.on("before-changes",n=>{var p,M,g;const u=null==(g=null==(M=null==(p=this.layer)?void 0:p.capabilities)?void 0:M.exportMap)?void 0:g.supportsSublayersChanges;null==u||u||(E.Z.getLogger(this.declaredClass).error(new W.Z("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:this,layer:this.layer})),n.preventDefault())})]))}_logLockedError(e,s){const{layer:n,declaredClass:u}=this;E.Z.getLogger(u).error(new W.Z("sublayer:locked",`Property '${String(e)}' can't be changed on Sublayer from the layer '${null==n?void 0:n.id}'`,{reason:s,sublayer:this,layer:n}))}_getLayerDomain(e){const s=this.fieldsIndex.get(e);return s?s.domain:null}};c.test={isMapImageLayerOverridePolicy:e=>e===Y||e===he,isTileImageLayerOverridePolicy:e=>e===Ee},(0,y._)([(0,m.Cb)({readOnly:!0})],c.prototype,"capabilities",void 0),(0,y._)([(0,U.r)("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],c.prototype,"readCapabilities",null),(0,y._)([(0,m.Cb)()],c.prototype,"defaultPopupTemplate",null),(0,y._)([(0,m.Cb)({type:String,value:null,json:{name:"layerDefinition.definitionExpression",write:{allowNull:!0,overridePolicy:he}}})],c.prototype,"definitionExpression",null),(0,y._)([(0,m.Cb)({type:[G.Z],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],c.prototype,"fields",void 0),(0,y._)([(0,m.Cb)({readOnly:!0})],c.prototype,"fieldsIndex",null),(0,y._)([(0,m.Cb)({type:i.Z,value:null,json:{name:"layerDefinition.floorInfo",read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo",overridePolicy:he},origins:{"web-scene":{read:!1,write:!1}}}})],c.prototype,"floorInfo",null),(0,y._)([(0,m.Cb)({type:ye.Z,json:{read:{source:"layerDefinition.extent"}}})],c.prototype,"fullExtent",void 0),(0,y._)([(0,m.Cb)({type:fe.M.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",read:{reader:fe.M.read}}}}})],c.prototype,"geometryType",void 0),(0,y._)([(0,m.Cb)({type:String})],c.prototype,"globalIdField",void 0),(0,y._)([(0,U.r)("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],c.prototype,"readGlobalIdFieldFromService",null),(0,y._)([(0,m.Cb)({type:P.z8,json:{write:{ignoreOrigin:!0}}})],c.prototype,"id",null),(0,y._)([(0,m.Cb)({value:null,type:[l.Z],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:Y}}})],c.prototype,"labelingInfo",null),(0,y._)([(0,w.c)("labelingInfo")],c.prototype,"writeLabelingInfo",null),(0,y._)([(0,m.Cb)({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:Y}}})],c.prototype,"labelsVisible",null),(0,y._)([(0,m.Cb)({value:null})],c.prototype,"layer",null),(0,y._)([(0,m.Cb)({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:ge}}})],c.prototype,"legendEnabled",void 0),(0,y._)([(0,m.Cb)({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],c.prototype,"listMode",null),(0,y._)([(0,m.Cb)({type:Number,value:0,json:{write:{overridePolicy:Y}}})],c.prototype,"minScale",null),(0,y._)([(0,U.r)("minScale",["minScale","layerDefinition.minScale"])],c.prototype,"readMinScale",null),(0,y._)([(0,m.Cb)({type:Number,value:0,json:{write:{overridePolicy:Y}}})],c.prototype,"maxScale",null),(0,y._)([(0,U.r)("maxScale",["maxScale","layerDefinition.maxScale"])],c.prototype,"readMaxScale",null),(0,y._)([(0,m.Cb)({readOnly:!0})],c.prototype,"effectiveScaleRange",null),(0,y._)([(0,m.Cb)({type:String})],c.prototype,"objectIdField",void 0),(0,y._)([(0,U.r)("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],c.prototype,"readObjectIdFieldFromService",null),(0,y._)([(0,m.Cb)({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:Y}}})],c.prototype,"opacity",null),(0,y._)([(0,U.r)("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],c.prototype,"readOpacity",null),(0,y._)([(0,w.c)("opacity")],c.prototype,"writeOpacity",null),(0,y._)([(0,m.Cb)({json:{type:P.z8,write:{target:"parentLayerId",writerEnsuresNonNull:!0,overridePolicy:Y}}})],c.prototype,"parent",void 0),(0,y._)([(0,w.c)("parent")],c.prototype,"writeParent",null),(0,y._)([(0,m.Cb)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(e,s)=>!s.disablePopup},write:{target:"disablePopup",overridePolicy:ge,writer(e,s,n){s[n]=!e}}}})],c.prototype,"popupEnabled",void 0),(0,y._)([(0,m.Cb)({type:J.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:ge}}})],c.prototype,"popupTemplate",void 0),(0,y._)([(0,m.Cb)({readOnly:!0})],c.prototype,"queryTask",null),(0,y._)([(0,m.Cb)({types:q.A,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:Y},origins:{"web-scene":{types:q.o,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:Y}}}}})],c.prototype,"renderer",null),(0,y._)([(0,m.Cb)({types:{key:"type",base:null,typeMap:{"data-layer":h.n,"map-layer":K.R}},cast(e){if(e){if("mapLayerId"in e)return(0,P.TJ)(K.R,e);if("dataSource"in e)return(0,P.TJ)(h.n,e)}return e},json:{name:"layerDefinition.source",write:{overridePolicy:Y}}})],c.prototype,"source",null),(0,y._)([(0,m.Cb)()],c.prototype,"sourceJSON",void 0),(0,y._)([(0,m.Cb)({value:null,json:{type:[P.z8],write:{target:"subLayerIds",allowNull:!0,overridePolicy:Y}}})],c.prototype,"sublayers",null),(0,y._)([(0,te.p)("sublayers")],c.prototype,"castSublayers",null),(0,y._)([(0,w.c)("sublayers")],c.prototype,"writeSublayers",null),(0,y._)([(0,m.Cb)({type:String,json:{name:"name",write:{overridePolicy:ge}}})],c.prototype,"title",void 0),(0,y._)([(0,m.Cb)({type:String})],c.prototype,"typeIdField",void 0),(0,y._)([(0,U.r)("typeIdField",["layerDefinition.typeIdField"])],c.prototype,"readTypeIdField",null),(0,y._)([(0,m.Cb)({type:[ce.Z],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],c.prototype,"types",void 0),(0,y._)([(0,m.Cb)({type:String,json:{read:{source:"layerUrl"},write:{target:"layerUrl",overridePolicy:Ee}}})],c.prototype,"url",null),(0,y._)([(0,m.Cb)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:Y}}})],c.prototype,"visible",null),(0,y._)([(0,w.c)("visible")],c.prototype,"writeVisible",null),c=pe=(0,y._)([(0,ie.j)("esri.layers.support.Sublayer")],c);const Ce=c},13410:(V,x,t)=>{t.d(x,{FN:()=>J,QV:()=>$,ac:()=>T});var b=t(62208),y=t(31283);function $(f,F,O){return F.flatten(({sublayers:C})=>C).length!==f.length||!!f.some(C=>C.originIdOf("minScale")>O||C.originIdOf("maxScale")>O||C.originIdOf("renderer")>O||C.originIdOf("labelingInfo")>O||C.originIdOf("opacity")>O||C.originIdOf("labelsVisible")>O||C.originIdOf("source")>O)||!z(f,F)}function J(f,F,O){return!!f.some(R=>{const C=R.source;return!(!C||"map-layer"===C.type&&C.mapLayerId===R.id&&((0,b.Wi)(C.gdbVersion)||C.gdbVersion===O))||R.originIdOf("renderer")>y.s3.SERVICE||R.originIdOf("labelingInfo")>y.s3.SERVICE||R.originIdOf("opacity")>y.s3.SERVICE||R.originIdOf("labelsVisible")>y.s3.SERVICE})||!z(f,F)}function z(f,F){if(!f||!f.length||(0,b.Wi)(F))return!0;const O=F.slice().reverse().flatten(({sublayers:S})=>S&&S.toArray().reverse()).map(S=>S.id).toArray();if(f.length>O.length)return!1;let R=0;const C=O.length;for(const{id:S}of f){for(;R<C&&O[R]!==S;)R++;if(R>=C)return!1}return!0}function T(f){return!!f&&f.some(F=>null!=F.minScale||F.layerDefinition&&null!=F.layerDefinition.minScale)}},90463:(V,x,t)=>{t.d(x,{P:()=>z});var b=t(15861),y=t(2618),$=t(20477),J=t(96854);function z(f,F,O){return T.apply(this,arguments)}function T(){return(T=(0,b.Z)(function*(f,F,O){const R=(0,y.en)(f);return(0,$.hH)(R,J.Z.from(F),se({},O)).then(C=>C.data.count)})).apply(this,arguments)}},24865:(V,x,t)=>{t.d(x,{G:()=>z});var b=t(15861),y=t(2618),$=t(20477),J=t(96854);function z(f,F,O){return T.apply(this,arguments)}function T(){return(T=(0,b.Z)(function*(f,F,O){const R=(0,y.en)(f);return(0,$.Ev)(R,J.Z.from(F),se({},O)).then(C=>C.data.objectIds)})).apply(this,arguments)}}}]);