"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[6886],{26886:(f,u,e)=>{e.r(u),e.d(u,{default:()=>m});var a=e(15861),r=e(17626),g=e(59213),D=e(26584),n=e(62208),c=e(10699),E=e(32917),v=e(77712),y=e(76898),M=e(19702),P=e(46160);e(90912),e(85931);const i=d=>{let o=class extends d{constructor(...l){super(...l),this.layer=null}get interactive(){return!!(0,n.pC)(this.analysisView)&&this.analysisView.interactive}set interactive(l){(0,n.pC)(this.analysisView)&&(this.analysisView.interactive=l)}get results(){return(0,n.pC)(this.analysisView)?this.analysisView.results:new P.Z}get selectedDimension(){return(0,n.pC)(this.analysisView)?this.analysisView.selectedDimension:null}set selectedDimension(l){(0,n.pC)(this.analysisView)&&(this.analysisView.selectedDimension=l)}createLengthDimensions(l){var _=this;return(0,a.Z)(function*(){if(!(0,n.pC)(_.analysisView))throw(0,c.zE)();yield _.analysisView.createLengthDimensions(l)})()}};return(0,r._)([(0,v.Cb)()],o.prototype,"layer",void 0),(0,r._)([(0,v.Cb)()],o.prototype,"interactive",null),(0,r._)([(0,v.Cb)({readOnly:!0})],o.prototype,"results",null),(0,r._)([(0,v.Cb)()],o.prototype,"selectedDimension",null),(0,r._)([(0,v.Cb)()],o.prototype,"analysisView",void 0),o=(0,r._)([(0,y.j)("esri.views.layers.DimensionLayerView")],o),o};var s=e(45611);const p="analysis-view-handles";let h=class extends((0,M.A)(i(s.Z))){constructor(d){super(d),this.type="dimension-3d",this._analysisModule=null}initialize(){this.handles.add((0,E.YP)(()=>this.layer.source,d=>{this._destroyAnalysisView(),(0,n.pC)(d)&&this._createAnalysisView(d)},E.tX),p)}destroy(){this.handles.remove(p),this._destroyAnalysisView()}isUpdating(){return(0,n.pC)(this._createAnalysisViewTask)||(0,n.pC)(this.analysisView)&&this.analysisView.updating}whenAnalysisView(){var d=this;return(0,a.Z)(function*(){if((0,n.pC)(d.analysisView))return d.analysisView;if((0,n.pC)(d._createAnalysisViewTask))return d._createAnalysisViewTask.promise;throw new D.Z("layerview:no-analysisview-for-analysis","The analysis has not been set on the DimensionLayer of this layer view")})()}_createAnalysisView(d){var o=this;const l=(0,g.vr)(function(){var _=(0,a.Z)(function*(C){return o.analysisView=yield o._createAnalysisViewPromise(d,C),o._createAnalysisViewTask===l&&(o._createAnalysisViewTask=null),o.analysisView});return function(C){return _.apply(this,arguments)}}());this.addResolvingPromise(l.promise),this._createAnalysisViewTask=l}_destroyAnalysisView(){this.analysisView=(0,n.SC)(this.analysisView),this._createAnalysisViewTask=(0,n.IM)(this._createAnalysisViewTask)}_createAnalysisViewPromise(d,o){var l=this;return(0,a.Z)(function*(){let _=l._analysisModule;if((0,n.Wi)(_)){const V=yield l._loadAnalysisModule();l._analysisModule=V,_=V}const C=new _.default({analysis:d,view:l.view,parent:l});if(yield C.when(),(0,c.Hc)(o))throw C.destroy(),(0,c.zE)();return C})()}_loadAnalysisModule(){return Promise.all([e.e(2540),e.e(3792),e.e(1830),e.e(8118),e.e(8592),e.e(980)]).then(e.bind(e,980))}};(0,r._)([(0,v.Cb)()],h.prototype,"type",void 0),(0,r._)([(0,v.Cb)()],h.prototype,"analysisView",void 0),(0,r._)([(0,v.Cb)()],h.prototype,"_createAnalysisViewTask",void 0),h=(0,r._)([(0,y.j)("esri.views.3d.layers.DimensionLayerView3D")],h);const m=h},19702:(f,u,e)=>{e.d(u,{A:()=>P});var a=e(15861),r=e(17626),g=e(54024),D=e(10699),n=e(32917),c=e(77712),y=(e(90912),e(85931),e(76898)),M=e(36947);const P=O=>{let t=class extends O{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(i){super.postscript(i),(0,M.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}_validateHeightModelInfo(){var i=this;return(0,a.Z)(function*(){const s=new AbortController,p=s.signal;i.handles.add((0,g.kB)(()=>s.abort())),yield(0,n.N1)(()=>{var m;return null==(m=i.view.defaultsFromMap)?void 0:m.heightModelInfoReady},p),(0,D.k_)(p);const h=(0,M.Wt)(i.layer,i.view.heightModelInfo,i.supportsHeightUnitConversion);if(h)throw h})()}canResume(){const i=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!i||!i.minScale||!i.maxScale||i.minScale>=i.maxScale)}getSuspendInfo(){const i=super.getSuspendInfo(),s=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(i.outsideScaleRange=!0),i}};return(0,r._)([(0,c.Cb)()],t.prototype,"view",void 0),(0,r._)([(0,c.Cb)()],t.prototype,"slicePlaneEnabled",void 0),t=(0,r._)([(0,y.j)("esri.views.3d.layers.LayerView3D")],t),t}},45611:(f,u,e)=>{e.d(u,{Z:()=>i});var a=e(17626),r=e(14517),g=e(61885),D=e(80542),n=e(61996),c=e(63290),E=e(62208),v=e(60330),y=e(77712),O=(e(90912),e(85931),e(76898));let t=class extends((0,D.p)((0,n.IG)((0,v.v)(g.Z.EventedMixin(r.Z))))){constructor(s){super(s),this.layer=null,this.parent=null}initialize(){this.when().catch(s=>{if("layerview:create-error"!==s.name){const p=this.layer&&this.layer.id||"no id",h=this.layer&&this.layer.title||"no title";c.Z.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${h}', id: '${p}')`,s)}})}get fullOpacity(){return(0,E.Pt)(this.get("layer.opacity"),1)*(0,E.Pt)(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var s;return!this.suspended&&!0===(null==(s=this.layer)?void 0:s.legendEnabled)}get updating(){var s;return!!(null!=(s=this.updatingHandles)&&s.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var s;return!0===(null==(s=this.layer)?void 0:s.visible)}set visible(s){this._overrideIfSome("visible",s)}canResume(){var s,p,h;return this.visible&&(null==(s=this.layer)?void 0:s.loaded)&&!(null!=(p=this.parent)&&p.suspended)&&(null==(h=this.view)?void 0:h.ready)||!1}getSuspendInfo(){const s=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(s.viewNotReady=!0),this.layer&&this.layer.loaded||(s.layerNotLoaded=!0),this.visible||(s.layerInvisible=!0),s}isUpdating(){return!1}};(0,a._)([(0,y.Cb)()],t.prototype,"fullOpacity",null),(0,a._)([(0,y.Cb)()],t.prototype,"layer",void 0),(0,a._)([(0,y.Cb)()],t.prototype,"parent",void 0),(0,a._)([(0,y.Cb)({readOnly:!0})],t.prototype,"suspended",null),(0,a._)([(0,y.Cb)({readOnly:!0})],t.prototype,"suspendInfo",null),(0,a._)([(0,y.Cb)({readOnly:!0})],t.prototype,"legendEnabled",null),(0,a._)([(0,y.Cb)({type:Boolean,readOnly:!0})],t.prototype,"updating",null),(0,a._)([(0,y.Cb)({readOnly:!0})],t.prototype,"updatingProgress",null),(0,a._)([(0,y.Cb)()],t.prototype,"visible",null),(0,a._)([(0,y.Cb)()],t.prototype,"view",void 0),t=(0,a._)([(0,O.j)("esri.views.layers.LayerView")],t);const i=t}}]);