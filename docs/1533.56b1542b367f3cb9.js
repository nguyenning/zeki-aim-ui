"use strict";var Xe=Object.defineProperty,$e=Object.defineProperties,Qe=Object.getOwnPropertyDescriptors,Ye=Object.getOwnPropertySymbols,qe=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable,He=(Se,Ae,te)=>Ae in Se?Xe(Se,Ae,{enumerable:!0,configurable:!0,writable:!0,value:te}):Se[Ae]=te,Re=(Se,Ae)=>{for(var te in Ae||(Ae={}))qe.call(Ae,te)&&He(Se,te,Ae[te]);if(Ye)for(var te of Ye(Ae))et.call(Ae,te)&&He(Se,te,Ae[te]);return Se},Le=(Se,Ae)=>$e(Se,Qe(Ae));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[1533],{89890:(Se,Ae,te)=>{te.d(Ae,{J:()=>we});var ne,Te,de,we={};ne={get exports(){return we},set exports(de){we=de}},void 0!==(de=function(){function ie(R){this.message="JPEG error: "+R}return(ie.prototype=new Error).name="JpegError",ie.constructor=ie,ie}(),Te=function(){if(!self||!self.Uint8ClampedArray)return null;var ie=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),R=4017,H=2276,q=3784,se=5793,Q=2896;function K(){this.decodeTransform=null,this.colorTransform=-1}function ue(I,u){for(var T,b,c=0,p=[],x=16;x>0&&!I[x-1];)x--;p.push({children:[],index:0});var F,D=p[0];for(T=0;T<x;T++){for(b=0;b<I[T];b++){for((D=p.pop()).children[D.index]=u[c];D.index>0;)D=p.pop();for(D.index++,p.push(D);p.length<=T;)p.push(F={children:[],index:0}),D.children[D.index]=F.children,D=F;c++}T+1<x&&(p.push(F={children:[],index:0}),D.children[D.index]=F.children,D=F)}return p[0].children}function J(I,u,T){return 64*((I.blocksPerLine+1)*u+T)}function Z(I,u,T,b,c,p,x,F,D){var v=T.mcusPerLine,U=u,B=0,N=0;function O(){if(N>0)return N--,B>>N&1;if(255===(B=I[u++])){var Y=I[u++];if(Y)throw new de("unexpected marker "+(B<<8|Y).toString(16))}return N=7,B>>>7}function f(Y){for(var $=Y;;){if("number"==typeof($=$[O()]))return $;if("object"!=typeof $)throw new de("invalid huffman sequence")}}function C(Y){for(var $=0;Y>0;)$=$<<1|O(),Y--;return $}function d(Y){if(1===Y)return 1===O()?1:-1;var $=C(Y);return $>=1<<Y-1?$:$+(-1<<Y)+1}var k,_=0,L=0;function y(Y,$,ce,Ce,ye){$(Y,J(Y,(ce/v|0)*Y.v+Ce,ce%v*Y.h+ye))}var m,P,M,S,G,W,z=b.length;W=T.progressive?0===p?0===F?function h(Y,$){var ce=f(Y.huffmanTableDC),Ce=0===ce?0:d(ce)<<D;Y.blockData[$]=Y.pred+=Ce}:function t(Y,$){Y.blockData[$]|=O()<<D}:0===F?function w(Y,$){if(_>0)_--;else for(var ce=p,Ce=x;ce<=Ce;){var ye=f(Y.huffmanTableAC),be=15&ye,_e=ye>>4;if(0!==be){var ve=ie[ce+=_e];Y.blockData[$+ve]=d(be)*(1<<D),ce++}else{if(_e<15){_=C(_e)+(1<<_e)-1;break}ce+=16}}}:function i(Y,$){for(var ce,Ce,ye=p,be=x,_e=0;ye<=be;){var ve=ie[ye];switch(L){case 0:if(_e=(Ce=f(Y.huffmanTableAC))>>4,0==(ce=15&Ce))_e<15?(_=C(_e)+(1<<_e),L=4):(_e=16,L=1);else{if(1!==ce)throw new de("invalid ACn encoding");k=d(ce),L=_e?2:3}continue;case 1:case 2:Y.blockData[$+ve]?Y.blockData[$+ve]+=O()<<D:0==--_e&&(L=2===L?3:0);break;case 3:Y.blockData[$+ve]?Y.blockData[$+ve]+=O()<<D:(Y.blockData[$+ve]=k<<D,L=0);break;case 4:Y.blockData[$+ve]&&(Y.blockData[$+ve]+=O()<<D)}ye++}4===L&&0==--_&&(L=0)}:function s(Y,$){var ce=f(Y.huffmanTableDC),Ce=0===ce?0:d(ce);Y.blockData[$]=Y.pred+=Ce;for(var ye=1;ye<64;){var be=f(Y.huffmanTableAC),_e=15&be,ve=be>>4;if(0!==_e){var Ee=ie[ye+=ve];Y.blockData[$+Ee]=d(_e),ye++}else{if(ve<15)break;ye+=16}}};var V,re,he,ee,Y,ce,oe=0;for(re=1===z?b[0].blocksPerLine*b[0].blocksPerColumn:v*T.mcusPerColumn;oe<re;){var le=c?Math.min(re-oe,c):re;for(P=0;P<z;P++)b[P].pred=0;if(_=0,1===z)for(m=b[0],G=0;G<le;G++)W(Y=m,J(Y,(ce=oe)/Y.blocksPerLine|0,ce%Y.blocksPerLine)),oe++;else for(G=0;G<le;G++){for(P=0;P<z;P++)for(he=(m=b[P]).h,ee=m.v,M=0;M<ee;M++)for(S=0;S<he;S++)y(m,W,oe,M,S);oe++}N=0,(V=j(I,u))&&V.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+V.invalid),u=V.offset);var pe=V&&V.marker;if(!pe||pe<=65280)throw new de("marker was not found");if(!(pe>=65488&&pe<=65495))break;u+=2}return(V=j(I,u))&&V.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+V.invalid),u=V.offset),u-U}function X(I,u,T){var b,c,p,x,F,D,v,A,U,B,N,O,f,C,d,s,h,t=I.quantizationTable,_=I.blockData;if(!t)throw new de("missing required Quantization Table.");for(var w=0;w<64;w+=8)U=_[u+w],U*=t[w],0!=((B=_[u+w+1])|(N=_[u+w+2])|(O=_[u+w+3])|(f=_[u+w+4])|(C=_[u+w+5])|(d=_[u+w+6])|(s=_[u+w+7]))?(c=(b=(b=se*U+128>>8)+(c=se*(f*=t[w+4])+128>>8)+1>>1)-c,h=(p=N*=t[w+2])*q+1567*(x=d*=t[w+6])+128>>8,p=1567*p-x*q+128>>8,v=(F=(F=Q*((B*=t[w+1])-(s*=t[w+7]))+128>>8)+(v=(C*=t[w+5])<<4)+1>>1)-v,D=(A=(A=Q*(B+s)+128>>8)+(D=(O*=t[w+3])<<4)+1>>1)-D,x=(b=b+(x=h)+1>>1)-x,p=(c=c+p+1>>1)-p,h=F*H+3406*A+2048>>12,F=3406*F-A*H+2048>>12,A=h,h=799*D+v*R+2048>>12,D=D*R-799*v+2048>>12,v=h,T[w]=b+A,T[w+7]=b-A,T[w+1]=c+v,T[w+6]=c-v,T[w+2]=p+D,T[w+5]=p-D,T[w+3]=x+F,T[w+4]=x-F):(T[w]=h=se*U+512>>10,T[w+1]=h,T[w+2]=h,T[w+3]=h,T[w+4]=h,T[w+5]=h,T[w+6]=h,T[w+7]=h);for(var k=0;k<8;++k)U=T[k],0!=((B=T[k+8])|(N=T[k+16])|(O=T[k+24])|(f=T[k+32])|(C=T[k+40])|(d=T[k+48])|(s=T[k+56]))?(c=(b=4112+((b=se*U+2048>>12)+(c=se*f+2048>>12)+1>>1))-c,h=(p=N)*q+1567*(x=d)+2048>>12,p=1567*p-x*q+2048>>12,x=h,v=(F=(F=Q*(B-s)+2048>>12)+(v=C)+1>>1)-v,D=(A=(A=Q*(B+s)+2048>>12)+(D=O)+1>>1)-D,h=F*H+3406*A+2048>>12,F=3406*F-A*H+2048>>12,A=h,h=799*D+v*R+2048>>12,D=D*R-799*v+2048>>12,U=(U=(b=b+x+1>>1)+A)<16?0:U>=4080?255:U>>4,B=(B=(c=c+p+1>>1)+(v=h))<16?0:B>=4080?255:B>>4,N=(N=(p=c-p)+D)<16?0:N>=4080?255:N>>4,O=(O=(x=b-x)+F)<16?0:O>=4080?255:O>>4,f=(f=x-F)<16?0:f>=4080?255:f>>4,C=(C=p-D)<16?0:C>=4080?255:C>>4,d=(d=c-v)<16?0:d>=4080?255:d>>4,s=(s=b-A)<16?0:s>=4080?255:s>>4,_[u+k]=U,_[u+k+8]=B,_[u+k+16]=N,_[u+k+24]=O,_[u+k+32]=f,_[u+k+40]=C,_[u+k+48]=d,_[u+k+56]=s):(h=(h=se*U+8192>>14)<-2040?0:h>=2024?255:h+2056>>4,_[u+k]=h,_[u+k+8]=h,_[u+k+16]=h,_[u+k+24]=h,_[u+k+32]=h,_[u+k+40]=h,_[u+k+48]=h,_[u+k+56]=h)}function E(I,u){for(var T=u.blocksPerLine,b=u.blocksPerColumn,c=new Int16Array(64),p=0;p<b;p++)for(var x=0;x<T;x++)X(u,J(u,p,x),c);return u.blockData}function j(I,u,T){function b(D){return I[D]<<8|I[D+1]}var c=I.length-1,p=T<u?T:u;if(u>=c)return null;var x=b(u);if(x>=65472&&x<=65534)return{invalid:null,marker:x,offset:u};for(var F=b(p);!(F>=65472&&F<=65534);){if(++p>=c)return null;F=b(p)}return{invalid:x.toString(16),marker:F,offset:p}}return K.prototype={parse:function(I){function u(){var Y=I[x]<<8|I[x+1];return x+=2,Y}function T(){var Y=u(),$=x+Y-2,ce=j(I,$,x);ce&&ce.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+ce.invalid),$=ce.offset);var Ce=I.subarray(x,$);return x+=Ce.length,Ce}function b(Y){for(var $=Math.ceil(Y.samplesPerLine/8/Y.maxH),ce=Math.ceil(Y.scanLines/8/Y.maxV),Ce=0;Ce<Y.components.length;Ce++){G=Y.components[Ce];var ye=Math.ceil(Math.ceil(Y.samplesPerLine/8)*G.h/Y.maxH),be=Math.ceil(Math.ceil(Y.scanLines/8)*G.v/Y.maxV);G.blockData=new Int16Array(ce*G.v*64*($*G.h+1)),G.blocksPerLine=ye,G.blocksPerColumn=be}Y.mcusPerLine=$,Y.mcusPerColumn=ce}var c,p,x=0,F=null,D=null,v=[],A=[],U=[],B=u();if(65496!==B)throw new de("SOI not found");for(B=u();65497!==B;){var N,O,f;switch(B){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var C=T();65504===B&&74===C[0]&&70===C[1]&&73===C[2]&&70===C[3]&&0===C[4]&&(F={version:{major:C[5],minor:C[6]},densityUnits:C[7],xDensity:C[8]<<8|C[9],yDensity:C[10]<<8|C[11],thumbWidth:C[12],thumbHeight:C[13],thumbData:C.subarray(14,14+3*C[12]*C[13])}),65518===B&&65===C[0]&&100===C[1]&&111===C[2]&&98===C[3]&&101===C[4]&&(D={version:C[5]<<8|C[6],flags0:C[7]<<8|C[8],flags1:C[9]<<8|C[10],transformCode:C[11]});break;case 65499:for(var d=u()+x-2;x<d;){var s=I[x++],h=new Uint16Array(64);if(s>>4==0)for(O=0;O<64;O++)h[ie[O]]=I[x++];else{if(s>>4!=1)throw new de("DQT - invalid table spec");for(O=0;O<64;O++)h[ie[O]]=u()}v[15&s]=h}break;case 65472:case 65473:case 65474:if(c)throw new de("Only single frame JPEGs supported");u(),(c={}).extended=65473===B,c.progressive=65474===B,c.precision=I[x++],c.scanLines=u(),c.samplesPerLine=u(),c.components=[],c.componentIds={};var t,_=I[x++],w=0,k=0;for(N=0;N<_;N++){t=I[x];var L=I[x+1]>>4,i=15&I[x+1];w<L&&(w=L),k<i&&(k=i),f=c.components.push({h:L,v:i,quantizationId:I[x+2],quantizationTable:null}),c.componentIds[t]=f-1,x+=3}c.maxH=w,c.maxV=k,b(c);break;case 65476:var g=u();for(N=2;N<g;){var m=I[x++],P=new Uint8Array(16),M=0;for(O=0;O<16;O++,x++)M+=P[O]=I[x];var S=new Uint8Array(M);for(O=0;O<M;O++,x++)S[O]=I[x];N+=17+M,(m>>4==0?U:A)[15&m]=ue(P,S)}break;case 65501:u(),p=u();break;case 65498:u();var G,W=I[x++],z=[];for(N=0;N<W;N++){var V=c.componentIds[I[x++]],re=I[x++];(G=c.components[V]).huffmanTableDC=U[re>>4],G.huffmanTableAC=A[15&re],z.push(G)}var he=I[x++],ee=I[x++],oe=I[x++],le=Z(I,x,c,z,p,he,ee,oe>>4,15&oe);x+=le;break;case 65535:255!==I[x]&&x--;break;default:if(255===I[x-3]&&I[x-2]>=192&&I[x-2]<=254){x-=3;break}throw new de("unknown marker "+B.toString(16))}B=u()}for(this.width=c.samplesPerLine,this.height=c.scanLines,this.jfif=F,this.eof=x,this.adobe=D,this.components=[],N=0;N<c.components.length;N++){var pe=v[(G=c.components[N]).quantizationId];pe&&(G.quantizationTable=pe),this.components.push({output:E(0,G),scaleX:G.h/c.maxH,scaleY:G.v/c.maxV,blocksPerLine:G.blocksPerLine,blocksPerColumn:G.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(I,u){var T,b,c,p,x,F,D,v,A,U,B,N=this.width/I,O=this.height/u,f=0,C=this.components.length,d=I*u*C,s=new Uint8ClampedArray(d),h=new Uint32Array(I),t=4294967288;for(D=0;D<C;D++){for(b=(T=this.components[D]).scaleX*N,c=T.scaleY*O,f=D,B=T.output,p=T.blocksPerLine+1<<3,x=0;x<I;x++)h[x]=((v=0|x*b)&t)<<3|7&v;for(F=0;F<u;F++)for(U=p*((v=0|F*c)&t)|(7&v)<<3,x=0;x<I;x++)s[f]=B[U+h[x]],f+=C}var _=this.decodeTransform;if(_)for(D=0;D<d;)for(v=0,A=0;v<C;v++,D++,A+=2)s[D]=(s[D]*_[A]>>8)+_[A+1];return s},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this.colorTransform:1===this.colorTransform},_convertYccToRgb:function(I){for(var u,T,b,c=0,p=I.length;c<p;c+=3)T=I[c+1],I[c]=(u=I[c])-179.456+1.402*(b=I[c+2]),I[c+1]=u+135.459-.344*T-.714*b,I[c+2]=u-226.816+1.772*T;return I},_convertYcckToRgb:function(I){for(var u,T,b,c,p=0,x=0,F=I.length;x<F;x+=4)I[p++]=(T=I[x+1])*(-660635669420364e-19*T+.000437130475926232*(b=I[x+2])-54080610064599e-18*(u=I[x])+.00048449797120281*(c=I[x+3])-.154362151871126)-122.67195406894+b*(-.000957964378445773*b+.000817076911346625*u-.00477271405408747*c+1.53380253221734)+u*(.000961250184130688*u-.00266257332283933*c+.48357088451265)+c*(-.000336197177618394*c+.484791561490776),I[p++]=107.268039397724+T*(219927104525741e-19*T-.000640992018297945*b+.000659397001245577*u+.000426105652938837*c-.176491792462875)+b*(-.000778269941513683*b+.00130872261408275*u+.000770482631801132*c-.151051492775562)+u*(.00126935368114843*u-.00265090189010898*c+.25802910206845)+c*(-.000318913117588328*c-.213742400323665),I[p++]=T*(-.000570115196973677*T-263409051004589e-19*b+.0020741088115012*u-.00288260236853442*c+.814272968359295)-20.810012546947+b*(-153496057440975e-19*b-.000132689043961446*u+.000560833691242812*c-.195152027534049)+u*(.00174418132927582*u-.00255243321439347*c+.116935020465145)+c*(-.000343531996510555*c+.24165260232407);return I},_convertYcckToCmyk:function(I){for(var u,T,b,c=0,p=I.length;c<p;c+=4)T=I[c+1],I[c]=434.456-(u=I[c])-1.402*(b=I[c+2]),I[c+1]=119.541-u+.344*T+.714*b,I[c+2]=481.816-u-1.772*T;return I},_convertCmykToRgb:function(I){for(var u,T,b,c,p=0,x=1/255,F=0,D=I.length;F<D;F+=4)I[p++]=255+(u=I[F]*x)*(-4.387332384609988*u+54.48615194189176*(T=I[F+1]*x)+18.82290502165302*(b=I[F+2]*x)+212.25662451639585*(c=I[F+3]*x)-285.2331026137004)+T*(1.7149763477362134*T-5.6096736904047315*b-17.873870861415444*c-5.497006427196366)+b*(-2.5217340131683033*b-21.248923337353073*c+17.5119270841813)-c*(21.86122147463605*c+189.48180835922747),I[p++]=255+u*(8.841041422036149*u+60.118027045597366*T+6.871425592049007*b+31.159100130055922*c-79.2970844816548)+T*(-15.310361306967817*T+17.575251261109482*b+131.35250912493976*c-190.9453302588951)+b*(4.444339102852739*b+9.8632861493405*c-24.86741582555878)-c*(20.737325471181034*c+187.80453709719578),I[p++]=255+u*(.8842522430003296*u+8.078677503112928*T+30.89978309703729*b-.23883238689178934*c-14.183576799673286)+T*(10.49593273432072*T+63.02378494754052*b+50.606957656360734*c-112.23884253719248)+b*(.03296041114873217*b+115.60384449646641*c-193.58209356861505)-c*(22.33816807309886*c+180.12613974708367);return I},getData:function(I,u,T){if(this.numComponents>4)throw new de("Unsupported color mode");var b=this._getLinearizedBlockData(I,u);if(1===this.numComponents&&T){for(var c=b.length,p=new Uint8ClampedArray(3*c),x=0,F=0;F<c;F++){var D=b[F];p[x++]=D,p[x++]=D,p[x++]=D}return p}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(b);if(4===this.numComponents){if(this._isColorConversionNeeded())return T?this._convertYcckToRgb(b):this._convertYcckToCmyk(b);if(T)return this._convertCmykToRgb(b)}return b}},K}())&&(ne.exports=Te)},34022:(Se,Ae,te)=>{te.d(Ae,{Z:()=>we});var ne,xe,Te,we={};xe={get exports(){return we},set exports(de){we=de}},ne=function(){function de(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return de.prototype={ensureBuffer:function(ie){var R=this.buffer,fe=R?R.byteLength:0;if(ie<fe)return R;for(var me=512;me<ie;)me<<=1;for(var H=new Uint8Array(me),ae=0;ae<fe;++ae)H[ae]=R[ae];return this.buffer=H},getByte:function(){for(var ie=this.pos;this.bufferLength<=ie;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(ie){var R=this.pos;if(ie){this.ensureBuffer(R+ie);for(var fe=R+ie;!this.eof&&this.bufferLength<fe;)this.readBlock();var me=this.bufferLength;fe>me&&(fe=me)}else{for(;!this.eof;)this.readBlock();fe=this.bufferLength}return this.pos=fe,this.buffer.subarray(R,fe)},lookChar:function(){for(var ie=this.pos;this.bufferLength<=ie;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var ie=this.pos;this.bufferLength<=ie;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(ie,R,fe){for(var me=ie+R;this.bufferLength<=me&&!this.eof;)this.readBlock();return new Stream(this.buffer,ie,R,fe)},skip:function(ie){ie||(ie=1),this.pos+=ie},reset:function(){this.pos=0}},de}(),void 0!==(Te=function(){if(!self||!self.Uint32Array)return null;var de=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ie=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),R=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fe=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],me=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function H(q){throw new Error(q)}function ae(q){var se=0,Q=q[se++],K=q[se++];-1!=Q&&-1!=K||H("Invalid header in flate stream"),8!=(15&Q)&&H("Unknown compression method in flate stream"),((Q<<8)+K)%31!=0&&H("Bad FCHECK in flate stream"),32&K&&H("FDICT bit set in flate stream"),this.bytes=q,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,ne.call(this)}return(ae.prototype=Object.create(ne.prototype)).getBits=function(q){for(var se,Q=this.codeSize,K=this.codeBuf,ue=this.bytes,J=this.bytesPos;Q<q;)void 0===(se=ue[J++])&&H("Bad encoding in flate stream"),K|=se<<Q,Q+=8;return se=K&(1<<q)-1,this.codeBuf=K>>q,this.codeSize=Q-=q,this.bytesPos=J,se},ae.prototype.getCode=function(q){for(var se=q[0],Q=q[1],K=this.codeSize,ue=this.codeBuf,J=this.bytes,Z=this.bytesPos;K<Q;){var X;void 0===(X=J[Z++])&&H("Bad encoding in flate stream"),ue|=X<<K,K+=8}var E=se[ue&(1<<Q)-1],j=E>>16,I=65535&E;return(0==K||K<j||0==j)&&H("Bad encoding in flate stream"),this.codeBuf=ue>>j,this.codeSize=K-j,this.bytesPos=Z,I},ae.prototype.generateHuffmanTable=function(q){for(var se=q.length,Q=0,K=0;K<se;++K)q[K]>Q&&(Q=q[K]);for(var ue=1<<Q,J=new Uint32Array(ue),Z=1,X=0,E=2;Z<=Q;++Z,X<<=1,E<<=1)for(var j=0;j<se;++j)if(q[j]==Z){var I=0,u=X;for(K=0;K<Z;++K)I=I<<1|1&u,u>>=1;for(K=I;K<ue;K+=E)J[K]=Z<<16|j;++X}return[J,Q]},ae.prototype.readBlock=function(){function q(h,t,_,w,k){for(var L=h.getBits(_)+w;L-- >0;)t[E++]=k}var se=this.getBits(3);if(1&se&&(this.eof=!0),0!=(se>>=1)){var Q,K;if(1==se)Q=fe,K=me;else if(2==se){for(var ue=this.getBits(5)+257,J=this.getBits(5)+1,Z=this.getBits(4)+4,X=Array(de.length),E=0;E<Z;)X[de[E++]]=this.getBits(3);for(var j=this.generateHuffmanTable(X),I=0,u=(E=0,ue+J),T=new Array(u);E<u;){var b=this.getCode(j);16==b?q(this,T,2,3,I):17==b?q(this,T,3,3,I=0):18==b?q(this,T,7,11,I=0):T[E++]=I=b}Q=this.generateHuffmanTable(T.slice(0,ue)),K=this.generateHuffmanTable(T.slice(ue,u))}else H("Unknown block type in flate stream");for(var c=(C=this.buffer)?C.length:0,p=this.bufferLength;;){var x=this.getCode(Q);if(x<256)p+1>=c&&(c=(C=this.ensureBuffer(p+1)).length),C[p++]=x;else{if(256==x)return void(this.bufferLength=p);var F=(x=ie[x-=257])>>16;F>0&&(F=this.getBits(F)),I=(65535&x)+F,x=this.getCode(K),(F=(x=R[x])>>16)>0&&(F=this.getBits(F));var D=(65535&x)+F;p+I>=c&&(c=(C=this.ensureBuffer(p+I)).length);for(var v=0;v<I;++v,++p)C[p]=C[p-D]}}}else{var A,U=this.bytes,B=this.bytesPos;void 0===(A=U[B++])&&H("Bad block header in flate stream");var N=A;void 0===(A=U[B++])&&H("Bad block header in flate stream"),N|=A<<8,void 0===(A=U[B++])&&H("Bad block header in flate stream");var O=A;void 0===(A=U[B++])&&H("Bad block header in flate stream"),(O|=A<<8)!=(65535&~N)&&H("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var f=this.bufferLength,C=this.ensureBuffer(f+N),d=f+N;this.bufferLength=d;for(var s=f;s<d;++s){if(void 0===(A=U[B++])){this.eof=!0;break}C[s]=A}this.bytesPos=B}},ae}())&&(xe.exports=Te)},25688:(Se,Ae,te)=>{te.d(Ae,{Z:()=>se});var ne=te(17626),xe=te(26584),Te=te(86810),we=te(58817),ge=te(63290),de=te(62208),ie=te(77712),R=te(66656),fe=te(76898);class me{constructor(K=null,ue=null,J=null){this.minValue=K,this.maxValue=ue,this.noDataValue=J}}var ae,H=te(67313);let q=ae=class extends Te.wq{static createEmptyBand(Q,K){return new(ae.getPixelArrayConstructor(Q))(K)}static getPixelArrayConstructor(Q){let K;switch(Q){case"u1":case"u2":case"u4":case"u8":K=Uint8Array;break;case"u16":K=Uint16Array;break;case"u32":K=Uint32Array;break;case"s8":K=Int8Array;break;case"s16":K=Int16Array;break;case"s32":K=Int32Array;break;case"f32":case"c64":case"c128":case"unknown":K=Float32Array;break;case"f64":K=Float64Array}return K}constructor(Q){super(Q),this.width=null,this.height=null,this.pixelType="f32",this.validPixelCount=null,this.mask=null,this.maskIsAlpha=!1,this.premultiplyAlpha=!1,this.statistics=null,this.depthCount=1}castPixelType(Q){if(!Q)return"f32";let K=Q.toLowerCase();return["u1","u2","u4"].includes(K)?K="u8":["unknown","u8","s8","u16","s16","u32","s32","f32","f64"].includes(K)||(K="f32"),K}getPlaneCount(){var Q;return null==(Q=this.pixels)?void 0:Q.length}addData(Q){var K;if(!Q.pixels||Q.pixels.length!==this.width*this.height)throw new xe.Z("pixelblock:invalid-or-missing-pixels","add data requires valid pixels array that has same length defined by pixel block width * height");this.pixels||(this.pixels=[]),this.statistics||(this.statistics=[]),this.pixels.push(Q.pixels),this.statistics.push(null!=(K=Q.statistics)?K:new me)}getAsRGBA(){const Q=new ArrayBuffer(this.width*this.height*4);switch(this.pixelType){case"s8":case"s16":case"u16":case"s32":case"u32":case"f32":case"f64":this._fillFromNon8Bit(Q);break;default:this._fillFrom8Bit(Q)}return new Uint8ClampedArray(Q)}getAsRGBAFloat(){const Q=new Float32Array(this.width*this.height*4);return this._fillFrom32Bit(Q),Q}updateStatistics(){if(!this.pixels)return;this.statistics=this.pixels.map(ue=>this._calculateBandStatistics(ue,this.mask));const Q=this.mask;let K=0;if((0,de.pC)(Q))for(let ue=0;ue<Q.length;ue++)Q[ue]&&K++;else K=this.width*this.height;this.validPixelCount=K}clamp(Q){if(!Q||"f64"===Q||"f32"===Q||!this.pixels)return;const[K,ue]=(0,H.r)(Q),J=this.pixels,Z=this.width*this.height,X=J.length;let E,j,I;const u=[];for(let T=0;T<X;T++){I=ae.createEmptyBand(Q,Z),E=J[T];for(let b=0;b<Z;b++)j=E[b],I[b]=j>ue?ue:j<K?K:j;u.push(I)}this.pixels=u,this.pixelType=Q}extractBands(Q){const{pixels:K,statistics:ue}=this;if((0,de.Wi)(Q)||0===Q.length||!K||0===K.length)return this;const J=K.length,Z=Q.some(E=>E>=K.length),X=J===Q.length&&!Q.some((E,j)=>E!==j);return Z||X?this:new ae({pixelType:this.pixelType,width:this.width,height:this.height,mask:this.mask,validPixelCount:this.validPixelCount,maskIsAlpha:this.maskIsAlpha,pixels:Q.map(E=>K[E]),statistics:ue&&Q.map(E=>ue[E])})}clone(){const Q=new ae({width:this.width,height:this.height,pixelType:this.pixelType,maskIsAlpha:this.maskIsAlpha,validPixelCount:this.validPixelCount});let K;(0,de.pC)(this.mask)&&(Q.mask=this.mask instanceof Uint8Array?new Uint8Array(this.mask):this.mask.slice(0));const ue=ae.getPixelArrayConstructor(this.pixelType);if(this.pixels&&this.pixels.length>0){Q.pixels=[];const J=!!this.pixels[0].slice;for(K=0;K<this.pixels.length;K++)Q.pixels[K]=J?this.pixels[K].slice(0,this.pixels[K].length):new ue(this.pixels[K])}if(this.statistics)for(Q.statistics=[],K=0;K<this.statistics.length;K++)Q.statistics[K]=(0,we.d9)(this.statistics[K]);return Q.premultiplyAlpha=this.premultiplyAlpha,Q}_fillFrom8Bit(Q){const{mask:K,maskIsAlpha:ue,premultiplyAlpha:J,pixels:Z}=this;if(!Q||!Z||!Z.length)return void ge.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");let X,E,j,I;X=E=j=Z[0],Z.length>=3?(E=Z[1],j=Z[2]):2===Z.length&&(E=Z[1]);const u=new Uint32Array(Q),T=this.width*this.height;if(X.length===T)if((0,de.pC)(K)&&K.length===T)if(ue)for(I=0;I<T;I++){const b=K[I];if(b){const c=b/255;u[I]=J?b<<24|j[I]*c<<16|E[I]*c<<8|X[I]*c:b<<24|j[I]<<16|E[I]<<8|X[I]}}else for(I=0;I<T;I++)K[I]&&(u[I]=255<<24|j[I]<<16|E[I]<<8|X[I]);else for(I=0;I<T;I++)u[I]=255<<24|j[I]<<16|E[I]<<8|X[I];else ge.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.")}_fillFromNon8Bit(Q){const{pixels:K,mask:ue,statistics:J}=this;if(!Q||!K||!K.length)return void ge.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");const Z=this.pixelType;let X=1,E=0,j=1;if(J&&J.length>0){for(const F of J)null!=F.minValue&&(E=Math.min(E,F.minValue)),null!=F.maxValue&&null!=F.minValue&&(j=Math.max(j,F.maxValue-F.minValue));X=255/j}else{let F=255;"s8"===Z?(E=-128,F=127):"u16"===Z?F=65535:"s16"===Z?(E=-32768,F=32767):"u32"===Z?F=4294967295:"s32"===Z?(E=-2147483648,F=2147483647):"f32"===Z?(E=-34e38,F=34e38):"f64"===Z&&(E=-Number.MAX_VALUE,F=Number.MAX_VALUE),X=255/(F-E)}const I=new Uint32Array(Q),u=this.width*this.height;let T,b,c,p,x;if(T=b=c=K[0],T.length!==u)return ge.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");if(K.length>=2)if(b=K[1],K.length>=3&&(c=K[2]),(0,de.pC)(ue)&&ue.length===u)for(p=0;p<u;p++)ue[p]&&(I[p]=255<<24|(c[p]-E)*X<<16|(b[p]-E)*X<<8|(T[p]-E)*X);else for(p=0;p<u;p++)I[p]=255<<24|(c[p]-E)*X<<16|(b[p]-E)*X<<8|(T[p]-E)*X;else if((0,de.pC)(ue)&&ue.length===u)for(p=0;p<u;p++)x=(T[p]-E)*X,ue[p]&&(I[p]=255<<24|x<<16|x<<8|x);else for(p=0;p<u;p++)x=(T[p]-E)*X,I[p]=255<<24|x<<16|x<<8|x}_fillFrom32Bit(Q){const{pixels:K,mask:ue}=this;if(!Q||!K||!K.length)return ge.Z.getLogger(this.declaredClass).error("getAsRGBAFloat()","Unable to convert to RGBA. The input pixel block is empty.");let J,Z,X,E;J=Z=X=K[0],K.length>=3?(Z=K[1],X=K[2]):2===K.length&&(Z=K[1]);const j=this.width*this.height;if(J.length!==j)return ge.Z.getLogger(this.declaredClass).error("getAsRGBAFloat()","Unable to convert to RGBA. The pixelblock is invalid.");let I=0;if((0,de.pC)(ue)&&ue.length===j)for(E=0;E<j;E++)Q[I++]=J[E],Q[I++]=Z[E],Q[I++]=X[E],Q[I++]=1&ue[E];else for(E=0;E<j;E++)Q[I++]=J[E],Q[I++]=Z[E],Q[I++]=X[E],Q[I++]=1}_calculateBandStatistics(Q,K){let ue=1/0,J=-1/0;const Z=Q.length;let X,E=0;if((0,de.pC)(K))for(X=0;X<Z;X++)K[X]&&(E=Q[X],ue=E<ue?E:ue,J=E>J?E:J);else for(X=0;X<Z;X++)E=Q[X],ue=E<ue?E:ue,J=E>J?E:J;return new me(ue,J)}};(0,ne._)([(0,ie.Cb)({json:{write:!0}})],q.prototype,"width",void 0),(0,ne._)([(0,ie.Cb)({json:{write:!0}})],q.prototype,"height",void 0),(0,ne._)([(0,ie.Cb)({json:{write:!0}})],q.prototype,"pixelType",void 0),(0,ne._)([(0,R.p)("pixelType")],q.prototype,"castPixelType",null),(0,ne._)([(0,ie.Cb)({json:{write:!0}})],q.prototype,"validPixelCount",void 0),(0,ne._)([(0,ie.Cb)({json:{write:!0}})],q.prototype,"mask",void 0),(0,ne._)([(0,ie.Cb)({json:{write:!0}})],q.prototype,"maskIsAlpha",void 0),(0,ne._)([(0,ie.Cb)({json:{write:!0}})],q.prototype,"pixels",void 0),(0,ne._)([(0,ie.Cb)()],q.prototype,"premultiplyAlpha",void 0),(0,ne._)([(0,ie.Cb)({json:{write:!0}})],q.prototype,"statistics",void 0),(0,ne._)([(0,ie.Cb)({json:{write:!0}})],q.prototype,"depthCount",void 0),(0,ne._)([(0,ie.Cb)({json:{write:!0}})],q.prototype,"noDataValues",void 0),(0,ne._)([(0,ie.Cb)({json:{write:!0}})],q.prototype,"bandMasks",void 0),q=ae=(0,ne._)([(0,fe.j)("esri.layers.support.PixelBlock")],q);const se=q},79645:(Se,Ae,te)=>{te.d(Ae,{Z:()=>q});var H,ne=te(17626),xe=te(86810),Te=te(58817),we=te(62208),ge=te(77712),ie=(te(90912),te(76898)),R=te(2004),fe=te(65234),me=te(27497);let ae=H=class extends xe.wq{constructor(se){super(se),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get dataType(){var Q,K,ue;const se=null!=(ue=null==(K=null==(Q=this.keyProperties)?void 0:Q.DataType)?void 0:K.toLowerCase())?ue:"generic";return"stdtime"===se?"standard-time":se}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent(se){se&&this._set("nativeExtent",se)}get nativePixelSize(){if((0,we.Wi)(this.transform)||!this.transform.affectsPixelSize)return this.pixelSize;const se=this.nativeExtent;return{x:se.width/this.width,y:se.height/this.height}}get hasMultidimensionalTranspose(){var se;return!(null==(se=this.storageInfo)||!se.transposeInfo)}clone(){return new H({attributeTable:(0,Te.d9)(this.attributeTable),bandCount:this.bandCount,colormap:(0,Te.d9)(this.colormap),extent:(0,Te.d9)(this.extent),nativePixelSize:(0,Te.d9)(this.nativePixelSize),format:this.format,height:this.height,width:this.width,histograms:(0,Te.d9)(this.histograms),keyProperties:(0,Te.d9)(this.keyProperties),multidimensionalInfo:(0,Te.d9)(this.multidimensionalInfo),noDataValue:this.noDataValue,pixelSize:(0,Te.d9)(this.pixelSize),pixelType:this.pixelType,isPseudoSpatialReference:this.isPseudoSpatialReference,spatialReference:(0,Te.d9)(this.spatialReference),statistics:(0,Te.d9)(this.statistics),storageInfo:(0,Te.d9)(this.storageInfo),transform:(0,Te.d9)(this.transform)})}};(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"attributeTable",void 0),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"bandCount",void 0),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"colormap",void 0),(0,ne._)([(0,ge.Cb)({type:String,readOnly:!0})],ae.prototype,"dataType",null),(0,ne._)([(0,ge.Cb)({type:R.Z,json:{write:!0}})],ae.prototype,"extent",void 0),(0,ne._)([(0,ge.Cb)({type:R.Z,json:{write:!0}})],ae.prototype,"nativeExtent",null),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"nativePixelSize",null),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"format",void 0),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"height",void 0),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"width",void 0),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"hasMultidimensionalTranspose",null),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"histograms",void 0),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"keyProperties",void 0),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"multidimensionalInfo",void 0),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"noDataValue",void 0),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"pixelSize",void 0),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"pixelType",void 0),(0,ne._)([(0,ge.Cb)()],ae.prototype,"isPseudoSpatialReference",void 0),(0,ne._)([(0,ge.Cb)({type:fe.Z,json:{write:!0}})],ae.prototype,"spatialReference",void 0),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"statistics",void 0),(0,ne._)([(0,ge.Cb)({type:me.Z,json:{write:!0}})],ae.prototype,"storageInfo",void 0),(0,ne._)([(0,ge.Cb)({json:{write:!0}})],ae.prototype,"transform",void 0),ae=H=(0,ne._)([(0,ie.j)("esri.layers.support.RasterInfo")],ae);const q=ae},27497:(Se,Ae,te)=>{te.d(Ae,{Z:()=>me});var R,ne=te(17626),xe=te(86810),Te=te(58817),we=te(77712),de=(te(90912),te(76898)),ie=te(72642);let fe=R=class extends xe.wq{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.transposeInfo=null,this.blockBoundary=null}clone(){return new R({blockWidth:this.blockWidth,blockHeight:this.blockHeight,compression:this.compression,origin:(0,Te.d9)(this.origin),firstPyramidLevel:this.firstPyramidLevel,maximumPyramidLevel:this.maximumPyramidLevel,pyramidResolutions:(0,Te.d9)(this.pyramidResolutions),pyramidScalingFactor:this.pyramidScalingFactor,pyramidBlockWidth:this.pyramidBlockWidth,pyramidBlockHeight:this.pyramidBlockHeight,isVirtualTileInfo:this.isVirtualTileInfo,tileInfo:(0,Te.d9)(this.tileInfo),transposeInfo:(0,Te.d9)(this.transposeInfo),blockBoundary:(0,Te.d9)(this.blockBoundary)})}};(0,ne._)([(0,we.Cb)({type:Number,json:{write:!0}})],fe.prototype,"blockWidth",void 0),(0,ne._)([(0,we.Cb)({type:Number,json:{write:!0}})],fe.prototype,"blockHeight",void 0),(0,ne._)([(0,we.Cb)({type:String,json:{write:!0}})],fe.prototype,"compression",void 0),(0,ne._)([(0,we.Cb)({type:ie.Z,json:{write:!0}})],fe.prototype,"origin",void 0),(0,ne._)([(0,we.Cb)({type:Number,json:{write:!0}})],fe.prototype,"firstPyramidLevel",void 0),(0,ne._)([(0,we.Cb)({type:Number,json:{write:!0}})],fe.prototype,"maximumPyramidLevel",void 0),(0,ne._)([(0,we.Cb)({json:{write:!0}})],fe.prototype,"pyramidResolutions",void 0),(0,ne._)([(0,we.Cb)({type:Number,json:{write:!0}})],fe.prototype,"pyramidScalingFactor",void 0),(0,ne._)([(0,we.Cb)({type:Number,json:{write:!0}})],fe.prototype,"pyramidBlockWidth",void 0),(0,ne._)([(0,we.Cb)({type:Number,json:{write:!0}})],fe.prototype,"pyramidBlockHeight",void 0),(0,ne._)([(0,we.Cb)({type:Boolean,json:{write:!0}})],fe.prototype,"isVirtualTileInfo",void 0),(0,ne._)([(0,we.Cb)({json:{write:!0}})],fe.prototype,"tileInfo",void 0),(0,ne._)([(0,we.Cb)()],fe.prototype,"transposeInfo",void 0),(0,ne._)([(0,we.Cb)()],fe.prototype,"blockBoundary",void 0),fe=R=(0,ne._)([(0,de.j)("esri.layers.support.RasterStorageInfo")],fe);const me=fe},15365:(Se,Ae,te)=>{function ne(xe,Te){let we=0,ge="",de=0,ie=0;const R=xe.length;for(;we<R;)ie=xe[we++],de=ie>>4,de<8?de=1:15===de?(de=4,ie=(7&ie)<<18|(63&xe[we++])<<12|(63&xe[we++])<<6|63&xe[we++]):14===de?(de=3,ie=(15&ie)<<12|(63&xe[we++])<<6|63&xe[we++]):(de=2,ie=(31&ie)<<6|63&xe[we++]),(0!==ie||Te)&&(ge+=String.fromCharCode(ie));return ge}te.d(Ae,{f:()=>ne})},68786:(Se,Ae,te)=>{te.d(Ae,{Jx:()=>ae,zD:()=>ge});var ne=te(54346);const xe=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,127]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let Te=null,we=null;function ge(){return Te||(Te=te.e(2045).then(te.bind(te,72045)).then(se=>se.l).then(({default:se})=>se({locateFile:Q=>(0,ne.V)(`esri/layers/support/rasterFormats/${Q}`)})).then(se=>{(function me(se){const{_malloc:Q,_free:K,_lerc_getBlobInfo:ue,_lerc_getDataRanges:J,_lerc_decode_4D:Z,asm:X}=se;let E;const j=Object.values(X).find(u=>u&&"buffer"in u&&u.buffer===se.HEAPU8.buffer),I=u=>{const T=u.map(x=>function R(se){return 16+(se>>3<<3)}(x)),b=T.reduce((x,F)=>x+F),c=Q(b);E=new Uint8Array(j.buffer);let p=T[0];T[0]=c;for(let x=1;x<T.length;x++){const F=T[x];T[x]=T[x-1]+p,p=F}return T};ie.getBlobInfo=u=>{const c=new Uint8Array(48),p=new Uint8Array(24),[x,F,D]=I([u.length,c.length,p.length]);E.set(u,x),E.set(c,F),E.set(p,D);let v=ue(x,u.length,F,D,12,3);if(v)throw K(x),new Error(`lerc-getBlobInfo: error code is ${v}`);E=new Uint8Array(j.buffer),fe(E,F,c),fe(E,D,p);const A=new Uint32Array(c.buffer),U=new Float64Array(p.buffer),[B,N,,O,f,C,d,s,h,t,_]=A,w={version:B,depthCount:t,width:O,height:f,validPixelCount:d,bandCount:C,blobSize:s,maskCount:h,dataType:N,minValue:U[0],maxValue:U[1],maxZerror:U[2],statistics:[],bandCountWithNoData:_};if(_)return w;if(1===t&&1===C)return K(x),w.statistics.push({minValue:U[0],maxValue:U[1]}),w;const k=t*C*8,L=new Uint8Array(k),i=new Uint8Array(k);let y=x,g=0,m=0,P=!1;if(E.byteLength<x+2*k?(K(x),P=!0,[y,g,m]=I([u.length,k,k]),E.set(u,y)):[g,m]=I([k,k]),E.set(L,g),E.set(i,m),v=J(y,u.length,t,C,g,m),v)throw K(y),P||K(g),new Error(`lerc-getDataRanges: error code is ${v}`);E=new Uint8Array(j.buffer),fe(E,g,L),fe(E,m,i);const M=new Float64Array(L.buffer),S=new Float64Array(i.buffer),G=w.statistics;for(let W=0;W<C;W++)if(t>1){const z=M.slice(W*t,(W+1)*t),V=S.slice(W*t,(W+1)*t),re=Math.min.apply(null,z),he=Math.max.apply(null,V);G.push({minValue:re,maxValue:he,depthStats:{minValues:z,maxValues:V}})}else G.push({minValue:M[W],maxValue:S[W]});return K(y),P||K(g),w},ie.decode=(u,T)=>{const{maskCount:b,depthCount:c,bandCount:p,width:x,height:F,dataType:D,bandCountWithNoData:v}=T,A=xe[D],U=x*F,B=new Uint8Array(U*p),O=new Uint8Array(U*c*p*A.size),f=new Uint8Array(p),C=new Uint8Array(8*p),[d,s,h,t,_]=I([u.length,B.length,O.length,f.length,C.length]);E.set(u,d),E.set(B,s),E.set(O,h),E.set(f,t),E.set(C,_);const w=Z(d,u.length,b,s,c,x,F,p,D,h,t,_);if(w)throw K(d),new Error(`lerc-decode: error code is ${w}`);E=new Uint8Array(j.buffer),fe(E,h,O),fe(E,s,B);let k=null;if(v){fe(E,t,f),fe(E,_,C),k=[];const L=new Float64Array(C.buffer);for(let i=0;i<f.length;i++)k.push(f[i]?L[i]:null)}return K(d),{data:O,maskData:B,noDataValues:k}}})(se),we=!0}),Te)}const ie={getBlobInfo:null,decode:null};function fe(se,Q,K){K.set(se.slice(Q,Q+K.length))}function H(se,Q,K,ue,J){if(K<2)return se;const Z=new ue(Q*K);if(J)for(let X=0,E=0;X<Q;X++)for(let j=0,I=X;j<K;j++,I+=Q)Z[I]=se[E++];else for(let X=0,E=0;X<Q;X++)for(let j=0,I=X;j<K;j++,I+=Q)Z[E++]=se[I];return Z}function ae(se,Q={}){var d;const K=null!=(d=Q.inputOffset)?d:0,ue=se instanceof Uint8Array?se.subarray(K):new Uint8Array(se,K),J=ie.getBlobInfo(ue),{data:Z,maskData:X,noDataValues:E}=ie.decode(ue,J),{width:j,height:I,bandCount:u,depthCount:T,dataType:b,maskCount:c,statistics:p}=J,x=xe[b],F=new x.ctor(Z.buffer),D=[],v=[],A=j*I,U=A*T;for(let s=0;s<u;s++){const h=F.subarray(s*U,(s+1)*U);if(Q.returnInterleaved)D.push(h);else{const t=H(h,A,T,x.ctor,!0);D.push(t)}v.push(X.subarray(s*U,(s+1)*U))}const B=0===c?null:1===c?v[0]:new Uint8Array(A);if(c>1){B.set(v[0]);for(let s=1;s<v.length;s++){const h=v[s];for(let t=0;t<A;t++)B[t]=B[t]&h[t]}}const{noDataValue:N}=Q;if(c>0&&null!=N&&x.range[0]<=N&&x.range[1]>=N)for(let s=0;s<u;s++){const h=D[s],t=v[s]||B;for(let _=0;_<A;_++)0===t[_]&&(h[_]=N)}const f=c===u&&u>1?v:null,{pixelType:C}=x;return{width:j,height:I,bandCount:u,pixelType:C,depthCount:T,statistics:p,pixels:D,mask:B,bandMasks:f,noDataValues:E}}},94194:(Se,Ae,te)=>{function xe(){const de=[];for(let ie=0;ie<=257;ie++)de[ie]=[ie];return de}function Te(de,ie){for(let R=0;R<ie.length;R++)de.push(ie[R])}te.d(Ae,{J:()=>ge});const we=new Set;function ge(de,ie,R,fe=!0){const me=function ne(de,ie,R,fe=!0){if(ie%4!=0||R%4!=0){const me=new ArrayBuffer(4*Math.ceil(R/4)),H=new Uint8Array(me),ae=new Uint8Array(de,ie,R);if(fe)for(let q=0;q<H.length;q+=4)H[q]=ae[q+3],H[q+1]=ae[q+2],H[q+2]=ae[q+1],H[q+3]=ae[q];else H.set(ae);return new Uint32Array(H.buffer)}if(fe){const me=new Uint8Array(de,ie,R),H=new Uint8Array(me.length);for(let ae=0;ae<H.length;ae+=4)H[ae]=me[ae+3],H[ae+1]=me[ae+2],H[ae+2]=me[ae+1],H[ae+3]=me[ae];return new Uint32Array(H.buffer)}return new Uint32Array(de,ie,R/4)}(de,ie,R,fe);let H=9,ae=xe(),q=32,se=ae.length,Q=[],K=1,ue=me[0],J=0;const Z=me.length,X=8*(4*Z-R),E=[];for(;null!=ue;){if(q>=H)q-=H,J=ue>>>32-H,ue<<=H;else{J=ue>>>32-q,ue=me[K++];const I=H-q;q=32-I,J=(J<<I)+(ue>>>q),ue<<=I}if(257===J)break;if(256===J){H=9,ae=xe(),se=ae.length,Q=[];continue}const j=ae[J];if(null==j){if(J>ae.length)throw new Error("data integrity issue: code does not exist on code page");Q.push(Q[0]),ae[se++]=Q.slice(),Te(E,Q)}else Te(E,j),Q.push(j[0]),Q.length>1&&(ae[se++]=Q.slice()),Q=j.slice();if(we.has(se)&&H++,0===q&&(ue=me[K++],q=32),K>Z||K===Z&&q<=X)break}return new Uint8Array(E)}we.add(511),we.add(1023),we.add(2047),we.add(4095),we.add(8191)},8614:(Se,Ae,te)=>{te.d(Ae,{J:()=>d,y:()=>C});var ne=te(15861),xe=te(26584),Te=te(62208),we=te(25688),ge=te(10699),de=te(34022);class ie{constructor(t){this._canvas=null,this._ctx=null,t&&(this._canvas=t.canvas,this._ctx=t.ctx||t.canvas&&t.canvas.getContext("2d"))}decode(t,_,w){if(!t||t.byteLength<10)throw new xe.Z("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:k=0,height:L=0,format:i}=_;const{applyJpegMask:y}=_;if(y&&(!k||!L))throw new xe.Z("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise((g,m)=>{let P=null;"jpg"===i&&y&&(P=ie._getMask(t,{width:k,height:L}));const M=new Blob([new Uint8Array(t)],{type:"image/"+i=="jpg"?"jpeg":i}),S=URL.createObjectURL(M),G=new Image;let W;G.src=S,G.onload=()=>{if(URL.revokeObjectURL(S),(0,ge.Hc)(w))return void m((0,ge.zE)());k=G.width,L=G.height,this._canvas&&this._ctx?(this._canvas.width===k&&this._canvas.height===L||(this._canvas.width=k,this._canvas.height=L),this._ctx.clearRect(0,0,k,L)):(this._canvas=document.createElement("canvas"),this._canvas.width=k,this._canvas.height=L,this._ctx=this._canvas.getContext("2d")),this._ctx.drawImage(G,0,0);const z=this._ctx.getImageData(0,0,k,L);let V;if(W=z.data,_.renderOnCanvas){if(P)for(V=0;V<P.length;V++)W[4*V+3]=P[V]?255:0;return this._ctx.putImageData(z,0,0),void g(null)}const re=k*L,he=new Uint8Array(re),ee=new Uint8Array(re),oe=new Uint8Array(re);if(P)for(V=0;V<re;V++)he[V]=W[4*V],ee[V]=W[4*V+1],oe[V]=W[4*V+2];else for(P=new Uint8Array(re),V=0;V<re;V++)he[V]=W[4*V],ee[V]=W[4*V+1],oe[V]=W[4*V+2],P[V]=W[4*V+3];g({width:k,height:L,pixels:[he,ee,oe],mask:P,pixelType:"u8"})},G.onerror=()=>{URL.revokeObjectURL(S),m("cannot load image")}})}static _getMask(t,_){let w=null;try{const k=new Uint8Array(t),L=Math.ceil(k.length/2);let i=0;const y=k.length-2;for(i=L;i<y&&(255!==k[i]||217!==k[i+1]);i++);if(i+=2,i<k.length-1){const g=new de.Z(k.subarray(i)).getBytes();w=new Uint8Array(_.width*_.height);let m=0;for(let P=0;P<g.length;P++)for(let M=7;M>=0;M--)w[m++]=g[P]>>M&1}}catch(k){}return w}}var R=te(89890),me=te(68786),H=te(94194),ae=te(67313);const q=(h,t)=>Math.floor(h.byteLength/(t.width*t.height*se(t.pixelType))),se=h=>{let t=1;switch(h){case Uint8Array:case Int8Array:t=1;break;case Uint16Array:case Int16Array:t=2;break;case Uint32Array:case Int32Array:case Float32Array:t=4;break;case Float64Array:t=8}return t};var ue=te(93122),J=te(44853),Z=function(h){var k,L,i;function y(g){var m,M,S,G,W,z,V,re,he,ee,oe,le;for(this.data=g,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},G=null;;){switch(m=this.readUInt32(),V=function(){var pe,Y;for(Y=[],pe=0;pe<4;++pe)Y.push(String.fromCharCode(this.data[this.pos++]));return Y}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(m);break;case"fcTL":G&&this.animation.frames.push(G),this.pos+=4,G={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},S=this.readUInt16(),M=this.readUInt16()||100,G.delay=1e3*S/M,G.disposeOp=this.data[this.pos++],G.blendOp=this.data[this.pos++],G.data=[];break;case"IDAT":case"fdAT":for("fdAT"===V&&(this.pos+=4,m-=4),g=(null!=G?G.data:void 0)||this.imgData,ee=0;0<=m?ee<m:ee>m;0<=m?++ee:--ee)g.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(m),(re=255-this.transparency.indexed.length)>0)for(oe=0;0<=re?oe<re:oe>re;0<=re?++oe:--oe)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(m)[0];break;case 2:this.transparency.rgb=this.read(m)}break;case"tEXt":W=(he=this.read(m)).indexOf(0),z=String.fromCharCode.apply(String,he.slice(0,W)),this.text[z]=String.fromCharCode.apply(String,he.slice(W+1));break;case"IEND":return G&&this.animation.frames.push(G),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(le=this.colorType)||6===le,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=m}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return y.load=function(g,m,P){var M;return"function"==typeof m&&(P=m),(M=new XMLHttpRequest).open("GET",g,!0),M.responseType="arraybuffer",M.onload=function(){var S;return S=new y(new Uint8Array(M.response||M.mozResponseArrayBuffer)),"function"==typeof(null!=m?m.getContext:void 0)&&S.render(m),"function"==typeof P?P(S):void 0},M.send(null)},y.prototype.read=function(g){var m,P;for(P=[],m=0;0<=g?m<g:m>g;0<=g?++m:--m)P.push(this.data[this.pos++]);return P},y.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},y.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},y.prototype.decodePixels=function(g){var m,P,M,S,G,W,z,V,he,ee,oe,le,pe,Y,$,ce,Ce,ye,be,_e,ve,Ee;if(null==g&&(g=this.imgData),0===g.length)return new Uint8Array(0);for(g=(g=new de.Z(g)).getBytes(),$=(oe=this.pixelBitlength/8)*this.width,le=new Uint8Array($*this.height),W=g.length,Y=0,pe=0,P=0;pe<W;){switch(g[pe++]){case 0:for(S=ye=0;ye<$;S=ye+=1)le[P++]=g[pe++];break;case 1:for(S=be=0;be<$;S=be+=1)m=g[pe++],G=S<oe?0:le[P-oe],le[P++]=(m+G)%256;break;case 2:for(S=_e=0;_e<$;S=_e+=1)m=g[pe++],M=(S-S%oe)/oe,le[P++]=((ce=Y&&le[(Y-1)*$+M*oe+S%oe])+m)%256;break;case 3:for(S=ve=0;ve<$;S=ve+=1)m=g[pe++],M=(S-S%oe)/oe,G=S<oe?0:le[P-oe],ce=Y&&le[(Y-1)*$+M*oe+S%oe],le[P++]=(m+Math.floor((G+ce)/2))%256;break;case 4:for(S=Ee=0;Ee<$;S=Ee+=1)m=g[pe++],M=(S-S%oe)/oe,0===Y?ce=Ce=0:(ce=le[(Y-1)*$+M*oe+S%oe],Ce=M&&le[(Y-1)*$+(M-1)*oe+S%oe]),z=(G=S<oe?0:le[P-oe])+ce-Ce,V=Math.abs(z-G),he=Math.abs(z-ce),ee=Math.abs(z-Ce),le[P++]=(m+(V<=he&&V<=ee?G:he<=ee?ce:Ce))%256;break;default:throw new Error("Invalid filter algorithm: "+g[pe-1])}Y++}return le},y.prototype.decodePalette=function(){var g,m,P,M,S,G,W,z,V;for(P=this.palette,G=this.transparency.indexed||[],S=new Uint8Array((G.length||0)+P.length),M=0,g=0,m=W=0,z=P.length;W<z;m=W+=3)S[M++]=P[m],S[M++]=P[m+1],S[M++]=P[m+2],S[M++]=null!=(V=G[g++])?V:255;return S},y.prototype.copyToImageData=function(g,m){var P,M,S,G,W,z,V,re,he,ee,oe;if(M=this.colors,he=null,P=this.hasAlphaChannel,this.palette.length&&(he=null!=(oe=this._decodedPalette)?oe:this._decodedPalette=this.decodePalette(),M=4,P=!0),re=(S=g.data||g).length,W=he||m,G=z=0,1===M)for(;G<re;)V=he?4*m[G/4]:z,ee=W[V++],S[G++]=ee,S[G++]=ee,S[G++]=ee,S[G++]=P?W[V++]:this.transparency.grayscale&&this.transparency.grayscale===ee?0:255,z=V;else for(;G<re;)V=he?4*m[G/4]:z,S[G++]=W[V++],S[G++]=W[V++],S[G++]=W[V++],S[G++]=P?W[V++]:this.transparency.rgb&&this.transparency.rgb[1]===W[V-3]&&this.transparency.rgb[3]===W[V-2]&&this.transparency.rgb[5]===W[V-1]?0:255,z=V},y.prototype.decode=function(){var g;return g=new Uint8Array(this.width*this.height*4),this.copyToImageData(g,this.decodePixels()),g},L=h.document&&h.document.createElement("canvas"),i=L&&L.getContext("2d"),k=function(g){var m;return i.width=g.width,i.height=g.height,i.clearRect(0,0,g.width,g.height),i.putImageData(g,0,0),(m=new Image).src=L.toDataURL(),m},y.prototype.decodeFrames=function(g){var m,P,M,S,G,W,z,V;if(this.animation){for(V=[],P=G=0,W=(z=this.animation.frames).length;G<W;P=++G)M=g.createImageData((m=z[P]).width,m.height),S=this.decodePixels(new Uint8Array(m.data)),this.copyToImageData(M,S),m.imageData=M,V.push(m.image=k(M));return V}},y.prototype.renderFrame=function(g,m){var P,M,S;return P=(M=this.animation.frames)[m],S=M[m-1],0===m&&g.clearRect(0,0,this.width,this.height),1===(null!=S?S.disposeOp:void 0)?g.clearRect(S.xOffset,S.yOffset,S.width,S.height):2===(null!=S?S.disposeOp:void 0)&&g.putImageData(S.imageData,S.xOffset,S.yOffset),0===P.blendOp&&g.clearRect(P.xOffset,P.yOffset,P.width,P.height),g.drawImage(P.image,P.xOffset,P.yOffset)},y.prototype.animate=function(g){var m,P,M,S,G,W,z=this;return P=0,S=(W=this.animation).numFrames,M=W.frames,G=W.numPlays,(m=function(){var V,re;if(V=P++%S,re=M[V],z.renderFrame(g,V),S>1&&P/S<G)return z.animation._timeout=setTimeout(m,re.delay)})()},y.prototype.stopAnimation=function(){var g;return clearTimeout(null!=(g=this.animation)?g._timeout:void 0)},y.prototype.render=function(g){var m,P;return g._png&&g._png.stopAnimation(),g._png=this,g.width=this.width,g.height=this.height,m=g.getContext("2d"),this.animation?(this.decodeFrames(m),this.animate(m)):(P=m.createImageData(this.width,this.height),this.copyToImageData(P,this.decodePixels()),m.putImageData(P,0,0))},y}(self);const X=new Set(["jpg","png","bmp","gif"]);function E(h,t){return j.apply(this,arguments)}function j(){return(j=(0,ne.Z)(function*(h,t){if(!J.f)throw new xe.Z("rasterCoded:decode","lerc decoder is not supported on big endian platform");yield(0,me.zD)();const{offset:_}=t,{width:w,height:k,pixelType:L,statistics:i,depthCount:y,noDataValues:g,bandMasks:m,pixels:P,mask:M}=(0,me.Jx)(h,{inputOffset:_,returnInterleaved:t.returnInterleaved});return new we.Z({width:w,height:k,pixelType:L.toLowerCase(),pixels:P,mask:M,statistics:i,bandMasks:m,depthCount:y,noDataValues:g})})).apply(this,arguments)}function I(h,t){return u.apply(this,arguments)}function u(){return(u=(0,ne.Z)(function*(h,t){const _=yield(0,ue.Jx)(h,Le(Re({},t),{noDataValue:null}));(0,Te.O3)(_);const w=new we.Z({width:_.width,height:_.height,pixels:_.pixels,pixelType:_.pixelType.toLowerCase(),mask:_.mask,statistics:null});return w.updateStatistics(),w})).apply(this,arguments)}function T(h,t){return b.apply(this,arguments)}function b(){return(b=(0,ne.Z)(function*(h,t){const _=yield(0,ue.Uw)(h,t.customOptions),w=new we.Z({width:_.width,height:_.height,pixels:_.pixels,pixelType:_.pixelType.toLowerCase(),mask:_.mask,statistics:null});return w.updateStatistics(),w})).apply(this,arguments)}function c(h,t){const _=t.pixelType||"u8",w=we.Z.getPixelArrayConstructor(_),k="u8"===_?h:new w(h.buffer),L=[],i=t.planes||1;if(1===i)L.push(k);else for(let g=0;g<i;g++){const m=(t.width||1)*(t.height||h.length),P=new w(m);for(let M=0;M<m;M++)P[M]=k[M*i+g];L.push(P)}const y=new we.Z({width:t.width||1,height:t.height||h.length,pixels:L,pixelType:_,statistics:null});return y.updateStatistics(),y}function p(h,t){return c(new de.Z(new Uint8Array(h)).getBytes(),t)}function x(h,t){return c((0,H.J)(h,t.offset,t.eof,!t.isInputBigEndian),t)}function D(h,t){var k;const _=class fe{static decode(t,_=!1){const w=new Uint8Array(t),k=new R.J;k.parse(w);const{width:L,height:i,numComponents:y,eof:g}=k,m=k.getData(L,i,!0),P=L*i;let M,S=null,G=0,W=0,z=0;if(!_&&g<w.length-1)try{const V=new de.Z(w.subarray(g)).getBytes();S=new Uint8Array(P);let re=0;for(G=0;G<V.length;G++)for(z=7;z>=0;z--)S[re++]=V[G]>>z&1}catch(V){}if(1===y&&m.length===L*i){const V=new Uint8Array(m.buffer);M=[V,V,V]}else{for(M=[],G=0;G<3;G++)M.push(new Uint8Array(P));for(z=0,W=0;W<P;W++)for(G=0;G<3;G++)M[G][W]=m[z++]}return{width:L,height:i,pixels:M,mask:S}}}.decode(h,null!=(k=t.hasNoZlibMask)?k:void 0),w=new we.Z({width:_.width,height:_.height,pixels:_.pixels,pixelType:"U8",mask:_.mask,statistics:null});return w.updateStatistics(),w}function v(h,t){const _=new Uint8Array(h),w=new Z(_),{width:k,height:L}=t,i=k*L,y=w.decode();let g,m=0,P=0;const M=new Uint8Array(i);for(m=0;m<i;m++)M[m]=y[4*m+3];const S=new we.Z({width:k,height:L,pixels:[],pixelType:"U8",mask:M,statistics:[]});for(m=0;m<3;m++){for(g=new Uint8Array(i),P=0;P<i;P++)g[P]=y[4*P+m];S.addData({pixels:g})}return S.updateStatistics(),S}function A(h,t,_,w){return U.apply(this,arguments)}function U(){return(U=(0,ne.Z)(function*(h,t,_,w){const k=new ie,L=Re({applyJpegMask:!1,format:t},_),i=yield k.decode(h,L,w),y=new we.Z(i);return y.updateStatistics(),y})).apply(this,arguments)}function B(h){if(null==h)throw new xe.Z("rasterCodec:decode","parameter encodeddata is required.");const t=new Uint8Array(h,0,10);let _="";return 255===t[0]&&216===t[1]?_="jpg":137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]?_="png":67===t[0]&&110===t[1]&&116===t[2]&&90===t[3]&&73===t[4]&&109===t[5]&&97===t[6]&&103===t[7]&&101===t[8]&&32===t[9]?_="lerc":76===t[0]&&101===t[1]&&114===t[2]&&99===t[3]&&50===t[4]&&32===t[5]?_="lerc2":73===t[0]&&73===t[1]&&42===t[2]&&0===t[3]||77===t[0]&&77===t[1]&&0===t[2]&&42===t[3]||73===t[0]&&73===t[1]&&43===t[2]&&0===t[3]||77===t[0]&&77===t[1]&&0===t[2]&&43===t[3]?_="tiff":71===t[0]&&73===t[1]&&70===t[2]?_="gif":66===t[0]&&77===t[1]?_="bmp":String.fromCharCode.apply(null,t).toLowerCase().includes("error")&&(_="error"),_}function N(h){let t=null;switch(h){case"lerc":case"lerc2":t=E;break;case"jpg":t=D;break;case"png":t=v;break;case"bsq":case"bip":t=(_,w)=>function F(h,t,_){const{pixelTypeCtor:w}=function O(h){let t=null,_=null;switch(h?h.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":_=255,t=Uint8Array;break;case"u16":_=_||65535,t=Uint16Array;break;case"u32":_=_||2**32-1,t=Uint32Array;break;case"s8":_=_||-128,t=Int8Array;break;case"s16":_=_||-32768,t=Int16Array;break;case"s32":_=_||0-2**31,t=Int32Array;break;default:t=Float32Array}return{pixelTypeCtor:t,noDataValue:_}}(t.pixelType),k=(0,class K{static decode(t,_){const w=_.pixelType,k=[],L=_.width*_.height,i=q(t,_),{bandIds:y,format:g}=_,m=y&&y.length||q(t,_),P=t.byteLength-t.byteLength%(L*se(w)),M=new w(t,0,L*i);let S,G,W,z,V=null;if("bip"===g)for(S=0;S<m;S++){for(W=new w(L),z=y?y[S]:S,G=0;G<L;G++)W[G]=M[G*i+z];k.push(W)}else if("bsq"===g)for(S=0;S<m;S++)z=y?y[S]:S,k.push(M.subarray(z*L,(z+1)*L));return P<t.byteLength-1&&(V=((h,t)=>{if(8*h.byteLength<t)return null;const _=new Uint8Array(h,0,Math.ceil(t/8)),w=new Uint8Array(t);let k=0,L=0,i=0,y=0;for(i=0;i<_.length-1;i++)for(L=_[i],y=7;y>=0;y--)w[k++]=L>>y&1;for(y=7;k<t-1;)L=_[_.length-1],w[k++]=L>>y&1,y--;return w})(t.slice(P),L)),{pixels:k,mask:V}}}.decode)(h,{width:t.width,height:t.height,pixelType:w,format:_}),L=new we.Z({width:t.width,height:t.height,pixels:k.pixels,pixelType:t.pixelType,mask:k.mask,statistics:null});return L.updateStatistics(),L}(_,w,h);break;case"tiff":t=I;break;case"deflate":t=p;break;case"lzw":t=x;break;case"error":t=()=>{throw new xe.Z("rasterCodec:decode","input data contains error")};break;default:t=()=>{throw new xe.Z("rasterCodec:decode","unsupported raster format")}}return t}function f(h,t=1){if(!h)return;const{pixels:_,width:w,height:k,mask:L}=h;if(!_||0===_.length)return;const i=_.length,y=w-1,g=k-1,m=[];let P,M,S,G,W,z,V=null;const re=we.Z.getPixelArrayConstructor(h.pixelType);if(0===t){for(P=0;P<i;P++){for(W=_[P],z=new re(y*g),M=0;M<g;M++)for(G=M*w,S=0;S<y;S++)z[M*y+S]=W[G+S];m.push(z)}if((0,Te.pC)(L))for(V=new Uint8Array(y*g),M=0;M<g;M++)for(G=M*w,S=0;S<y;S++)V[M*y+S]=L[G+S]}else{for(P=0;P<i;P++){for(W=_[P],z=new re(y*g),M=0;M<g;M++)for(G=M*w,S=0;S<y;S++)z[M*y+S]=(W[G+S]+W[G+S+1]+W[G+w+S]+W[G+w+S+1])/4;m.push(z)}if(L)for(V=new Uint8Array(y*g),M=0;M<g;M++)for(G=M*w,S=0;S<y;S++)V[M*y+S]=Math.min.apply(null,[L[G+S],L[G+S+1],L[G+w+S],L[G+w+S+1]])}h.width=y,h.height=g,h.mask=V,h.pixels=m}function C(h){let t=B(h);return"lerc2"===t?t="lerc":"error"===t&&(t=""),t}function d(h){return s.apply(this,arguments)}function s(){return(s=(0,ne.Z)(function*(h,t={},_){if(null==h)throw new xe.Z("rasterCodec:decode","missing encodeddata parameter.");let w=t.format&&t.format.toLowerCase();if(!("bsq"!==w&&"bip"!==w||null!=t.width&&null!=t.height))throw new xe.Z("rasterCodec:decode","requires width and height in options parameter.");if("tiff"===w&&t.customOptions)return T(h,t);if((!w||"bsq"!==w&&"bip"!==w&&"deflate"!==w&&"lzw"!==w)&&(w=B(h)),t.useCanvas&&X.has(w))return A(h,w,t,_);const k=N(w);t.isPoint&&(null!=(t=Re({},t)).width&&t.width++,null!=t.height&&t.height++);const L=yield k(h,t);return L&&("jpg"!==w&&null!=t.noDataValue&&1===L.depthCount&&(0,ae.A)(L,t.noDataValue,{customFloatTolerance:t.tolerance}),t.isPoint&&f(L),L)})).apply(this,arguments)}},93122:(Se,Ae,te)=>{te.d(Ae,{Dq:()=>v,FI:()=>A,I7:()=>N,If:()=>U,Jx:()=>k,Uw:()=>_,cK:()=>s,ee:()=>B,vr:()=>h});var ne=te(15861),xe=te(15365),Te=te(89890),we=te(68786),ge=te(94194),de=te(67313),ie=te(635),R=te(44853),fe=te(34022);const me=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],H=4294967296,ae=new Set([1,5,6,7,8,34712,34887]);function q(i,y){let g="unknown";return 3===i?g=64===y?"f64":"f32":1===i?1===y?g="u1":2===y?g="u2":4===y?g="u4":y<=8?g="u8":y<=16?g="u16":y<=32&&(g="u32"):2===i&&(y<=8?g="s8":y<=16?g="s16":y<=32&&(g="s32")),g}function se(i){let y=null;switch(i?i.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":y=Uint8Array;break;case"u16":y=Uint16Array;break;case"u32":y=Uint32Array;break;case"s8":y=Int8Array;break;case"s16":y=Int16Array;break;case"s32":y=Int32Array;break;case"f64":y=Float64Array;break;default:y=Float32Array}return y}function Q(i,y){return{x:y[0]*i.x+y[1]*i.y+y[2],y:y[3]*i.x+y[4]*i.y+y[5]}}function K(i,y){var g;return null==(g=i.get(y))?void 0:g.values}function ue(i,y){var g;return null==(g=i.get(y))?void 0:g.values}function J(i,y){var g,m;return null==(m=null==(g=i.get(y))?void 0:g.values)?void 0:m[0]}function Z(i,y){var g,m;return null==(m=null==(g=i.get(y))?void 0:g.values)?void 0:m[0]}function X(i,y,g,m=0,P=ie.Z.TIFF_TAGS,M=4){const S=8===M,G=S?f(new DataView(i,g,8),0,y):new DataView(i,g,2).getUint16(0,y),W=4+2*M,z=S?8:2,V=z+G*W;if(g+V>i.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:V};const re=g+V+4<=i.byteLength?d(new DataView(i,g+V,8===M?8:4),0,y,8===M):null,he=g+z,ee=new Map;let oe,le,pe,Y,$,ce=0,Ce=0;for(let ye=0;ye<G;ye++){le=new DataView(i,he+W*ye,W),pe=le.getUint16(0,y),$=le.getUint16(2,y),Y=ie.Z.getTagName(pe,P);const be=[];2===M?(ce=le.getUint16(4,y),Ce=le.getUint16(6,y)):4===M?(ce=le.getUint32(4,y),Ce=le.getUint32(8,y)):8===M&&(ce=d(le,4,y,!0),Ce=d(le,12,y,!0),be.push(le.getUint32(12,y)),be.push(le.getUint32(16,y))),oe={id:pe,type:$,valueCount:ce,valueOffset:Ce,valueOffsets:be,values:null},v(i,y,oe,m,!1,M),ee.set(Y,oe)}return{success:!0,ifd:ee,nextIFD:re,requiredBufferSize:V}}const E=(i,y)=>(0,we.Jx)(i,{inputOffset:y}).pixels[0];function j(i,y){if(1!==y&&2!==y&&4!==y)return i;const g=new Uint8Array(i),m=8/y,P=new Uint8Array(i.byteLength*m);let M=0;const S=2**y-1;for(let G=0;G<g.length;G++){const W=g[G];for(let z=0;z<m;z++)P[M++]=W<<y*z>>>8-y&S}return P.buffer}function I(i,y,g){const m=new Te.J;m.parse(i),m.colorTransform=6===g?-1:0;const P=m.getData(m.width,m.height,1!==y);return new Uint8Array(P.buffer)}function u(i){const y=new fe.Z(i).getBytes(),g=new ArrayBuffer(y.length),m=new Uint8Array(g);return m.set(y),m}function T(i,y,g,m,P){return b.apply(this,arguments)}function b(){return(b=(0,ne.Z)(function*(i,y,g,m,P){var le,pe;const M=R.f===y,S=Z(g,"BITSPERSAMPLE"),G=Z(g,"SAMPLESPERPIXEL"),W=Z(g,"PHOTOMETRICINTERPRETATION"),z=q(null!=(le=Z(g,"SAMPLEFORMAT"))?le:1,S),V=null!=(pe=Z(g,"COMPRESSION"))?pe:1,re=se(z);let he,ee,oe;if(34887===V)return yield(0,we.zD)(),E(i,m);if(1===V)he=i.slice(m,m+P),ee=new Uint8Array(he);else if(8===V||32946===V)ee=new Uint8Array(i,m,P),ee=u(ee),he=ee.buffer;else if(6===V)ee=new Uint8Array(i,m,P),ee=I(ee,G,W),he=ee.buffer;else if(7===V){const Y=g.get("JPEGTABLES").values,$=Y.length-2;ee=new Uint8Array($+P-2);for(let Ce=0;Ce<$;Ce++)ee[Ce]=Y[Ce];const ce=new Uint8Array(i,m+2,P-2);for(let Ce=0;Ce<ce.length;Ce++)ee[$+Ce]=ce[Ce];ee=I(ee,G,W),he=ee.buffer}else{if(5!==V)throw new Error("tiff-decode: unsupport compression "+V);ee=(0,ge.J)(i,m,P,y),he=ee.buffer}if(he=j(he,S),"u8"===z||"s8"===z||M)oe=new re(he);else{he=new ArrayBuffer(ee.length);const Y=new Uint8Array(he);switch(z){case"u16":case"s16":for(let $=0;$<ee.length;$+=2)Y[$]=ee[$+1],Y[$+1]=ee[$];break;case"u32":case"s32":case"f32":for(let $=0;$<ee.length;$+=4)Y[$]=ee[$+3],Y[$+1]=ee[$+2],Y[$+2]=ee[$+1],Y[$+3]=ee[$]}oe=new re(he)}return oe})).apply(this,arguments)}function c(i,y,g){return p.apply(this,arguments)}function p(){return(p=(0,ne.Z)(function*(i,y,g){var Ue;const m=ue(g,"TILEOFFSETS");if(void 0===m)return null;const P=ue(g,"TILEBYTECOUNTS"),{width:M,height:S,pixelType:G,tileWidth:W,tileHeight:z}=A([g]),V=U(g,y),re=Z(g,"SAMPLESPERPIXEL")||y.planes,he=M*S,ee=Z(g,"BITSPERSAMPLE"),oe=34887===(null!=(Ue=Z(g,"COMPRESSION"))?Ue:1),le=se(G),pe=[];for(let Ge=0;Ge<re;Ge++)pe.push(new le(he));let Y,$,ce,Ce,ye,be,_e,ve,Ee,Me,ke,Pe,Oe;const Be=Math.ceil(M/W);if(ee%8==0)if(oe&&V&&re>1){const Ge=Math.round(m.length/re);for(Y=0;Y<Ge;Y++){be=Math.floor(Y/Be)*z,_e=Y%Be*W,ve=be*M+_e;for(let Fe=0;Fe<re;Fe++){const Ve=Y*re+Fe;if(0!==P[Ve])for(ce=yield T(i,y.littleEndian,g,m[Ve],P[Ve]),Me=0,Ee=ve,Pe=Math.min(W,M-_e),ke=Math.min(z,S-be),Oe=pe[Fe],Ce=0;Ce<ke;Ce++)for(Ee=ve+Ce*M,Me=Ce*W,ye=0;ye<Pe;ye++,Ee++,Me++)Oe[Ee]=ce[Me]}}}else for(Y=0;Y<m.length;Y++)if(0!==P[Y])for(be=Math.floor(Y/Be)*z,_e=Y%Be*W,ve=be*M+_e,ce=yield T(i,y.littleEndian,g,m[Y],P[Y]),Me=0,Ee=ve,Pe=Math.min(W,M-_e),ke=Math.min(z,S-be),$=0;$<re;$++)if(Oe=pe[$],V||oe)for(Ce=0;Ce<ke;Ce++)for(Ee=ve+Ce*M,Me=W*z*$+Ce*W,ye=0;ye<Pe;ye++,Ee++,Me++)Oe[Ee]=ce[Me];else for(Ce=0;Ce<ke;Ce++)for(Ee=ve+Ce*M,Me=Ce*W*re+$,ye=0;ye<Pe;ye++,Ee++,Me+=re)Oe[Ee]=ce[Me];return{width:M,height:S,pixelType:G,pixels:pe}})).apply(this,arguments)}const x=(i,y,g)=>{var Pe;const m=R.f===y.littleEndian,P=ue(g,"STRIPOFFSETS");if(void 0===P)return null;const{width:M,height:S,pixelType:G}=A([g]),W=Z(g,"SAMPLESPERPIXEL")||y.planes,z=Z(g,"PHOTOMETRICINTERPRETATION"),V=M*S,re=Z(g,"BITSPERSAMPLE"),he=se(G),ee=new he(V*W),oe=ue(g,"STRIPBYTECOUNTS"),le=Z(g,"ROWSPERSTRIP"),pe=null!=(Pe=Z(g,"COMPRESSION"))?Pe:1;let Y,$,ce,Ce,ye,be,_e,ve,Ee,Me=le;if(re%8==0)for(Y=0;Y<P.length;Y++){if(ye=Y*(le*M)*W,Me=(Y+1)*le>S?S-Y*le:le,"u8"===G||"s8"===G||m)8===pe||32946===pe?(_e=new Uint8Array(i,P[Y],oe[Y]),_e=u(_e),be=_e.buffer):6===pe?(_e=new Uint8Array(i,P[Y],oe[Y]),_e=I(_e,W,z),be=_e.buffer):5===pe?(_e=(0,ge.J)(i,P[Y],oe[Y],y.littleEndian),be=_e.buffer):(oe[Y]!==Me*M*W*re/8&&console.log("strip byte counts is different than expected"),be=i.slice(P[Y],P[Y]+oe[Y])),be=j(be,re),Ce=new he(be);else{switch(6===pe||8===pe||32946===pe?(_e=new Uint8Array(i,P[Y],oe[Y]),ve=u(_e),be=ve.buffer):(oe[Y]!==Me*M*W*re/8&&console.log("strip byte counts is different than expected"),be=new ArrayBuffer(oe[Y]),_e=new Uint8Array(i,P[Y],oe[Y]),ve=new Uint8Array(be)),G){case"u16":case"s16":for(ce=0;ce<_e.length;ce+=2)ve[ce]=_e[ce+1],ve[ce+1]=_e[ce];break;case"u32":case"s32":case"f32":for(ce=0;ce<_e.length;ce+=4)ve[ce]=_e[ce+3],ve[ce+1]=_e[ce+2],ve[ce+2]=_e[ce+1],ve[ce+3]=_e[ce]}be=j(be,re),Ce=new he(be)}ee.set(Ce,ye)}const ke=[];if(1===W)ke.push(ee);else for(Y=0;Y<W;Y++){for(Ee=new he(V),$=0;$<V;$++)Ee[$]=ee[$*W+Y];ke.push(Ee)}return{width:M,height:S,pixelType:G,pixels:ke}},F=(i,y,g)=>{if(!(i&&i.length>0&&y&&g))return null;let m,P,M;const S=i[0].length,G=i.length,W=new Uint8Array(S);for(let z=0;z<G;z++)if(m=i[z],P=y[z],M=g[z],0===z)for(let V=0;V<S;V++)W[V]=m[V]<P||m[V]>M?0:1;else for(let V=0;V<S;V++)W[V]&&(W[V]=m[V]<P||m[V]>M?0:1);return W};function v(i,y,g,m=0,P=!1,M=4){if(g.values)return!0;const S=g.type,G=g.valueCount;let W=g.valueOffset,z=[];const V=me[S],re=8*V,he=G*V,ee=G*me[S]*8;let oe,le;const pe=8===M?64:32,Y=g.valueOffsets;if(ee>pe&&he>(P?i.byteLength:i?i.byteLength-W+m:0))return g.offlineOffsetSize=[W,he],g.values=null,!1;if(ee<=pe){if(!y)if(pe<=32)W>>>=32-ee;else{const $=null!=Y&&Y.length?Y[0]:W>>>0,ce=null!=Y&&Y.length?Y[1]:Math.round((W-$)/H);ee<=32?(W=$>>>32-ee,Y[0]=W):(W=$*2**(32-ee)+(ce>>>32-ee),Y[0]=$,Y[1]=ce>>>32-ee)}if(1===G&&re===pe)z=[W];else if(64===pe){const $=null!=Y&&Y.length?Y[0]:W>>>0,ce=null!=Y&&Y.length?Y[1]:Math.round((W-$)/H);let Ce=$,ye=32;for(le=1;le<=G;le++){const be=32-re*le%32;if(ye<re){const _e=Ce<<be>>>32-ye;Ce=ce,z.push(_e+(ce<<32-ye>>>32-ye)*2**(re-ye)),ye-=32-(re-ye)}else z.push(Ce<<be>>>32-re),ye-=re;0===ye&&(ye=32,Ce=ce)}}else for(le=1;le<=G;le++)z.push(W<<32-re*le>>>32-re)}else{W-=m,P&&(W=0);for(let $=W;$<W+he;$+=V){switch(S){case 1:case 2:case 7:oe=new DataView(i,$,1).getUint8(0);break;case 3:oe=new DataView(i,$,2).getUint16(0,y);break;case 4:case 13:oe=new DataView(i,$,4).getUint32(0,y);break;case 5:oe=new DataView(i,$,4).getUint32(0,y)/new DataView(i,$+4,4).getUint32(0,y);break;case 6:oe=new DataView(i,$,1).getInt8(0);break;case 8:oe=new DataView(i,$,2).getInt16(0,y);break;case 9:oe=new DataView(i,$,4).getInt32(0,y);break;case 10:oe=new DataView(i,$,4).getInt32(0,y)/new DataView(i,$+4,4).getInt32(0,y);break;case 11:oe=new DataView(i,$,4).getFloat32(0,y);break;case 12:oe=new DataView(i,$,8).getFloat64(0,y);break;case 16:case 18:oe=f(new DataView(i,$,8),0,y);break;case 17:oe=C(new DataView(i,$,8),0,y);break;default:oe=null}z.push(oe)}}if(2===S){let $="";const ce=z;for(z=[],le=0;le<ce.length;le++)0===ce[le]&&""!==$?(z.push($),$=""):$+=String.fromCharCode(ce[le]);""===$&&0!==z.length||z.push($)}return g.values=z,!0}function A(i){var ze,Je;const y=i[0],g=Z(y,"TILEWIDTH"),m=Z(y,"TILELENGTH"),P=Z(y,"IMAGEWIDTH"),M=Z(y,"IMAGELENGTH"),S=Z(y,"BITSPERSAMPLE"),G=Z(y,"SAMPLESPERPIXEL"),W=null!=(ze=Z(y,"SAMPLEFORMAT"))?ze:1,z=q(W,S),V=U(y),re=K(y,"GDAL_NODATA");let he=null;null!=re&&re.length&&(he=re.map(De=>parseFloat(De)),he.some(De=>isNaN(De))&&(he=null));const ee=null!=(Je=Z(y,"COMPRESSION"))?Je:1;let oe;switch(ee){case 1:oe="NONE";break;case 2:case 3:case 4:case 32771:oe="CCITT";break;case 5:oe="LZW";break;case 6:case 7:oe="JPEG";break;case 32773:oe="PACKBITS";break;case 8:case 32946:oe="DEFLATE";break;case 34712:oe="JPEG2000";break;case 34887:oe="LERC";break;default:oe=String(ee)}let le=!0,pe="";ae.has(ee)||(le=!1,pe+="unsupported tag compression "+ee),W>3&&(le=!1,pe+="unsupported tag sampleFormat "+W),1!==S&&2!==S&&4!==S&&S%8!=0&&(le=!1,pe+="unsupported tag bitsPerSample "+S);const Y=J(y,"GEOASCIIPARAMS");let $;if(Y){const De=Y.split("|").find(Ne=>Ne.includes("ESRI PE String = ")),Ie=De?De.replace("ESRI PE String = ",""):"";$=Ie.startsWith("COMPD_CS")||Ie.startsWith("PROJCS")||Ie.startsWith("GEOGCS")?{wkid:null,wkt:Ie}:null}const ce=ue(y,"GEOTIEPOINTS"),Ce=ue(y,"GEOPIXELSCALE"),ye=ue(y,"GEOTRANSMATRIX"),be=y.has("GEOKEYDIRECTORY")?y.get("GEOKEYDIRECTORY").data:null;let _e,ve,Ee=!1,Me=!1;if(be){Ee=2===Z(be,"GTRasterTypeGeoKey");const De=Z(be,"GTModelTypeGeoKey");if(2===De){const Ie=Z(be,"GeographicTypeGeoKey");Ie>=1024&&Ie<=32766&&($={wkid:Ie}),$||32767!==Ie||(Me=!0,$={wkid:4326})}else if(1===De){const Ie=Z(be,"ProjectedCSTypeGeoKey");Ie>=1024&&Ie<=32766&&($={wkid:Ie})}}if(Ce&&ce&&ce.length>=6?(_e=[Ce[0],0,ce[3]-ce[0]*Ce[0],0,-Math.abs(Ce[1]),ce[4]-ce[1]*Ce[1]],Ee&&(_e[2]-=.5*_e[0]+.5*_e[1],_e[5]-=.5*_e[3]+.5*_e[4])):ye&&16===ye.length&&(_e=Ee?[ye[0],ye[1],ye[3]-.5*ye[0],ye[4],ye[5],ye[7]-.5*ye[5]]:[ye[0],ye[1],ye[3],ye[4],ye[5],ye[7]]),_e){const De=[{x:0,y:M},{x:0,y:0},{x:P,y:M},{x:P,y:0}];let Ie,Ne=Number.POSITIVE_INFINITY,je=Number.POSITIVE_INFINITY,We=Number.NEGATIVE_INFINITY,Ke=Number.NEGATIVE_INFINITY;for(let Ze=0;Ze<De.length;Ze++)Ie=Q(De[Ze],_e),Ne=Ie.x>Ne?Ne:Ie.x,We=Ie.x<We?We:Ie.x,je=Ie.y>je?je:Ie.y,Ke=Ie.y<Ke?Ke:Ie.y;ve={xmin:Ne,xmax:We,ymin:je,ymax:Ke,spatialReference:$}}else ve={xmin:-.5,ymin:.5-M,xmax:P-.5,ymax:.5,spatialReference:$};Me&&(ve.xmax-ve.xmin>400||Math.max(Math.abs(ve.xmin),Math.abs(ve.xmax))>361)&&($=null,ve.spatialReference=null);const ke=B(i);let Pe,Oe,Be,Ue,Ge;if(ke.length>0){Be=Math.round(Math.log(P/Z(ke[0],"IMAGEWIDTH"))/Math.LN2);const De=ke[ke.length-1];Ue=Math.round(Math.log(P/Z(De,"IMAGEWIDTH"))/Math.LN2),Pe=Z(De,"TILEWIDTH"),Oe=Z(De,"TILELENGTH")}Pe=null!=Ue&&Ue>0?Pe||g:null,Oe=null!=Ue&&Ue>0?Oe||m:null,g&&(Ge=[{maxCol:Math.ceil(P/g)-1,maxRow:Math.ceil(M/m)-1,minRow:0,minCol:0}],ke.forEach(De=>{Ge.push({maxCol:Math.ceil(Z(De,"IMAGEWIDTH")/Z(De,"TILEWIDTH"))-1,maxRow:Math.ceil(Z(De,"IMAGELENGTH")/Z(De,"TILELENGTH"))-1,minRow:0,minCol:0})}));const Ve=(i=>{if(!i)return null;const y=i.match(/<Item(.*?)Item>/gi);if(!y||0===y.length)return null;const g=new Map;let m,P,M,S,G;for(let Y=0;Y<y.length;Y++)m=y[Y],P=m.slice(6,m.indexOf(">")),S=m.indexOf("sample="),S>-1&&(G=m.slice(S+8,m.indexOf('"',S+8))),S=m.indexOf("name="),S>-1&&(P=m.slice(S+6,m.indexOf('"',S+6))),P&&(M=m.slice(m.indexOf(">")+1,m.indexOf("</Item>")).trim(),null!=G?g.has(P)?g.get(P)[G]=M:g.set(P,[M]):g.set(P,M)),G=null;const W=g.get("STATISTICS_MINIMUM"),z=g.get("STATISTICS_MAXIMUM"),V=g.get("STATISTICS_MEAN"),re=g.get("STATISTICS_STDDEV");let he=null;if(W&&z){he=[];for(let Y=0;Y<W.length;Y++)he.push({min:parseFloat(W[Y]),max:parseFloat(z[Y]),avg:V&&parseFloat(V[Y]),stddev:re&&parseFloat(re[Y])})}const ee=g.get("BandName"),oe=g.get("WavelengthMin"),le=g.get("WavelengthMax");let pe=null;if(ee){pe=[];for(let Y=0;Y<ee.length;Y++)pe.push({BandName:ee[Y],WavelengthMin:oe&&parseFloat(oe[Y]),WavelengthMax:le&&parseFloat(le[Y])})}return{statistics:he,bandProperties:pe,dataType:g.get("DataType"),rawMetadata:g}})(J(i[0],"GDAL_METADATA"));return pe+=" "+t({width:P,height:M,tileWidth:g,tileHeight:m,planes:G,ifds:i}),{width:P,height:M,tileWidth:g,tileHeight:m,planes:G,isBSQ:V,pixelType:z,compression:oe,noData:he,hasMaskBand:N(i).length===ke.length+1,isSupported:le,message:pe,extent:ve,isPseudoGeographic:Me,affine:Ce?null:_e,firstPyramidLevel:Be,maximumPyramidLevel:Ue,pyramidBlockWidth:Pe,pyramidBlockHeight:Oe,tileBoundary:Ge,metadata:Ve}}function U(i,y){const g=K(i,"PLANARCONFIGURATION");return g?2===g[0]:!!y&&y.isBSQ}function B(i){return i.filter(y=>1===Z(y,"NEWSUBFILETYPE"))}function N(i){return i.filter(y=>{var P;const g=4==(4&(null!=(P=Z(y,"NEWSUBFILETYPE"))?P:0)),m=4===Z(y,"PHOTOMETRICINTERPRETATION");return g&&m})}function O(i){const{littleEndian:y,isBigTiff:g,firstIFDPos:m}=s(i);let P=m;const M=[];do{const S=h(i,y,P,0,ie.Z.TIFF_TAGS,g?8:4);if(!S.success)break;M.push(S.ifd),P=S.nextIFD}while(P>0);return Le(Re({},A(M)),{littleEndian:y,isBigTiff:g,ifds:M,pyramidIFDs:B(M),maskIFDs:N(M)})}function f(i,y,g){const m=i.getUint32(y,g),P=i.getUint32(y+4,g);return g?P*H+m:m*H+P}function C(i,y,g){let m=g?i.getInt32(y,g):i.getUint32(y,g),P=g?i.getUint32(y+4,g):i.getInt32(y+4,g);const M=(g?m:P)>=0?1:-1;return g?m*=M:P*=M,M*(g?P*H+m:m*H+P)}function d(i,y,g,m){return m?f(i,y,g):i.getUint32(y,g)}function s(i){const y=new DataView(i,0,16),g=y.getUint16(0,!1);let m=null;if(18761===g)m=!0;else{if(19789!==g)throw new Error("unexpected endianess byte");m=!1}const P=y.getUint16(2,m);if(42!==P&&43!==P)throw new Error("unexpected tiff identifier");let M=4;const S=43===P;if(S){const G=y.getUint16(M,m);if(M+=2,8!==G)throw new Error("unsupported bigtiff version");if(0!==y.getUint16(M,m))throw new Error("unsupported bigtiff version");M+=2}return{littleEndian:m,isBigTiff:S,firstIFDPos:d(y,M,m,S)}}function h(i,y,g,m=0,P=ie.Z.TIFF_TAGS,M=4){const S=X(i,y,g,m,P,M);let G;const W=S.ifd;if(W){if(ie.Z.ifdTags.forEach((z,V)=>{W.has(V)&&(G=W.get(V),G.data=X(i,y,G.valueOffset-m,m,z).ifd)}),W.has("GEOKEYDIRECTORY")){G=W.get("GEOKEYDIRECTORY");const z=G.values;if(z&&z.length>4){const V=z[0]+"."+z[1]+"."+z[2];G.data=X(i,y,G.valueOffset+6-m,m,ie.Z.GEO_KEYS,2).ifd,G.data&&G.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[V]})}}if(W.has("XMP")){G=W.get("XMP");const z=G.values;"number"==typeof z[0]&&7===G.type&&(G.values=[(0,xe.f)(new Uint8Array(z))])}}return S}function t(i){const{width:y,height:g,tileHeight:m,tileWidth:P}=i,M=i.planes,S=P?P*m:y*g,G=Z(i.ifds[0],"BITSPERSAMPLE");let W="";return S*M>2**30/(G>8?G/8:1)&&(W=P?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),W}function _(i,y){return w.apply(this,arguments)}function w(){return(w=(0,ne.Z)(function*(i,y){var Ee,Me;const{headerInfo:g,ifd:m,offsets:P,sizes:M}=y,S=[];for(let ke=0;ke<P.length;ke++){const Pe=yield T(i,g.littleEndian,m,P[ke],M[ke]||i.byteLength);S.push(Pe)}const G=U(m,g),W=Z(m,"BITSPERSAMPLE"),z=q(null!=(Ee=Z(m,"SAMPLEFORMAT"))?Ee:1,W),V=Z(m,"SAMPLESPERPIXEL")||g.planes,re=se(z),he=Z(m,"TILEWIDTH"),ee=Z(m,"TILELENGTH"),oe=null!=(Me=Z(m,"COMPRESSION"))?Me:1,le=he*ee;let pe;const Y=[];let $=S[0];const ce=34887===oe;for(let ke=0;ke<V;ke++){if(pe=new re(le),G&&ce){if($=S[ke],$.length)for(let Pe=0;Pe<le;Pe++)pe[Pe]=$[ke][Pe+ke]}else if($.length)if(G||ce&&!G)pe=$.slice(le*ke,le*(ke+1));else for(let Pe=0;Pe<le;Pe++)pe[Pe]=$[Pe*V+ke];Y.push(pe)}const Ce=g.noData?g.noData[0]:y.noDataValue,ye=g.metadata?g.metadata.statistics:null,be=ye?ye.map(ke=>ke.min):null,_e=ye?ye.map(ke=>ke.max):null,ve={pixelType:z,width:he,height:ee,pixels:Y,noDataValue:Ce};return null!=Ce?(0,de.A)(ve,Ce):be&&_e&&y.applyMinMaxConstraint&&(ve.mask=F(Y,be,_e)),ve})).apply(this,arguments)}function k(i){return L.apply(this,arguments)}function L(){return(L=(0,ne.Z)(function*(i,y={}){const g=y.pyramidLevel||0,m=y.headerInfo||O(i),{ifds:P,noData:M}=m;if(0===P.length)throw new Error("no valid image file directory");const S=t(m);if(S)throw S;let G=null;const W=-1===g?P[P.length-1]:P[g],z=null!=M?M:y.noDataValue;return G=m.tileWidth?yield c(i,m,W):yield x(i,m,W),G&&(null!=z&&(0,de.A)(G,z),G)})).apply(this,arguments)}},635:(Se,Ae,te)=>{te.d(Ae,{Z:()=>ie});const ne=(()=>{const R=[];return R[254]="NEWSUBFILETYPE",R[255]="SUBFILETYPE",R[256]="IMAGEWIDTH",R[257]="IMAGELENGTH",R[258]="BITSPERSAMPLE",R[259]="COMPRESSION",R[262]="PHOTOMETRICINTERPRETATION",R[263]="THRESHHOLDING",R[264]="CELLWIDTH",R[265]="CELLLENGTH",R[266]="FILLORDER",R[269]="DOCUMENTNAME",R[270]="IMAGEDESCRIPTION",R[271]="MAKE",R[272]="MODEL",R[273]="STRIPOFFSETS",R[274]="ORIENTATION",R[277]="SAMPLESPERPIXEL",R[278]="ROWSPERSTRIP",R[279]="STRIPBYTECOUNTS",R[280]="MINSAMPLEVALUE",R[281]="MAXSAMPLEVALUE",R[282]="XRESOLUTION",R[283]="YRESOLUTION",R[284]="PLANARCONFIGURATION",R[285]="PAGENAME",R[286]="XPOSITION",R[287]="YPOSITION",R[288]="FREEOFFSETS",R[289]="FREEBYTECOUNTS",R[290]="GRAYRESPONSEUNIT",R[291]="GRAYRESPONSECURVE",R[292]="T4OPTIONS",R[293]="T6OPTIONS",R[296]="RESOLUTIONUNIT",R[297]="PAGENUMBER",R[300]="COLORRESPONSEUNIT",R[301]="TRANSFERFUNCTION",R[305]="SOFTWARE",R[306]="DATETIME",R[315]="ARTIST",R[316]="HOSTCOMPUTER",R[317]="PREDICTOR",R[318]="WHITEPOINT",R[319]="PRIMARYCHROMATICITIES",R[320]="COLORMAP",R[321]="HALFTONEHINTS",R[322]="TILEWIDTH",R[323]="TILELENGTH",R[324]="TILEOFFSETS",R[325]="TILEBYTECOUNTS",R[326]="BADFAXLINES",R[327]="CLEANFAXDATA",R[328]="CONSECUTIVEBADFAXLINES",R[330]="SUBIFD",R[332]="INKSET",R[333]="INKNAMES",R[334]="NUMBEROFINKS",R[336]="DOTRANGE",R[337]="TARGETPRINTER",R[338]="EXTRASAMPLES",R[339]="SAMPLEFORMAT",R[340]="SMINSAMPLEVALUE",R[341]="SMAXSAMPLEVALUE",R[342]="TRANSFERRANGE",R[347]="JPEGTABLES",R[512]="JPEGPROC",R[513]="JPEGIFOFFSET",R[514]="JPEGIFBYTECOUNT",R[515]="JPEGRESTARTINTERVAL",R[517]="JPEGLOSSLESSPREDICTORS",R[518]="JPEGPOINTTRANSFORM",R[519]="JPEGQTABLES",R[520]="JPEGDCTABLES",R[521]="JPEGACTABLES",R[529]="YCBCRCOEFFICIENTS",R[530]="YCBCRSUBSAMPLING",R[531]="YCBCRPOSITIONING",R[532]="REFERENCEBLACKWHITE",R[700]="XMP",R[33550]="GEOPIXELSCALE",R[33922]="GEOTIEPOINTS",R[33432]="COPYRIGHT",R[42112]="GDAL_METADATA",R[42113]="GDAL_NODATA",R[50844]="RPCCOEFFICIENT",R[34264]="GEOTRANSMATRIX",R[34735]="GEOKEYDIRECTORY",R[34736]="GEODOUBLEPARAMS",R[34737]="GEOASCIIPARAMS",R[34665]="EXIFIFD",R[34853]="GPSIFD",R[40965]="INTEROPERABILITYIFD",R})(),xe=(()=>{const R=ne.slice();return R[36864]="ExifVersion",R[40960]="FlashpixVersion",R[40961]="ColorSpace",R[42240]="Gamma",R[37121]="ComponentsConfiguration",R[37122]="CompressedBitsPerPixel",R[40962]="PixelXDimension",R[40963]="PixelYDimension",R[37500]="MakerNote",R[37510]="UserComment",R[40964]="RelatedSoundFile",R[36867]="DateTimeOriginal",R[36868]="DateTimeDigitized",R[36880]="OffsetTime",R[36881]="OffsetTimeOriginal",R[36882]="OffsetTimeDigitized",R[37520]="SubSecTime",R[37521]="SubSecTimeOriginal",R[37522]="SubSecTimeDigitized",R[37888]="Temperature",R[37889]="Humidity",R[37890]="Pressure",R[37891]="WaterDepth",R[37892]="Acceleration",R[37893]="CameraElevationAngle",R[42016]="ImageUniqueID",R[42032]="CameraOwnerName",R[42033]="BodySerialNumber",R[42034]="LensSpecification",R[42035]="LensMake",R[42036]="LensModel",R[42037]="LensSerialNumber",R[33434]="ExposureTime",R[33437]="FNumber",R[34850]="ExposureProgram",R[34852]="SpectralSensitivity",R[34855]="PhotographicSensitivity",R[34856]="OECF",R[34864]="SensitivityType",R[34865]="StandardOutputSensitivity",R[34866]="RecommendedExposureIndex",R[34867]="ISOSpeed",R[34868]="ISOSpeedLatitudeyyy",R[34869]="ISOSpeedLatitudezzz",R[37377]="ShutterSpeedValue",R[37378]="ApertureValue",R[37379]="BrightnessValue",R[37380]="ExposureBiasValue",R[37381]="MaxApertureValue",R[37382]="SubjectDistance",R[37383]="MeteringMode",R[37384]="LightSource",R[37385]="Flash",R[37386]="FocalLength",R[37396]="SubjectArea",R[41483]="FlashEnergy",R[41484]="SpatialFrequencyResponse",R[41486]="FocalPlaneXResolution",R[41487]="FocalPlaneYResolution",R[41488]="FocalPlaneResolutionUnit",R[41492]="SubjectLocation",R[41493]="ExposureIndex",R[41495]="SensingMethod",R[41728]="FileSource",R[41729]="SceneType",R[41730]="CFAPattern",R[41985]="CustomRendered",R[41986]="ExposureMode",R[41987]="WhiteBalance",R[41988]="DigitalZoomRatio",R[41989]="FocalLengthIn35mmFilm",R[41990]="SceneCaptureType",R[41991]="GainControl",R[41992]="Contrast",R[41993]="Saturation",R[41994]="Sharpness",R[41995]="DeviceSettingDescription",R[41996]="SubjectDistanceRange",R})(),we=(()=>{const R=[];return R[1024]="GTModelTypeGeoKey",R[1025]="GTRasterTypeGeoKey",R[1026]="GTCitationGeoKey",R[2048]="GeographicTypeGeoKey",R[2049]="GeogCitationGeoKey",R[2050]="GeogGeodeticDatumGeoKey",R[2051]="GeogPrimeMeridianGeoKey",R[2052]="GeogLinearUnitsGeoKey",R[2053]="GeogLinearUnitSizeGeoKey",R[2054]="GeogAngularUnitsGeoKey",R[2055]="GeogAngularUnitSizeGeoKey",R[2056]="GeogEllipsoidGeoKey",R[2057]="GeogSemiMajorAxisGeoKey",R[2058]="GeogSemiMinorAxisGeoKey",R[2059]="GeogInvFlatteningGeoKey",R[2061]="GeogPrimeMeridianLongGeoKey",R[2060]="GeogAzimuthUnitsGeoKey",R[3072]="ProjectedCSTypeGeoKey",R[3073]="PCSCitationGeoKey",R[3074]="ProjectionGeoKey",R[3075]="ProjCoordTransGeoKey",R[3076]="ProjLinearUnitsGeoKey",R[3077]="ProjLinearUnitSizeGeoKey",R[3078]="ProjStdParallel1GeoKey",R[3079]="ProjStdParallel2GeoKey",R[3080]="ProjNatOriginLongGeoKey",R[3081]="ProjNatOriginLatGeoKey",R[3082]="ProjFalseEastingGeoKey",R[3083]="ProjFalseNorthingGeoKey",R[3084]="ProjFalseOriginLongGeoKey",R[3085]="ProjFalseOriginLatGeoKey",R[3086]="ProjFalseOriginEastingGeoKey",R[3087]="ProjFalseOriginNorthingGeoKey",R[3088]="ProjCenterLongGeoKey",R[3090]="ProjCenterEastingGeoKey",R[3091]="ProjCenterNorthingGeoKey",R[3092]="ProjScaleAtNatOriginGeoKey",R[3093]="ProjScaleAtCenterGeoKey",R[3094]="ProjAzimuthAngleGeoKey",R[3095]="ProjStraightVertPoleLongGeoKey",R[4096]="VerticalCSTypeGeoKey",R[4097]="VerticalCitationGeoKey",R[4098]="VerticalDatumGeoKey",R[4099]="VerticalUnitsGeoKey",R})(),de=new Map;de.set("EXIFIFD",xe),de.set("GPSIFD",["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"]);const ie={TIFF_TAGS:ne,ifdTags:de,GEO_KEYS:we,getTagName:(R,fe)=>{let me=(fe||ne)[R];return void 0===me&&(me="unknown"+String(R)),me}}},67313:(Se,Ae,te)=>{te.d(Ae,{A:()=>ge,r:()=>we});const Te={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function we(de){var ie;return null!=(ie=Te[de])?ie:[-34028234663852886e22,34028234663852886e22]}function ge(de,ie,R){var J,Z,X,E;if(de.depthCount&&de.depthCount>1)return;const{pixels:fe,statistics:me,pixelType:H}=de,ae=fe[0].length,q=null!=(J=de.bandMasks)?J:[],se=null!=(Z=de.mask)?Z:new Uint8Array(ae).fill(255),Q="f32"===H||"f64"===H,K=we(H);let ue=!1;for(let j=0;j<fe.length;j++){const I="number"==typeof ie?ie:ie[j];if(null==I)continue;const u=null!=(X=null==me?void 0:me[j].minValue)?X:K[0],T=null!=(E=null==me?void 0:me[j].maxValue)?E:K[1];if(u>I+Number.EPSILON||T<I-Number.EPSILON)continue;const b=q[j]||new Uint8Array(ae).fill(255),c=fe[j],p=null==R?void 0:R.customFloatTolerance;if(Q&&0!==p){let x=p;x||(x=Math.abs(I)>=9999999e31?2e-7*Math.abs(I):"f32"===H?2**-23:Number.EPSILON);for(let F=0;F<c.length;F++)b[F]&&Math.abs(c[F]-I)<x&&(c[F]=0,b[F]=0,se[F]=0,ue=!0)}else for(let x=0;x<c.length;x++)b[x]&&c[x]===I&&(c[x]=0,b[x]=0,se[x]=0,ue=!0);q[j]=b}ue&&(de.bandMasks=q,de.mask=se),ue&&"updateStatistics"in de&&de.updateStatistics()}},44853:(Se,Ae,te)=>{te.d(Ae,{f:()=>ne});const ne=(()=>{const xe=new ArrayBuffer(4),Te=new Uint8Array(xe);return new Uint32Array(xe)[0]=1,1===Te[0]})()},79751:(Se,Ae,te)=>{te.d(Ae,{CD:()=>ge,DX:()=>we,Gd:()=>fe,Pz:()=>me,Qh:()=>N,SJ:()=>H,Uk:()=>O,Vl:()=>U,XV:()=>ae,a2:()=>Q,hd:()=>de,nA:()=>E,nk:()=>ie,oB:()=>X,pW:()=>c,qF:()=>R,sS:()=>Z,us:()=>T,wV:()=>q,zp:()=>se});var we,ge,f,ne=te(62208),xe=te(25688),Te=te(67313);(f=we||(we={}))[f.matchAny=0]="matchAny",f[f.matchAll=1]="matchAll",function(f){f[f.bestMatch=0]="bestMatch",f[f.fail=1]="fail"}(ge||(ge={}));const de=6;function ie(f){return(0,ne.pC)(f)&&"esri.layers.support.PixelBlock"===f.declaredClass&&f.pixels&&f.pixels.length>0}function R(f,C){if(null==C||!C.length||!ie(f))return f;const d=f.pixels.length;return C&&C.some(s=>s>=d)||1===d&&1===C.length&&0===C[0]?f:d!==C.length||C.some((s,h)=>s!==h)?new xe.Z({pixelType:f.pixelType,width:f.width,height:f.height,mask:f.mask,validPixelCount:f.validPixelCount,maskIsAlpha:f.maskIsAlpha,pixels:C.map(s=>f.pixels[s]),statistics:f.statistics&&C.map(s=>f.statistics[s])}):f}function fe(f){if(null==f||!f.length||f.some(i=>!ie(i)))return null;if(1===f.length)return(0,ne.pC)(f[0])?f[0].clone():null;const C=f,{width:d,height:s,pixelType:h}=C[0];if(C.some(i=>i.width!==d||i.height!==s))return null;const t=C.map(({mask:i})=>i).filter(i=>null!=i);let _=null;t.length&&(_=new Uint8Array(d*s),_.set(t[0]),t.length>1&&J(t.slice(1),_));const w=[];C.forEach(({pixels:i})=>w.push(...i));const k=C.map(({statistics:i})=>i).filter(i=>null==i?void 0:i.length),L=[];return k.forEach(i=>L.push(...i)),new xe.Z({pixelType:h,width:d,height:s,mask:_,pixels:w,statistics:L.length?L:null})}function me(f){if(!f)return;const C=f.colormap;if(!C||0===C.length)return;const d=C.sort((y,g)=>y[0]-g[0]);let s=0;d[0][0]<0&&(s=d[0][0]);const h=Math.max(256,d[d.length-1][0]-s+1),t=new Uint8Array(4*h),_=[];let w,k=0,L=0;const i=5===d[0].length;if(h>65536)return d.forEach(y=>{_[y[0]-s]=i?y.slice(1):y.slice(1).concat([255])}),{indexed2DColormap:_,offset:s,alphaSpecified:i};if(f.fillUnspecified)for(w=d[L],k=w[0]-s;k<h;k++)t[4*k]=w[1],t[4*k+1]=w[2],t[4*k+2]=w[3],t[4*k+3]=i?w[4]:255,k===w[0]-s&&(w=L===d.length-1?w:d[++L]);else for(k=0;k<d.length;k++)w=d[k],L=4*(w[0]-s),t[L]=w[1],t[L+1]=w[2],t[L+2]=w[3],t[L+3]=i?w[4]:255;return{indexedColormap:t,offset:s,alphaSpecified:i}}function H(f,C){if(!ie(f)||!C||!C.indexedColormap&&!C.indexed2DColormap)return f;const d=f.clone(),s=d.pixels;let h=d.mask;const t=d.width*d.height;if(1!==s.length)return f;const{indexedColormap:_,indexed2DColormap:w,offset:k,alphaSpecified:L}=C;let i=0;const y=s[0],g=new Uint8Array(y.length),m=new Uint8Array(y.length),P=new Uint8Array(y.length);let M,S=0;if(_){const G=_.length-1;if((0,ne.pC)(h))for(i=0;i<t;i++)h[i]&&(S=4*(y[i]-k),S<k||S>G?h[i]=0:(g[i]=_[S],m[i]=_[S+1],P[i]=_[S+2],h[i]=_[S+3]));else{for(h=new Uint8Array(t),i=0;i<t;i++)S=4*(y[i]-k),S<k||S>G?h[i]=0:(g[i]=_[S],m[i]=_[S+1],P[i]=_[S+2],h[i]=_[S+3]);d.mask=h}}else if(w)if((0,ne.pC)(h))for(i=0;i<t;i++)h[i]&&(M=w[y[i]],g[i]=M[0],m[i]=M[1],P[i]=M[2],h[i]=M[3]);else{for(h=new Uint8Array(t),i=0;i<t;i++)M=w[y[i]],g[i]=M[0],m[i]=M[1],P[i]=M[2],h[i]=M[3];d.mask=h}return d.pixels=[g,m,P],d.statistics=null,d.pixelType="u8",d.maskIsAlpha=L,d}function ae(f,C){if(!ie(f))return null;const{pixels:d,mask:s}=f,h=d.length;let t=C.lut;const{offset:_}=C;t&&1===t[0].length&&(t=d.map(()=>t));const w=[],k=C.outputPixelType||"u8";for(let i=0;i<h;i++){const y=q(d[i],s,t[i],_||0,k);w.push(y)}const L=new xe.Z({width:f.width,height:f.height,pixels:w,mask:s,pixelType:k});return L.updateStatistics(),L}function q(f,C,d,s,h){const t=f.length,_=xe.Z.createEmptyBand(h,t);if(C)for(let w=0;w<t;w++)C[w]&&(_[w]=d[f[w]-s]);else for(let w=0;w<t;w++)_[w]=d[f[w]-s];return _}function se(f,C){if(!ie(f))return null;const d=f.clone(),{pixels:s}=d,h=d.width*d.height,t=C.length,_=Math.floor(t/2),w=C[Math.floor(_)],k=s[0];let L,i,y,g,m,P,M=!1;const S=new Uint8Array(h),G=new Uint8Array(h),W=new Uint8Array(h);let z=d.mask;const V=4===C[0].mappedColor.length;for(z||(z=new Uint8Array(h),z.fill(V?255:1),d.mask=z),m=0;m<h;m++)if(z[m]){for(L=k[m],M=!1,P=_,i=w,y=0,g=t-1;g-y>1;){if(L===i.value){M=!0;break}L>i.value?y=P:g=P,P=Math.floor((y+g)/2),i=C[Math.floor(P)]}M||(L===C[y].value?(i=C[y],M=!0):L===C[g].value?(i=C[g],M=!0):L<C[y].value?(M=!1,i=null):L>C[y].value&&(L<C[g].value?(i=C[y],M=!0):g===t-1?(M=!1,i=null):(i=C[g],M=!0))),M?(S[m]=i.mappedColor[0],G[m]=i.mappedColor[1],W[m]=i.mappedColor[2],z[m]=i.mappedColor[3]):S[m]=G[m]=W[m]=z[m]=0}return d.pixels=[S,G,W],d.mask=z,d.pixelType="u8",d.maskIsAlpha=V,d}function Q(f,C){if(!ie(f))return null;const{width:d,height:s}=f,{inputRanges:h,outputValues:t,outputPixelType:_,noDataRanges:w,allowUnmatched:k,isLastInputRangeInclusive:L}=C,i=f.pixels[0],y=xe.Z.createEmptyBand(_,i.length),g=f.mask,m=new Uint8Array(d*s);g?m.set(g):m.fill(255);const P=f.pixelType.startsWith("f")?1e-6:0,M=h.map(z=>z-P);M[0]=h[0],M[M.length-1]=h[h.length-1]+(L?1e-6:0);const S=h.length/2,[G,W]=(0,Te.r)(_);for(let z=0;z<s;z++)for(let V=0;V<d;V++){const re=z*d+V;if(m[re]){const he=i[re];let ee=!1;for(let oe=S-1;oe>=0;oe--)if(he===M[2*oe]||he>M[2*oe]&&he<M[2*oe+1]){y[re]=t[oe],ee=!0;break}ee||(k?y[re]=he>W?W:he<G?G:he:m[re]=0)}}if(null!=w&&w.length)for(let z=0;z<s;z++)for(let V=0;V<d;V++){const re=z*d+V;if(!g||g[re]){const he=i[re];for(let ee=0;ee<S;ee+=2)if(he>=w[ee]&&he<=w[ee+1]){y[re]=0,m[re]=0;break}}}return new xe.Z({width:d,height:s,pixelType:_,pixels:[y],mask:m})}function K(f,C,d,s){const h=null!=d&&d.length>=2?new Set(d):null,t=1===(null==d?void 0:d.length)?d[0]:null,_=!(null==C||!C.length);for(let w=0;w<f.length;w++)if(s[w]){const k=f[w];if(_){let L=!1;for(let i=0;i<C.length;i+=2)if(k>=C[i]&&k<=C[i+1]){L=!0;break}L||(s[w]=0)}s[w]&&(k===t||(null==h?void 0:h.has(k)))&&(s[w]=0)}}function ue(f,C){const d=f[0].length;for(let s=0;s<d;s++)if(C[s]){let h=!1;for(let t=0;t<f.length;t++)if(f[t][s]){h=!0;break}h||(C[s]=0)}}function J(f,C){const d=f[0].length;for(let s=0;s<d;s++)if(C[s]){let h=!1;for(let t=0;t<f.length;t++)if(0===f[t][s]){h=!0;break}h&&(C[s]=0)}}function Z(f,C){if(!ie(f))return null;const{width:d,height:s,pixels:h}=f,t=d*s,_=new Uint8Array(t);f.mask?_.set(f.mask):_.fill(255);const w=h.length,{includedRanges:k,noDataValues:L,outputPixelType:i,matchAll:y,lookups:g}=C;if(g){const m=[];for(let P=0;P<w;P++){const M=g[P],S=q(h[P],_,M.lut,M.offset||0,"u8");m.push(S)}1===m.length?_.set(m[0]):y?ue(m,_):J(m,_)}else if(y){const m=[];for(let P=0;P<w;P++){const M=new Uint8Array(t);M.set(_),K(h[P],null==k?void 0:k.slice(2*P,2*P+2),null==L?void 0:L[P],M),m.push(M)}1===m.length?_.set(m[0]):ue(m,_)}else for(let m=0;m<w;m++)K(h[m],null==k?void 0:k.slice(2*m,2*m+2),null==L?void 0:L[m],_);return new xe.Z({width:d,height:s,pixelType:i,pixels:h,mask:_})}function X(f){const{srcPixelType:C,inputRanges:d,outputValues:s,allowUnmatched:h,noDataRanges:t,isLastInputRangeInclusive:_,outputPixelType:w}=f;if("u8"!==C&&"s8"!==C&&"u16"!==C&&"s16"!==C)return null;const k=C.includes("16")?65536:256,L=C.includes("s")?-k/2:0,i=xe.Z.createEmptyBand(w,k),y=new Uint8Array(k);h&&y.fill(255);const[g,m]=(0,Te.r)(w);if((null==d?void 0:d.length)&&(null==s?void 0:s.length)){const M=d.map(S=>S-1e-6);M[0]=d[0],_&&(M[M.length-1]=d[d.length-1]);for(let S=0;S<M.length;S++){const G=s[S]>m?m:s[S]<g?g:s[S],W=Math.ceil(M[2*S]-L),z=Math.floor(M[2*S+1]-L);for(let V=W;V<=z;V++)i[V]=G,y[V]=255}}if(null!=t&&t.length)for(let P=0;P<t.length;P++){const M=Math.ceil(t[2*P]-L),S=Math.floor(t[2*P+1]-L);for(let G=M;G<=S;G++)y[G]=0}return{lut:i,offset:L,mask:y}}function E(f,C,d){if("u8"!==f&&"s8"!==f&&"u16"!==f&&"s16"!==f)return null;const s=f.includes("16")?65536:256,h=f.includes("s")?-s/2:0,t=new Uint8Array(s);if(C)for(let _=0;_<C.length;_++){const w=Math.ceil(C[2*_]-h),k=Math.floor(C[2*_+1]-h);for(let L=w;L<=k;L++)t[L]=255}else t.fill(255);if(d)for(let _=0;_<d.length;_++)t[d[_]-h]=0;return{lut:t,offset:h}}function u(f,C,d,s,h,t){var M;const{width:_,height:w}=d.block,{x:k,y:L}=d.offset,{width:i,height:y}=d.mosaic,g=function j(f,C,d,s,h,t,_,w){return{xmin:h<=d*f?0:h<d*f+f?h-d*f:f,ymin:t<=s*C?0:t<s*C+C?t-s*C:C,xmax:h+_<=d*f?0:h+_<d*f+f?h+_-d*f:f,ymax:t+w<=s*C?0:t+w<s*C+C?t+w-s*C:C}}(_,w,s,h,k,L,i,y);let m=0,P=0;if(t){const S=t.hasGCSSShiftTransform?360:null!=(M=t.halfWorldWidth)?M:0,G=_*t.resolutionX,W=t.startX+s*G;W<S&&W+G>S?P=t.rightPadding:W>=S&&(m=t.leftMargin-t.rightPadding,P=0)}if(g.xmax-=P,"number"!=typeof C)for(let S=g.ymin;S<g.ymax;S++){const G=(h*w+S-L)*i+(s*_-k)+m,W=S*_;for(let z=g.xmin;z<g.xmax;z++)f[G+z]=C[W+z]}else for(let S=g.ymin;S<g.ymax;S++){const G=(h*w+S-L)*i+(s*_-k)+m;for(let W=g.xmin;W<g.xmax;W++)f[G+W]=C}}function T(f,C,d={}){const{clipOffset:s,clipSize:h,alignmentInfo:t,blockWidths:_}=d;if(_)return function b(f,C,d){const s=f.find(m=>(0,ne.pC)(m));if((0,ne.Wi)(s))return null;const h=f.some(m=>!(0,ne.pC)(m)||!!m.mask),{width:t,height:_}=C,w=h?new Uint8Array(t*_):null,{blockWidths:k}=d,L=[],i=s.getPlaneCount(),y=xe.Z.getPixelArrayConstructor(s.pixelType);if(h)for(let m=0,P=0;m<f.length;P+=k[m],m++){const M=f[m];if(!ie(M))continue;const S=(0,ne.Wg)(M.mask);for(let G=0;G<_;G++)for(let W=0;W<k[m];W++)w[G*t+W+P]=null==S?255:S[G*M.width+W]}for(let m=0;m<i;m++){const P=new y(t*_);for(let M=0,S=0;M<f.length;S+=k[M],M++){const G=f[M];if(!ie(G))continue;const W=G.pixels[m];if(null!=W)for(let z=0;z<_;z++)for(let V=0;V<k[M];V++)P[z*t+V+S]=W[z*G.width+V]}L.push(P)}const g=new xe.Z({width:t,height:_,mask:w,pixels:L,pixelType:s.pixelType});return g.updateStatistics(),g}(f,C,{blockWidths:_});const w=f.find(ee=>ie(ee));if((0,ne.Wi)(w))return null;const k=h?h.width:C.width,L=h?h.height:C.height,i=w.width,y=w.height,g=C.width/i,m=C.height/y,P={offset:s||{x:0,y:0},mosaic:h||C,block:{width:i,height:y}},M=w.pixelType,S=xe.Z.getPixelArrayConstructor(M),G=w.pixels.length,W=[];let z,V,re;for(let ee=0;ee<G;ee++){V=new S(k*L);for(let oe=0;oe<m;oe++)for(let le=0;le<g;le++){const pe=f[oe*g+le];ie(pe)&&(z=pe.pixels[ee],u(V,z,P,le,oe,t))}W.push(V)}if(f.some(ee=>(0,ne.Wi)(ee)||(0,ne.pC)(ee.mask)&&ee.mask.length>0)){re=new Uint8Array(k*L);for(let ee=0;ee<m;ee++)for(let oe=0;oe<g;oe++){const le=f[ee*g+oe],pe=(0,ne.pC)(le)?le.mask:null;(0,ne.pC)(pe)?u(re,pe,P,oe,ee,t):u(re,le?1:0,P,oe,ee,t)}}const he=new xe.Z({width:k,height:L,pixels:W,pixelType:M,mask:re});return he.updateStatistics(),he}function c(f,C,d){if(!ie(f))return null;const{width:s,height:h}=f,t=C.x,_=C.y,w=d.width+t,k=d.height+_;if(t<0||_<0||w>s||k>h||0===t&&0===_&&w===s&&k===h)return f;f.mask||(f.mask=new Uint8Array(s*h));const L=f.mask;for(let i=0;i<h;i++){const y=i*s;for(let g=0;g<s;g++)L[y+g]=i<_||i>=k||g<t||g>=w?0:1}return f.updateStatistics(),f}function x(f){if(0===f.size)return 0;let C=0,d=-1,s=0;const h=f.keys();let t=h.next();for(;!t.done;)s=f.get(t.value),s>C&&(d=t.value,C=s),t=h.next();return d}function F(f,C,d){if(0===d)return;const s=f.get(C);1===s?f.delete(C):f.set(C,s-1)}function D(f,C,d){0!==d&&f.set(C,f.has(C)?f.get(C)+1:1)}function v(f,C,d){let{x:s,y:h}=C;const{width:t,height:_}=d;if(0===s&&0===h&&_===f.height&&t===f.width)return f;const{width:w,height:k}=f,L=Math.max(0,h),i=Math.max(0,s),y=Math.min(s+t,w),g=Math.min(h+_,k);if(y<0||g<0||!ie(f))return null;s=Math.max(0,-s),h=Math.max(0,-h);const{pixels:m}=f,P=t*_,M=m.length,S=[];for(let V=0;V<M;V++){const re=m[V],he=xe.Z.createEmptyBand(f.pixelType,P);for(let ee=L;ee<g;ee++){const oe=ee*w;let le=(ee+h-L)*t+s;for(let pe=i;pe<y;pe++)he[le++]=re[oe+pe]}S.push(he)}const G=new Uint8Array(P),W=(0,ne.Wg)(f.mask);for(let V=L;V<g;V++){const re=V*w;let he=(V+h-L)*t+s;for(let ee=i;ee<y;ee++)G[he++]=W?W[re+ee]:1}const z=new xe.Z({width:d.width,height:d.height,pixelType:f.pixelType,pixels:S,mask:G});return z.updateStatistics(),z}function A(f,C=!0){if(!ie(f))return null;const{pixels:d,width:s,height:h,mask:t,pixelType:_}=f,w=[],k=Math.round(s/2),L=Math.round(h/2),i=h-1,y=s-1;for(let m=0;m<d.length;m++){const P=d[m],M=xe.Z.createEmptyBand(_,k*L);let S=0;for(let G=0;G<h;G+=2)for(let W=0;W<s;W+=2){const z=P[G*s+W];if(C){const V=W===y?z:P[G*s+W+1],re=G===i?z:P[G*s+W+s];M[S++]=(z+V+re+(W===y?re:G===i?V:P[G*s+W+s+1]))/4}else M[S++]=z}w.push(M)}let g=null;if((0,ne.pC)(t)){g=new Uint8Array(k*L);let m=0;for(let P=0;P<h;P+=2)for(let M=0;M<s;M+=2){const S=t[P*s+M];if(C){const G=M===y?S:t[P*s+M+1],W=P===i?S:t[P*s+M+s];g[m++]=S*G*W*(M===y?W:P===i?G:t[P*s+M+s+1])?1:0}else g[m++]=S}}return new xe.Z({width:k,height:L,pixelType:_,pixels:w,mask:g})}function U(f,C,d){if(!ie(f))return null;const{width:s,height:h}=C;let{width:t,height:_}=f;const w=new Map,k={x:0,y:0},L=null==d?1:1+d;let i=f;for(let y=0;y<L;y++){const g=Math.ceil(t/s),m=Math.ceil(_/h);for(let P=0;P<m;P++){k.y=P*h;for(let M=0;M<g;M++){k.x=M*s;const S=v(i,k,C);w.set(`${y}/${P}/${M}`,S)}}y<L-1&&(i=A(i)),t=Math.round(t/2),_=Math.round(_/2)}return w}function B(f,C,d,s,h=0){const{width:t,height:_}=f,{width:w,height:k}=C,L=s.cols,i=s.rows,y=Math.ceil(w/L-.1/L),g=Math.ceil(k/i-.1/i);let m,P,M,S,G,W,z;const V=y*L,re=V*g*i,he=new Float32Array(re),ee=new Float32Array(re),oe=new Uint32Array(re),le=new Uint32Array(re);let pe,Y,$=0;for(let ce=0;ce<g;ce++)for(let Ce=0;Ce<y;Ce++){m=12*(ce*y+Ce),P=d[m],M=d[m+1],S=d[m+2],G=d[m+3],W=d[m+4],z=d[m+5];for(let ye=0;ye<i;ye++){$=(ce*i+ye)*V+Ce*L,Y=(ye+.5)/i;for(let be=0;be<ye;be++)pe=(be+.5)/L,he[$+be]=(P*pe+M*Y+S)*t+h,ee[$+be]=(G*pe+W*Y+z)*_+h,oe[$+be]=Math.floor(he[$+be]),le[$+be]=Math.floor(ee[$+be])}m+=6,P=d[m],M=d[m+1],S=d[m+2],G=d[m+3],W=d[m+4],z=d[m+5];for(let ye=0;ye<i;ye++){$=(ce*i+ye)*V+Ce*L,Y=(ye+.5)/i;for(let be=ye;be<L;be++)pe=(be+.5)/L,he[$+be]=(P*pe+M*Y+S)*t+h,ee[$+be]=(G*pe+W*Y+z)*_+h,oe[$+be]=Math.floor(he[$+be]),le[$+be]=Math.floor(ee[$+be])}}return{offsets_x:he,offsets_y:ee,offsets_xi:oe,offsets_yi:le,gridWidth:V}}function N(f,C){const{coefficients:d,spacing:s}=C,{offsets_x:h,offsets_y:t,gridWidth:_}=B(f,f,d,{rows:s[0],cols:s[1]}),{width:w,height:k}=f,L=new Float32Array(w*k),i=180/Math.PI;for(let y=0;y<k;y++)for(let g=0;g<w;g++){const m=y*_+g,P=0===y?m:m-_,M=y===k-1?m:m+_,S=h[P]-h[M],G=t[M]-t[P];if(isNaN(S)||isNaN(G))L[y*w+g]=90;else{let W=Math.atan2(G,S)*i;W=(360+W)%360,L[y*w+g]=W}}return L}function O(f,C,d,s,h="nearest"){if(!ie(f))return null;"majority"===h&&(f=function p(f){if(!ie(f))return null;const C=f.clone(),{width:d,height:s,pixels:h}=f,t=h[0],_=C.pixels[0],w=(0,ne.Wg)(f.mask);for(let k=2;k<s-1;k++){const L=new Map;for(let y=k-2;y<k+2;y++)for(let g=0;g<4;g++){const m=y*d+g;D(L,t[m],w?w[m]:1)}_[k*d]=x(L),_[k*d+1]=_[k*d+2]=_[k*d];let i=3;for(;i<d-1;i++){let y=(k-2)*d+i+1;D(L,t[y],w?w[y]:1),y=(k-1)*d+i+1,D(L,t[y],w?w[y]:1),y=k*d+i+1,D(L,t[y],w?w[y]:1),y=(k+1)*d+i+1,D(L,t[y],w?w[y]:1),y=(k-2)*d+i-3,F(L,t[y],w?w[y]:1),y=(k-1)*d+i-3,F(L,t[y],w?w[y]:1),y=k*d+i-3,F(L,t[y],w?w[y]:1),y=(k+1)*d+i-3,F(L,t[y],w?w[y]:1),_[k*d+i]=x(L)}_[k*d+i+1]=_[k*d+i]}for(let k=0;k<d;k++)_[k]=_[d+k]=_[2*d+k],_[(s-1)*d+k]=_[(s-2)*d+k];return C.updateStatistics(),C}(f));const{pixels:t,mask:_,pixelType:w}=f,k=f.width,L=f.height,i=xe.Z.getPixelArrayConstructor(w),y=t.length,{width:g,height:m}=C;let P=!1;for(let le=0;le<d.length;le+=3)-1===d[le]&&-1===d[le+1]&&-1===d[le+2]&&(P=!0);const{offsets_x:M,offsets_y:S,offsets_xi:G,offsets_yi:W,gridWidth:z}=B({width:k,height:L},C,d,s,"majority"===h?.5:0);let V;const re=(le,pe,Y)=>{const $=le instanceof Float32Array||le instanceof Float64Array?0:.5;for(let ce=0;ce<m;ce++){V=ce*z;for(let Ce=0;Ce<g;Ce++){if(M[V]<0||S[V]<0)le[ce*g+Ce]=0;else if(Y)le[ce*g+Ce]=pe[G[V]+W[V]*k];else{const ye=Math.floor(M[V]),be=Math.floor(S[V]),_e=Math.ceil(M[V]),ve=Math.ceil(S[V]),Ee=M[V]-ye,Me=S[V]-be;le[ce*g+Ce]=!_||_[ye+be*k]&&_[ye+be*k]&&_[ye+ve*k]&&_[_e+ve*k]?(1-Me)*((1-Ee)*pe[ye+be*k]+Ee*pe[_e+be*k])+Me*((1-Ee)*pe[ye+ve*k]+Ee*pe[_e+ve*k])+$:pe[G[V]+W[V]*k]}V++}}},he=[];let ee;for(let le=0;le<y;le++)ee=new i(g*m),re(ee,t[le],"nearest"===h||"majority"===h),he.push(ee);const oe=new xe.Z({width:g,height:m,pixelType:w,pixels:he});if((0,ne.pC)(_))oe.mask=new Uint8Array(g*m),re(oe.mask,_,!0);else if(P){oe.mask=new Uint8Array(g*m);for(let le=0;le<g*m;le++)oe.mask[le]=M[le]<0||S[le]<0?0:1}return oe.updateStatistics(),oe}},17057:(Se,Ae,te)=>{te.d(Ae,{AV:()=>se,Hv:()=>ae,Oh:()=>q,ZF:()=>me,dy:()=>ue,hE:()=>R,oc:()=>ie,um:()=>K});var ne=te(62208),xe=te(25688),Te=te(67313),we=te(65468);const de=[.299,.587,.114];function ie(J,Z=256){Z=Math.min(Z,256);const{size:X,counts:E}=J,j=new Uint8Array(X),I=E.reduce((p,x)=>p+x/Z,0);let u=0,T=0,b=0,c=I;for(let p=0;p<X;p++)if(b+=E[p],!(p<X-1&&b+E[p+1]<c)){for(;u<Z-1&&c<b;)u++,c+=I;for(let x=T;x<=p;x++)j[x]=u;T=p+1}for(let p=T;p<X;p++)j[p]=Z-1;return j}function R(J){const{minCutOff:Z,maxCutOff:X,gamma:E,pixelType:j,rounding:I}=J,u=J.outMin||0,T=J.outMax||255;if(!["u8","u16","s8","s16"].includes(j))return null;const b=Z.length;let c,p,x=0;"s8"===j?x=-127:"s16"===j&&(x=-32767);let F=256;["u16","s16"].includes(j)&&(F=65536);const D=[],v=[],A=T-u;for(c=0;c<b;c++)v[c]=X[c]-Z[c],D[c]=0===v[c]?0:A/v[c];let U;const B=[];let N,O,f;if(E&&E.length>=b){const C=K(b,E);for(c=0;c<b;c++){for(f=[],p=0;p<F;p++)if(0!==v[c])if(N=p+x,U=(N-Z[c])/v[c],O=1,E[c]>1&&(O-=(1/A)**(U*C[c])),N<X[c]&&N>Z[c]){const d=O*A*U**(1/E[c])+u;f[p]="floor"===I?Math.floor(d):"round"===I?Math.round(d):d}else f[p]=N>=X[c]?T:u;else f[p]=u;B[c]=f}}else for(c=0;c<b;c++){for(f=[],p=0;p<F;p++)if(N=p+x,N<=Z[c])f[p]=u;else if(N>=X[c])f[p]=T;else{const C=(N-Z[c])*D[c]+u;f[p]="floor"===I?Math.floor(C):"round"===I?Math.round(C):C}B[c]=f}if(null!=J.contrastOffset){const C=function fe(J,Z){const X=Math.min(Math.max(J,-100),100),E=Math.min(Math.max(null!=Z?Z:0,-100),100),j=255;let u=0,T=0;const b=new Uint8Array(256);for(u=0;u<256;u++)X>0&&X<100?T=(200*u-25500+510*E)/(2*(100-X))+128:X<=0&&X>-100?T=(200*u-25500+510*E)*(100+X)/2e4+128:100===X?(T=200*u-25500+256*(100-X)+510*E,T=T>0?j:0):-100===X&&(T=128),b[u]=T>j?j:T<0?0:T;return b}(J.contrastOffset,J.brightnessOffset);for(c=0;c<b;c++)for(f=B[c],p=0;p<F;p++)f[p]=C[f[p]]}return{lut:B,offset:x}}function me(J,Z,X){const E=[];for(let j=0;j<Z.length;j++){let I=0,u=0,T=0;"min"in Z[j]?({min:I,max:u,avg:T}=Z[j]):[I,u,T]=Z[j];let b=null!=T?T:0;"u8"!==J&&(b=255*(b-I)/(u-I)),X&&(b*=de[j]),E.push(H(b))}return E}function H(J){if(J<=0||J>=255)return 1;let Z=0;150!==J&&(Z=J<=150?45*Math.cos(.01047*J):17*Math.sin(.021*J));const E=J+Z,j=Math.log(J/255),I=Math.log(E/255);if(0===I)return 1;const u=j/I;return isNaN(u)?1:Math.min(9.9,Math.max(.01,u))}function ae(J){var h;if((0,ne.Wi)(J)||null==(h=J.pixels)||!h.length)return null;const{pixels:Z,mask:X,pixelType:E}=J,j=J.width*J.height,I=Z.length;let u,T,b,c,p;const x=[],F=[];let D,v,A,U,B,N,O,f,C,d;const s=256;for(c=0;c<I;c++){if(D=new Uint32Array(s),A=Z[c],"u8"===E)if(u=-.5,T=255.5,X)for(p=0;p<j;p++)X[p]&&D[A[p]]++;else for(p=0;p<j;p++)D[A[p]]++;else{let t=!1;J.statistics||(J.updateStatistics(),t=!0);const _=J.statistics;if(u=_[c].minValue,T=_[c].maxValue,b=(T-u)/s,0===b){!_||J.validPixelCount||t||J.updateStatistics();const w=(J.validPixelCount||J.width*J.height)/s;for(let k=0;k<s;k++)D[k]=Math.round(w*(k+1))-Math.round(w*k)}else{for(v=new Uint32Array(257),p=0;p<j;p++)X&&!X[p]||v[Math.floor((A[p]-u)/b)]++;for(p=0;p<255;p++)D[p]=v[p];D[255]=v[255]+v[s]}}for(x.push({min:u,max:T,size:s,counts:D}),U=0,B=0,f=0,p=0;p<s;p++)U+=D[p],B+=p*D[p];for(C=B/U,p=0;p<s;p++)f+=D[p]*(p-C)**2;d=Math.sqrt(f/(U-1)),b=(T-u)/s,N=(C+.5)*b+u,O=d*b,F.push({min:u,max:T,avg:N,stddev:O})}return{statistics:F,histograms:x}}function q(J){const Z=[];for(let X=0;X<J.length;X++){const{min:E,max:j,size:I,counts:u}=J[X];let T=0,b=0;for(let v=0;v<I;v++)T+=u[v],b+=v*u[v];const c=b/T;let p=0;for(let v=0;v<I;v++)p+=u[v]*(v-c)**2;const x=(j-E)/I,F=(c+.5)*x+E,D=Math.sqrt(p/(T-1))*x;Z.push({min:E,max:j,avg:F,stddev:D})}return Z}function se(J,Z){var _;const{pixelBlock:X,bandIds:E,returnHistogramLut:j,rasterInfo:I}=Z;let u=null,T=null,b=J.stretchType;if("number"==typeof b&&(b=we.J[b]),J.dra)if("minMax"===b&&(0,ne.pC)(X)&&X.statistics)u=X.statistics.map(w=>[w.minValue,w.maxValue,0,0]);else{const w=ae(X);u=(0,ne.pC)(w)?w.statistics:null,T=(0,ne.pC)(w)?w.histograms:null}else u=(null==(_=J.statistics)?void 0:_.length)>0?J.statistics:(0,ne.Wg)(I.statistics),T=J.histograms||(0,ne.Wg)(I.histograms);"percentClip"!==b&&"histogramEqualization"!==b||(null==T?void 0:T.length)||(b="minMax");const c=(null==u?void 0:u.length)||(null==T?void 0:T.length)||I.bandCount,p=[],x=[];let F,D,v,A,U,B,N,O,f;u&&!Array.isArray(u[0])&&(u=u.map(w=>[w.min,w.max,w.avg,w.stddev]));const[C,d]=(0,Te.r)(I.pixelType);if(null==u||!u.length){for(u=[],O=0;O<c;O++)u.push([C,d,1,1]);"standardDeviation"===b&&(b="minMax")}switch(b){case"none":for(O=0;O<c;O++)p[O]=C,x[O]=d;break;case"minMax":for(O=0;O<c;O++)p[O]=u[O][0],x[O]=u[O][1];break;case"standardDeviation":for(O=0;O<c;O++)p[O]=u[O][2]-J.numberOfStandardDeviations*u[O][3],x[O]=u[O][2]+J.numberOfStandardDeviations*u[O][3],p[O]<u[O][0]&&(p[O]=u[O][0]),x[O]>u[O][1]&&(x[O]=u[O][1]);break;case"histogramEqualization":for((0,ne.O3)(T),O=0;O<c;O++)p[O]=T[O].min,x[O]=T[O].max;break;case"percentClip":for((0,ne.O3)(T),O=0;O<T.length;O++){for(F=T[O],U=new Uint32Array(F.size),A=[...F.counts],A.length>=20&&(A[0]=A[1]=A[2]=A[A.length-1]=A[A.length-2]=0),v=0,D=(F.max-F.min)/F.size,N=-.5===F.min&&1===D?.5:0,f=0;f<F.size;f++)v+=A[f],U[f]=v;for(B=(J.minPercent||0)*v/100,p[O]=F.min+N,f=0;f<F.size;f++)if(U[f]>B){p[O]=F.min+D*(f+N);break}for(B=(1-(J.maxPercent||0)/100)*v,x[O]=F.max+N,f=F.size-2;f>=0;f--)if(U[f]<B){x[O]=F.min+D*(f+2-N);break}if(x[O]<p[O]){const w=p[O];p[O]=x[O],x[O]=w}}break;default:for(O=0;O<c;O++)p[O]=u[O][0],x[O]=u[O][1]}let s,h,t;return"histogramEqualization"===b?((0,ne.O3)(T),h=T[0].size||256,s=0,j&&(t=T.map(w=>ie(w)))):(h=J.max||255,s=J.min||0),function Q(J,Z){if(null==Z||0===Z.length)return J;const X=Math.max.apply(null,Z),{minCutOff:E,maxCutOff:j,outMin:I,outMax:u,histogramLut:T}=J;return E.length===Z.length||E.length<=X?J:{minCutOff:Z.map(b=>E[b]),maxCutOff:Z.map(b=>j[b]),histogramLut:T?Z.map(b=>T[b]):null,outMin:I,outMax:u}}({minCutOff:p,maxCutOff:x,outMax:h,outMin:s,histogramLut:t},E)}function K(J,Z){const X=new Float32Array(J);for(let E=0;E<J;E++)X[E]=Z[E]>1?Z[E]>2?6.5+(Z[E]-2)**2.5:6.5+100*(2-Z[E])**4:1;return X}function ue(J,Z){var w;if((0,ne.Wi)(J)||null==(w=J.pixels)||!w.length)return J;const{mask:X,width:E,height:j,pixels:I}=J,{minCutOff:u,maxCutOff:T,gamma:b}=Z,c=Z.outMin||0,p=Z.outMax||255,x=E*j,F=Z.outputPixelType||"u8",D=J.pixels.map(()=>xe.Z.createEmptyBand(F,x)),v=D.length;let A,U,B,N,O;const f=p-c,C=[],d=[];for(A=0;A<v;A++)d[A]=T[A]-u[A],C[A]=0===d[A]?0:f/d[A];const s=F.startsWith("u")||F.startsWith("s"),t=!!Z.isRenderer;if(b&&b.length>=v){const k=K(v,b);for(U=0;U<x;U++)if(null==X||X[U])for(A=0;A<v;A++)if(0!==d[A])if(B=I[A][U],O=(B-u[A])/d[A],N=1,b[A]>1&&(N-=(1/f)**(O*k[A])),B<T[A]&&B>u[A]){const L=N*f*O**(1/b[A])+c;D[A][U]=t?Math.floor(L):s?Math.round(L):L}else D[A][U]=B>=T[A]?p:c;else D[A][U]=c}else for(U=0;U<x;U++)if(null==X||X[U])for(A=0;A<v;A++)if(B=I[A][U],B<T[A]&&B>u[A]){const k=(B-u[A])*C[A]+c;D[A][U]=t?Math.floor(k):s?Math.round(k):k}else D[A][U]=B>=T[A]?p:c;const _=new xe.Z({width:E,height:j,mask:X,pixels:D,pixelType:F});return _.updateStatistics(),_}},67845:(Se,Ae,te)=>{te.d(Ae,{M_:()=>R,TK:()=>we,Ub:()=>de,vC:()=>ge,yg:()=>ie});var ne=te(62208),xe=te(25688),Te=te(79751);function we(fe){let{altitude:me,azimuth:H}=fe;const{hillshadeType:ae,pixelSizePower:q=1,pixelSizeFactor:se=1,scalingType:Q,isGCS:K,resolution:ue}=fe,J="multi-directional"===ae?2*fe.zFactor:fe.zFactor,{x:Z,y:X}=ue;let E=J/(8*Z),j=J/(8*X);if(K&&J>.001&&(E/=111e3,j/=111e3),"adjusted"===Q)if(K){const O=111e3*Z,f=111e3*X;E=(J+O**q*se)/(8*O),j=(J+f**q*se)/(8*f)}else E=(J+Z**q*se)/(8*Z),j=(J+X**q*se)/(8*X);let I=(90-me)*Math.PI/180,u=Math.cos(I),T=(360-H+90)*Math.PI/180,b=Math.sin(I)*Math.cos(T),c=Math.sin(I)*Math.sin(T);const p=[315,270,225,360,180,0],x=[60,60,60,60,60,90],F=new Float32Array([3,5,3,2,1,4]),D=F.reduce((O,f)=>O+f),v=F.map(O=>O/D),A="multi-directional"===ae?p.length:1,U=new Float32Array(6),B=new Float32Array(6),N=new Float32Array(6);if("multi-directional"===ae)for(let O=0;O<A;O++)me=x[O],H=p[O],I=(90-me)*Math.PI/180,u=Math.cos(I),T=(360-H+90)*Math.PI/180,b=Math.sin(I)*Math.cos(T),c=Math.sin(I)*Math.sin(T),U[O]=u,B[O]=b,N[O]=c;else U.fill(u),B.fill(b),N.fill(c);return{resolution:ue,factor:[E,j],sinZcosA:b,sinZsinA:c,cosZ:u,sinZcosAs:B,sinZsinAs:N,cosZs:U,weights:v,hillshadeType:["traditional","multi-directional"].indexOf(ae)}}function ge(fe,me){if(!(0,Te.nk)(fe))return fe;const{width:H,height:ae,mask:q}=fe,se=new Uint8Array(H*ae);let Q=1;if((0,ne.pC)(q)){for(let C=0;C<q.length;C++)if(q[C]){Q=q[C];break}se.set(q)}const{factor:K,sinZcosA:ue,sinZsinA:J,cosZ:Z,sinZcosAs:X,sinZsinAs:E,cosZs:j,weights:I}=we(me),[u,T]=K,{hillshadeType:b}=me,c=fe.pixels[0],p=new Uint8Array(H*ae);let x,F,D,v,A,U,B,N;const f=(0,ne.pC)(q);for(let C=1;C<ae-1;C++){const d=C*H;for(let s=1;s<H-1;s++){if(q&&!q[d+s]){p[d+s]=0;continue}let h=8;if(f&&(h=(q[d-H+s-1]+q[d-H+s]+q[d-H+s+1]+q[d+s-1]+q[d+s+1]+q[d+H+s-1]+q[d+H+s]+q[d+H+s+1])/Q,h<7)){p[d+s]=0,se[d+s]=0;continue}q&&7===h?(x=q[d-H+s-1]?c[d-H+s-1]:c[d+s],F=q[d-H+s]?c[d-H+s]:c[d+s],D=q[d-H+s+1]?c[d-H+s+1]:c[d+s],v=q[d+s-1]?c[d+s-1]:c[d+s],A=q[d+s+1]?c[d+s+1]:c[d+s],U=q[d+H+s-1]?c[d+H+s-1]:c[d+s],B=q[d+H+s]?c[d+H+s]:c[d+s],N=q[d+H+s+1]?c[d+H+s+1]:c[d+s]):(x=c[d-H+s-1],F=c[d-H+s],D=c[d-H+s+1],v=c[d+s-1],A=c[d+s+1],U=c[d+H+s-1],B=c[d+H+s],N=c[d+H+s+1]);const t=(D+A+A+N-(x+v+v+U))*u,_=(U+B+B+N-(x+F+F+D))*T,w=Math.sqrt(1+t*t+_*_);let k=0;if("traditional"===b){let L=255*(Z+J*_-ue*t)/w;L<0&&(L=0),k=L}else{const L=E.length;for(let i=0;i<L;i++){let y=255*(j[i]+E[i]*_-X[i]*t)/w;y<0&&(y=0),k+=y*I[i]}}p[d+s]=255&k}}for(let C=0;C<ae;C++)p[C*H]=p[C*H+1],p[(C+1)*H-1]=p[(C+1)*H-2];for(let C=1;C<H-1;C++)p[C]=p[C+H],p[C+(ae-1)*H]=p[C+(ae-2)*H];return new xe.Z({width:H,height:ae,pixels:[p],mask:q?se:null,pixelType:"u8",validPixelCount:fe.validPixelCount,statistics:[{minValue:0,maxValue:255}]})}function de(fe,me,H,ae){if(!(0,Te.nk)(fe)||!(0,Te.nk)(me))return;const{min:q,max:se}=ae,Q=fe.pixels[0],{pixels:K,mask:ue}=me,J=K[0],Z=255.00001/(se-q),X=new Uint8ClampedArray(J.length),E=new Uint8ClampedArray(J.length),j=new Uint8ClampedArray(J.length),I=H.length-1;for(let u=0;u<J.length;u++){if(ue&&0===ue[u])continue;const T=Math.floor((J[u]-q)*Z),[b,c]=H[T<0?0:T>I?I:T],p=Q[u],x=p*c,F=x*(1-Math.abs(b%2-1)),D=p-x;switch(Math.floor(b)){case 0:X[u]=x+D,E[u]=F+D,j[u]=D;break;case 1:X[u]=F+D,E[u]=x+D,j[u]=D;break;case 2:X[u]=D,E[u]=x+D,j[u]=F+D;break;case 3:X[u]=D,E[u]=F+D,j[u]=x+D;break;case 4:X[u]=F+D,E[u]=D,j[u]=x+D;break;case 5:case 6:X[u]=x+D,E[u]=D,j[u]=F+D}}fe.pixels=[X,E,j],fe.updateStatistics()}function ie(fe,me){var f,C;if(!(0,Te.nk)(fe))return fe;const H=me.zFactor,ae=null!=(f=me.pixelSizePower)?f:1,q=null!=(C=me.pixelSizeFactor)?C:1,se=me.slopeType,Q=me.isGCS,{width:K,height:ue,mask:J}=fe,Z=fe.pixels[0],X=new Uint8Array(K*ue);let E=1;if((0,ne.pC)(J)){for(let d=0;d<J.length;d++)if(J[d]){E=J[d];break}X.set(J)}const j=new Float32Array(K*ue),{x:I,y:u}=me.resolution;let p,x,F,D,v,A,U,B,T=H/(8*I),b=H/(8*u);Q&&Math.abs(H-1)<1e-4&&(T/=111e3,b/=111e3),"adjusted"===se&&(T=(H+I**ae*q)/(8*I),b=(H+u**ae*q)/(8*u));const N=(0,ne.pC)(J);for(let d=1;d<ue-1;d++){const s=d*K;for(let h=1;h<K-1;h++){if(J&&!J[s+h]){j[s+h]=0;continue}let t=0;if(N&&(t=(J[s-K+h-1]+J[s-K+h]+J[s-K+h+1]+J[s+h-1]+J[s+h+1]+J[s+K+h-1]+J[s+K+h]+J[s+K+h+1])/E,t<7)){j[s+h]=0,X[s+h]=0;continue}J&&7===t?(p=J[s-K+h-1]?Z[s-K+h-1]:Z[s+h],x=J[s-K+h]?Z[s-K+h]:Z[s+h],F=J[s-K+h+1]?Z[s-K+h+1]:Z[s+h],D=J[s+h-1]?Z[s+h-1]:Z[s+h],v=J[s+h+1]?Z[s+h+1]:Z[s+h],A=J[s+K+h-1]?Z[s+K+h-1]:Z[s+h],U=J[s+K+h]?Z[s+K+h]:Z[s+h],B=J[s+K+h+1]?Z[s+K+h+1]:Z[s+h]):(p=Z[s-K+h-1],x=Z[s-K+h],F=Z[s-K+h+1],D=Z[s+h-1],v=Z[s+h+1],A=Z[s+K+h-1],U=Z[s+K+h],B=Z[s+K+h+1]);const _=(F+v+v+B-(p+D+D+A))*T,w=(A+U+U+B-(p+x+x+F))*b,k=Math.sqrt(_*_+w*w);j[s+h]="percent-rise"===se?100*k:57.2957795*Math.atan(k)}}for(let d=0;d<ue;d++)j[d*K]=j[d*K+1],j[(d+1)*K-1]=j[(d+1)*K-2];for(let d=1;d<K-1;d++)j[d]=j[d+K],j[d+(ue-1)*K]=j[d+(ue-2)*K];const O=new xe.Z({width:K,height:ue,pixels:[j],mask:J?X:null,pixelType:"f32",validPixelCount:fe.validPixelCount});return O.updateStatistics(),O}function R(fe,me={}){if(!(0,Te.nk)(fe))return fe;const{width:H,height:ae,mask:q}=fe,se=fe.pixels[0],Q=new Uint8Array(H*ae);(0,ne.pC)(q)&&Q.set(q);const K=new Float32Array(H*ae),{resolution:ue}=me,J=ue?1/ue.x:1,Z=ue?1/ue.y:1;let E,j,I,u,T,b,c,p;const x=(0,ne.pC)(q);for(let F=1;F<ae-1;F++){const D=F*H;for(let v=1;v<H-1;v++){if(q&&!q[D+v]){K[D+v]=0;continue}let A=0;if(x&&(A=q[D-H+v-1]+q[D-H+v]+q[D-H+v+1]+q[D+v-1]+q[D+v+1]+q[D+H+v-1]+q[D+H+v]+q[D+H+v+1],A<7)){K[D+v]=0,Q[D+v]=0;continue}q&&7===A?(E=q[D-H+v-1]?se[D-H+v-1]:se[D+v],j=q[D-H+v]?se[D-H+v]:se[D+v],I=q[D-H+v+1]?se[D-H+v+1]:se[D+v],u=q[D+v-1]?se[D+v-1]:se[D+v],T=q[D+v+1]?se[D+v+1]:se[D+v],b=q[D+H+v-1]?se[D+H+v-1]:se[D+v],c=q[D+H+v]?se[D+H+v]:se[D+v],p=q[D+H+v+1]?se[D+H+v+1]:se[D+v]):(E=se[D-H+v-1],j=se[D-H+v],I=se[D-H+v+1],u=se[D+v-1],T=se[D+v+1],b=se[D+H+v-1],c=se[D+H+v],p=se[D+H+v+1]);const U=(I+T+T+p-(E+u+u+b))*J,B=(b+c+c+p-(E+j+j+I))*Z;let N=-1;0===U&&0===B||(N=90-57.29578*Math.atan2(B,-U),N<0&&(N+=360),360===N?N=0:N>360&&(N%=360)),K[D+v]=N}}for(let F=0;F<ae;F++)K[F*H]=K[F*H+1],K[(F+1)*H-1]=K[(F+1)*H-2];for(let F=1;F<H-1;F++)K[F]=K[F+H],K[F+(ae-1)*H]=K[F+(ae-2)*H];return new xe.Z({width:H,height:ae,pixels:[K],mask:q?Q:null,pixelType:"f32",validPixelCount:fe.validPixelCount,statistics:[{minValue:0,maxValue:360}]})}},30994:(Se,Ae,te)=>{te.d(Ae,{KC:()=>se,NL:()=>R,QI:()=>Q,Tg:()=>H,Yx:()=>fe,xQ:()=>q});var ne=te(2076),xe=te(62208),Te=te(25688),we=te(79751);const ge=new Map;ge.set("meter-per-second",1),ge.set("kilometer-per-hour",.277778),ge.set("knots",.514444),ge.set("feet-per-second",.3048),ge.set("mile-per-hour",.44704);const de=180/Math.PI,R=new ne.X({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function fe(v,A){return ge.get(v)/ge.get(A)||1}function me(v){return(450-v)%360}function H(v,A="geographic"){const[U,B]=v,N=Math.sqrt(U*U+B*B);let O=Math.atan2(B,U)*de;return O=(360+O)%360,"geographic"===A&&(O=me(O)),[N,O]}function ae(v,A="geographic"){let U=v[1];"geographic"===A&&(U=me(U)),U%=360;const B=v[0];return[B*Math.cos(U/de),B*Math.sin(U/de)]}function q(v,A,U,B="geographic"){if(!(0,we.nk)(v)||(0,xe.Wi)(U))return v;const N="vector-magdir"===A?v.clone():(0,xe.Wg)(se(v,A)),O=N.pixels[1];for(let f=0;f<O.length;f++)O[f]="geographic"===B?(O[f]+U[f]+270)%360:(O[f]+360-U[f])%360;return"vector-magdir"===A?N:se(N,"vector-magdir")}function se(v,A,U="geographic",B=1){if(!(0,we.nk)(v))return v;const{pixels:N,width:O,height:f}=v,C=O*f,d=N[0],s=N[1],h=v.pixelType.startsWith("f")?v.pixelType:"f32",t=Te.Z.createEmptyBand(h,C),_=Te.Z.createEmptyBand(h,C);let w=0;for(let L=0;L<f;L++)for(let i=0;i<O;i++)"vector-uv"===A?([t[w],_[w]]=H([d[w],s[w]],U),t[w]*=B):([t[w],_[w]]=ae([d[w],s[w]],U),t[w]*=B,_[w]*=B),w++;const k=new Te.Z({pixelType:h,width:v.width,height:v.height,mask:v.mask,validPixelCount:v.validPixelCount,maskIsAlpha:v.maskIsAlpha,pixels:[t,_]});return k.updateStatistics(),k}function Q(v,A,U=1){if(1===U||!(0,we.nk)(v))return v;const B=v.clone(),{pixels:N,width:O,height:f}=B,C=N[0],d=N[1];let s=0;for(let h=0;h<f;h++)for(let t=0;t<O;t++)"vector-uv"===A?(C[s]*=U,d[s]*=U):C[s]*=U,s++;return B.updateStatistics(),B}function X(v,A,U,B=1){const N=Math.sqrt(v*v+A*A)/B,O=(2*Math.PI+Math.atan2(A,v))%(2*Math.PI);return[N,(2*Math.PI+O-U)%(2*Math.PI)]}!function J(v=0,A=0,U=Math.PI,B=!0){B&&(U=(2*Math.PI-U)%(2*Math.PI));const N=B?-1:1,O=13*N,f=-7*N,C=-2*N,d=-16*N,s=21.75,[h,t]=X(0,A+O,U,s),[_,w]=X(v-5.5,A+f,U,s),[k,L]=X(v+5.5,A+f,U,s),[i,y]=X(v-1.5,A+C,U,s),[g,m]=X(v+1.5,A+C,U,s),[P,M]=X(v-1.5,A+d,U,s),[S,G]=X(v+1.5,A+d,U,s);return[h,t,_,w,i,y,g,m,k,L,P,M,S,G]}(0,0,0)},99033:(Se,Ae,te)=>{te.d(Ae,{Z:()=>X});var ne=te(17626),xe=te(78260),Te=te(86810),we=te(63290),ge=te(62208),de=te(77712),fe=(te(90912),te(85931),te(76898)),me=te(79645),H=te(79751),ae=te(17057),q=te(67845),se=te(70208);let J=class extends Te.wq{constructor(E){super(E)}bind(){const{rendererJSON:E}=this;if(!E)return{success:!1};let j;switch(this.lookup={rendererJSON:{}},E.type){case"uniqueValue":j=this._updateUVRenderer(E);break;case"rasterColormap":j=this._updateColormapRenderer(E);break;case"rasterStretch":j=this._updateStretchRenderer(E);break;case"classBreaks":j=this._updateClassBreaksRenderer(E);break;case"rasterShadedRelief":j=this._updateShadedReliefRenderer(E);break;case"vectorField":j=this._updateVectorFieldRenderer();break;case"flowRenderer":j=this._updateFlowRenderer()}return j}symbolize(E){let j=E&&E.pixelBlock;if(!Z(j))return j;if(E.simpleStretchParams&&"rasterStretch"===this.rendererJSON.type)return this.simpleStretch(j,E.simpleStretchParams);try{let I;switch(j.pixels.length>3&&(j=(0,H.qF)(j,[0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":I=this._symbolizeColormap(j);break;case"classBreaks":I=this._symbolizeClassBreaks(j);break;case"rasterStretch":I=this._symbolizeStretch(j,E.bandIds);break;case"rasterShadedRelief":{const u=E.extent;I=this._symbolizeShadedRelief(j,{isGCS:u.spatialReference.isGeographic,resolution:{x:(u.xmax-u.xmin)/j.width,y:(u.ymax-u.ymin)/j.height}});break}}return I}catch(I){return we.Z.getLogger(this.declaredClass).error("symbolize",I.message),j}}simpleStretch(E,j){if(!Z(E))return E;try{return E.pixels.length>3&&(E=(0,H.qF)(E,[0,1,2])),(0,ae.dy)(E,Le(Re({},j),{isRenderer:!0}))}catch(I){return we.Z.getLogger(this.declaredClass).error("symbolize",I.message),E}}generateWebGLParameters(E){if(["uniqueValue","rasterColormap","classBreaks"].includes(this.rendererJSON.type)){const{indexedColormap:c,offset:p}=this.lookup.colormapLut||{};return{colormap:c,colormapOffset:p,type:"lut"}}const{pixelBlock:j,isGCS:I,resolution:u,bandIds:T}=E,{rendererJSON:b}=this;return"rasterStretch"===b.type?this._generateStretchWebGLParams(j,b,T):"rasterShadedRelief"===b.type?this._generateShadedReliefWebGLParams(b,I,null!=u?u:void 0):"vectorField"===b.type?this._generateVectorFieldWebGLParams(b):null}_isLUTChanged(E){if(!this.lookup||!this.lookup.rendererJSON)return!0;if("colorRamp"in this.rendererJSON){const j=this.rendererJSON.colorRamp;return E?JSON.stringify(j)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}return JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}_symbolizeColormap(E){return this._isLUTChanged()&&!this.bind().success?E:(0,H.SJ)(E,this.lookup.colormapLut)}_symbolizeClassBreaks(E){var I;const{canUseIndexedLUT:j}=this._analyzeClassBreaks(this.rendererJSON);return this._isLUTChanged()&&!this.bind().success?E:j?(0,H.SJ)(E,this.lookup.colormapLut):(0,H.zp)(E,null!=(I=this.lookup.remapLut)?I:[])}_symbolizeStretch(E,j){var v,A,U;const{rasterInfo:I}=this,{pixelType:u,bandCount:T}=I,b=this.rendererJSON,c=["u8","u16","s8","s16"].includes(u);let p,x;const{dra:F}=b,{gamma:D}=this.lookup;if("histogramEqualization"===b.stretchType){const B=F?null:null==(v=this.lookup)?void 0:v.histogramLut,N=(0,ae.AV)(b,{rasterInfo:I,pixelBlock:E,bandIds:j,returnHistogramLut:!B}),O=(0,ae.dy)(E,Le(Re({},N),{gamma:D,isRenderer:!0}));x=(0,H.XV)(O,{lut:F?N.histogramLut:B,offset:0})}else if(c){if(F){const B=(0,ae.AV)(b,{rasterInfo:I,pixelBlock:E,bandIds:j});p=(0,ae.hE)(Le(Re({pixelType:u},B),{gamma:D,rounding:"floor"}))}else if(this._isLUTChanged()){if(!this.bind().success)return E;p=this.lookup?this.lookup.stretchLut:null}else p=this.lookup?this.lookup.stretchLut:null;if(!p)return E;T>1&&(null==j?void 0:j.length)===(null==(A=(0,ge.Wg)(E))?void 0:A.pixels.length)&&(null==p?void 0:p.lut.length)===T&&(p={lut:j.map(B=>p.lut[B]),offset:p.offset}),x=(0,H.XV)(E,p)}else{const B=(0,ae.AV)(b,{rasterInfo:I,pixelBlock:E,bandIds:j});x=(0,ae.dy)(E,Le(Re({},B),{gamma:D,isRenderer:!0}))}if(b.colorRamp){if(this._isLUTChanged(!0)&&!this.bind().success)return E;x=(0,H.SJ)(x,null==(U=this.lookup)?void 0:U.colormapLut)}return x}_symbolizeShadedRelief(E,j){var p,x;const I=this.rendererJSON,u=Re(Re({},I),j),T=(0,q.vC)(E,u);if(!I.colorRamp)return T;let b;if(this._isLUTChanged(!0)){if(!this.bind().success)return T;b=this.lookup?this.lookup.hsvMap:null}else b=this.lookup?this.lookup.hsvMap:null;if(!b)return T;const c=null!=(x=null==(p=(0,ge.Wg)(this.rasterInfo.statistics))?void 0:p[0])?x:{min:0,max:8e3};return(0,q.Ub)(T,E,b,c),T}_isVectorFieldData(){const{bandCount:E,dataType:j}=this.rasterInfo;return 2===E&&("vector-magdir"===j||"vector-uv"===j)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; VectorFieldRenderer only supports "vector-magdir" and "vector-uv".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; FlowRenderer only supports "vector-magdir" and "vector-uv".`}}_updateUVRenderer(E){var F;const{bandCount:j,attributeTable:I,pixelType:u}=this.rasterInfo,T=E.field1;if(!T)return{success:!1,error:"Unsupported renderer; missing UniqueValueRenderer.field."};const b=E.defaultSymbol,c=1===j&&["u8","s8"].includes(u);if(!function Q(E,j){const{attributeTable:I,bandCount:u}=E;return!((0,ge.Wi)(I)||u>1||j&&null==I.fields.find(T=>T.name.toLowerCase()===j.toLowerCase()))}(this.rasterInfo,T)&&!c)return{success:!1,error:"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table."};const p=[];if((0,ge.pC)(I)){const D=I.fields.find(v=>"value"===v.name.toLowerCase());if(!D)return{success:!1,error:"Unsupported data; the data's raster attribute table does not have a value field."};I.features.forEach(v=>{var B,N;const A=null==(B=E.uniqueValueInfos)?void 0:B.find(O=>String(O.value)===String(v.attributes[T])),U=null==(N=null==A?void 0:A.symbol)?void 0:N.color;U?p.push([v.attributes[D.name]].concat(U)):b&&p.push([v.attributes[D.name]].concat(b.color))})}else{if("value"!==T.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be "Value" when raster attribute table is not availalbe.'};null==(F=E.uniqueValueInfos)||F.forEach(D=>{var A;const v=null==(A=null==D?void 0:D.symbol)?void 0:A.color;v?p.push([parseInt(""+D.value,10)].concat(v)):b&&p.push([parseInt(""+D.value,10)].concat(null==b?void 0:b.color))})}if(0===p.length)return{success:!1,error:"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table."};const x=(0,H.Pz)({colormap:p});return this.lookup={rendererJSON:E,colormapLut:x},this.canRenderInWebGL=!0,{success:!0}}_updateColormapRenderer(E){if(!function ue(E){const{bandCount:j,colormap:I}=E;return(0,ge.pC)(I)&&I.length>0&&1===j}(this.rasterInfo))return{success:!1,error:"Unsupported data; the data source does not have a colormap."};const j=E.colormapInfos.map(u=>[u.value].concat(u.color)).sort((u,T)=>u[0]-T[0]);if(!j||0===j.length)return{success:!1,error:"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos."};const I=(0,H.Pz)({colormap:j});return this.lookup={rendererJSON:E,colormapLut:I},this.canRenderInWebGL=!0,{success:!0}}_updateShadedReliefRenderer(E){if(!function K(E){const{bandCount:j,dataType:I,pixelType:u}=E;return"elevation"===I||"generic"===I&&1===j&&("s16"===u||"f32"===u||"f64"===u)}(this.rasterInfo))return{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; ShadedReliefRenderer only supports "elevation", or single band float/s16 data.`};if(E.colorRamp){const j=(0,se.Jw)(E.colorRamp,{interpolateAlpha:!0}),I=(0,H.Pz)({colormap:j}),u=[],T=I.indexedColormap;for(let b=0;b<T.length;b+=4){const c=(0,xe._Y)({r:T[b],g:T[b+1],b:T[b+2]});u.push([c.h/60,c.s/100,255*c.v/100])}this.lookup={rendererJSON:E,colormapLut:I,hsvMap:u}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(E){const{attributeTable:j,pixelType:I}=this.rasterInfo,u=(0,ge.pC)(j)?j.fields.find(c=>"value"===c.name.toLowerCase()):null,T=(0,ge.pC)(j)?j.fields.find(c=>c.name.toLowerCase()===E.field.toLowerCase()):null,b=null!=u&&null!==T;return{canUseIndexedLUT:["u8","u16","s8","s16"].includes(I)||b,tableValueField:u,tableBreakField:T}}_updateClassBreaksRenderer(E){var v;const{attributeTable:j}=this.rasterInfo,{canUseIndexedLUT:I,tableValueField:u,tableBreakField:T}=this._analyzeClassBreaks(E),b=E.classBreakInfos;if(null==b||!b.length)return{success:!1,error:"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos."};const c=b.sort((A,U)=>A.classMaxValue-U.classMaxValue),p=c[c.length-1];let x=E.minValue;if(!I){const A=[];for(let U=0;U<c.length;U++)A.push({value:null!=(v=c[U].classMinValue)?v:x,mappedColor:c[U].symbol.color}),x=c[U].classMaxValue;return A.push({value:p.classMaxValue,mappedColor:p.symbol.color}),this.lookup={rendererJSON:E,remapLut:A},this.canRenderInWebGL=!1,{success:!0}}const F=[];if((0,ge.pC)(j)&&null!=u&&null!==T&&u!==T){const A=u.name,U=T.name,B=c[c.length-1],{classMaxValue:N}=B;x=E.minValue;for(const O of j.features){const f=O.attributes[A],C=O.attributes[U],d=C===N?B:C<x?null:c.find(({classMaxValue:s})=>s>C);d&&F.push([f].concat(d.symbol.color))}}else{x=Math.floor(E.minValue);for(let A=0;A<c.length;A++){const U=c[A];for(let B=x;B<U.classMaxValue;B++)F.push([B].concat(U.symbol.color));x=Math.ceil(U.classMaxValue)}p.classMaxValue===x&&F.push([p.classMaxValue].concat(p.symbol.color))}const D=(0,H.Pz)({colormap:F,fillUnspecified:!1});return this.lookup={rendererJSON:E,colormapLut:D},this.canRenderInWebGL=!0,{success:!0}}_isHistogramRequired(E){return"percentClip"===E||"histogramEqualization"===E}_isValidRasterStatistics(E){return(0,ge.pC)(E)&&E.length>0&&null!=E[0].min&&null!=E[0].max}_updateStretchRenderer(E){var D,v;let{stretchType:j,dra:I}=E;if(!("none"===j||(null==(D=E.statistics)?void 0:D.length)||this._isValidRasterStatistics(this.rasterInfo.statistics)||I))return{success:!1,error:"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used."};const u=(0,ge.Wg)(E.histograms||this.rasterInfo.histograms);!this._isHistogramRequired(E.stretchType)||(null==u?void 0:u.length)||I||(j="minMax");const{computeGamma:T,useGamma:b,colorRamp:c}=E;let{gamma:p}=E;if(b&&T&&(null==p||!p.length)){const A=null!=(v=E.statistics)&&v.length?E.statistics:(0,ge.Wg)(this.rasterInfo.statistics);p=(0,ae.ZF)(this.rasterInfo.pixelType,A)}const x=this.rasterInfo.pixelType,F=!I&&["u8","u16","s8","s16"].includes(x);if("histogramEqualization"===j){const A=u.map(U=>(0,ae.oc)(U));this.lookup={rendererJSON:E,histogramLut:A}}else if(F){const A=(0,ae.AV)(E,{rasterInfo:this.rasterInfo}),U=(0,ae.hE)(Le(Re({pixelType:x},A),{gamma:b?p:null,rounding:"floor"}));this.lookup={rendererJSON:E,stretchLut:U}}if(c){const A=(0,se.Jw)(c,{interpolateAlpha:!0});this.lookup||(this.lookup={rendererJSON:E}),this.lookup.colormapLut=(0,H.Pz)({colormap:A}),this.lookup.rendererJSON=E}return this.lookup.gamma=b&&(null==p?void 0:p.length)?p:null,this.canRenderInWebGL=!0,{success:!0}}_generateStretchWebGLParams(E,j,I){let u=null,T=null;const b=this.lookup&&this.lookup.colormapLut;j.colorRamp&&b&&(u=b.indexedColormap,T=b.offset),"histogramEqualization"===j.stretchType&&(j=Le(Re({},j),{stretchType:"minMax"}));const{gamma:c}=this.lookup,p=!!(j.useGamma&&c&&c.some(d=>1!==d)),{minCutOff:x,maxCutOff:F,outMin:D,outMax:v}=(0,ae.AV)(j,{rasterInfo:this.rasterInfo,pixelBlock:E,bandIds:I});let A=0;(0,ge.pC)(E)&&(A=E.getPlaneCount(),2===A&&((E=E.clone()).statistics=[E.statistics[0]],E.pixels=[E.pixels[0]]));const{bandCount:U}=this.rasterInfo,B=Math.min(3,(null==I?void 0:I.length)||A||U,U),N=new Float32Array(B),O=u||p?1:255;let f;for(f=0;f<x.length;f++)N[f]=F[f]===x[f]?0:(v-D)/(F[f]-x[f])/O;const C=new Float32Array(B);if(p&&c)for(f=0;f<B;f++)C[f]=c[f]>1?c[f]>2?6.5+(c[f]-2)**2.5:6.5+100*(2-c[f])**4:1;return{bandCount:B,outMin:D/O,outMax:v/O,minCutOff:x,maxCutOff:F,factor:N,useGamma:p,gamma:p?c:[1,1,1],gammaCorrection:p?C:[1,1,1],colormap:u,colormapOffset:T,stretchType:j.stretchType,type:"stretch"}}_generateShadedReliefWebGLParams(E,j=!1,I={x:0,y:0}){var F,D,v;let u=null,T=null;const b=this.lookup&&this.lookup.colormapLut;E.colorRamp&&b&&(u=b.indexedColormap,T=b.offset);const c=Le(Re({},E),{isGCS:j,resolution:I}),p=(0,q.TK)(c),x=null==(F=(0,ge.Wg)(this.rasterInfo.statistics))?void 0:F[0];return Le(Re({},p),{minValue:null!=(D=null==x?void 0:x.min)?D:0,maxValue:null!=(v=null==x?void 0:x.max)?v:8e3,hillshadeType:"traditional"===E.hillshadeType?0:1,type:"hillshade",colormap:u,colormapOffset:T})}_generateVectorFieldWebGLParams(E){var f,C,d,s,h,t,_,w;const{style:j,inputUnit:I,outputUnit:u,visualVariables:T,symbolTileSize:b,flowRepresentation:c}=E;let p;const x=null!=(C=null==(f=this.rasterInfo.statistics)?void 0:f[0].min)?C:0,F=null!=(s=null==(d=this.rasterInfo.statistics)?void 0:d[0].max)?s:50,D=null!=(h=null==T?void 0:T.find(k=>"sizeInfo"===k.type))?h:{type:"sizeInfo",field:"Magnitude",maxDataValue:F,maxSize:.8*b,minDataValue:x,minSize:.2*b},v=null!=(t=D.minDataValue)?t:x,A=null!=(_=D.maxDataValue)?_:F,U=(0,ge.pC)(D.maxSize)&&(0,ge.pC)(D.minSize)?[D.minSize/b,D.maxSize/b]:[.2,.8];"wind_speed"===j&&(U[0]=U[1]=(U[0]+U[1])/2);const B=(0,ge.pC)(v)&&(0,ge.pC)(A)?[v,A]:null;if("classified_arrow"===j)if((0,ge.pC)(v)&&(0,ge.pC)(A)&&(0,ge.pC)(D)){p=[];const k=(D.maxDataValue-D.minDataValue)/5;for(let L=0;L<6;L++)p.push(D.minDataValue+k*L)}else p=[0,1e-6,3.5,7,10.5,14];const N="flow_to"===c==("ocean_current_kn"===j||"ocean_current_m"===j)?0:Math.PI,O=null==T?void 0:T.find(k=>"rotationInfo"===k.type);return{breakValues:p,dataRange:B,inputUnit:I,outputUnit:u,symbolTileSize:b,symbolPercentRange:U,style:j||"single_arrow",rotation:N,rotationType:(null==(w=this.rasterInfo.storageInfo)?void 0:w.tileInfo)&&"vector-uv"===this.rasterInfo.dataType?"geographic":(null==O?void 0:O.rotationType)||E.rotationType,type:"vectorField"}}};function Z(E){return(0,H.nk)(E)&&0!==E.validPixelCount}(0,ne._)([(0,de.Cb)({json:{write:!0}})],J.prototype,"rendererJSON",void 0),(0,ne._)([(0,de.Cb)({type:me.Z,json:{write:!0}})],J.prototype,"rasterInfo",void 0),(0,ne._)([(0,de.Cb)({json:{write:!0}})],J.prototype,"lookup",void 0),(0,ne._)([(0,de.Cb)()],J.prototype,"canRenderInWebGL",void 0),J=(0,ne._)([(0,fe.j)("esri.renderers.support.RasterSymbolizer")],J);const X=J},70208:(Se,Ae,te)=>{te.d(Ae,{B4:()=>H,H0:()=>ie,Jw:()=>Z,Ms:()=>ge,Oi:()=>we,Uh:()=>me,XL:()=>J,io:()=>I,pM:()=>X});var ne=te(91558),xe=te(78260),Te=te(2076);const we=["random","ndvi","ndvi2","ndvi3","elevation","gray","hillshade"],ge=[{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,107,45]}],de={aspect_predefined:"Aspect",blackToWhite_predefined:"Black to White",blueBright_predefined:"Blue Bright",blueLightToDark_predefined:"Blue Light to Dark",blueGreenBright_predefined:"Blue-Green Bright",blueGreenLightToDark_predefined:"Blue-Green Light to Dark",brownLightToDark_predefined:"Brown Light to Dark",brownToBlueGreenDivergingBright_predefined:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark_predefined:"Brown to Blue Green Diverging, Dark",coefficientBias_predefined:"Coefficient Bias",coldToHotDiverging_predefined:"Cold to Hot Diverging",conditionNumber_predefined:"Condition Number",cyanToPurple_predefined:"Cyan to Purple",cyanLightToBlueDark_predefined:"Cyan-Light to Blue-Dark",distance_predefined:"Distance",elevation1_predefined:"Elevation #1",elevation2_predefined:"Elevation #2",errors_predefined:"Errors",grayLightToDark_predefined:"Gray Light to Dark",greenBright_predefined:"Green Bright",greenLightToDark_predefined:"Green Light to Dark",greenToBlue_predefined:"Green to Blue",orangeBright_predefined:"Orange Bright",orangeLightToDark_predefined:"Orange Light to Dark",partialSpectrum_predefined:"Partial Spectrum",partialSpectrum1Diverging_predefined:"Partial Spectrum 1 Diverging",partialSpectrum2Diverging_predefined:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright_predefined:"Pink to YellowGreen Diverging, Bright",pinkToYellowGreenDivergingDark_predefined:"Pink to YellowGreen Diverging, Dark",precipitation_predefined:"Precipitation",prediction_predefined:"Prediction",purpleBright_predefined:"Purple Bright",purpleToGreenDivergingBright_predefined:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark_predefined:"Purple to Green Diverging, Dark",purpleBlueBright_predefined:"Purple-Blue Bright",purpleBlueLightToDark_predefined:"Purple-Blue Light to Dark",purpleRedBright_predefined:"Purple-Red Bright",purpleRedLightToDark_predefined:"Purple-Red Light to Dark",redBright_predefined:"Red Bright",redLightToDark_predefined:"Red Light to Dark",redToBlueDivergingBright_predefined:"Red to Blue Diverging, Bright",redToBlueDivergingDark_predefined:"Red to Blue Diverging, Dark",redToGreen_predefined:"Red to Green",redToGreenDivergingBright_predefined:"Red to Green Diverging, Bright",redToGreenDivergingDark_predefined:"Red to Green Diverging, Dark",slope_predefined:"Slope",spectrumFullBright_predefined:"Spectrum-Full Bright",spectrumFullDark_predefined:"Spectrum-Full Dark",spectrumFullLight_predefined:"Spectrum-Full Light",surface_predefined:"Surface",temperature_predefined:"Temperature",whiteToBlack_predefined:"White to Black",yellowToDarkRed_predefined:"Yellow to Dark Red",yellowToGreenToDarkBlue_predefined:"Yellow to Green to Dark Blue",yellowToRed_predefined:"Yellow to Red",yellowGreenBright_predefined:"Yellow-Green Bright",yellowGreenLightToDark_predefined:"Yellow-Green Light to Dark"},ie=new Te.X({Aspect:"aspect","Black to White":"black-to-white","Blue Bright":"blue-bright","Blue Light to Dark":"blue-light-to-dark","Blue-Green Bright":"blue-green-bright","Blue-Green Light to Dark":"blue-green-light-to-dark","Brown Light to Dark":"brown-light-to-dark","Brown to Blue Green Diverging, Bright":"brown-to-blue-green-diverging-right","Brown to Blue Green Diverging, Dark":"brown-to-blue-green-diverging-dark","Coefficient Bias":"coefficient-bias","Cold to Hot Diverging":"cold-to-hot-diverging","Condition Number":"condition-number","Cyan to Purple":"cyan-to-purple","Cyan-Light to Blue-Dark":"cyan-light-to-blue-dark",Distance:"distance","Elevation #1":"elevation1","Elevation #2":"elevation2",Errors:"errors","Gray Light to Dark":"gray-light-to-dark","Green Bright":"green-bright","Green Light to Dark":"green-light-to-dark","Green to Blue":"green-to-blue","Orange Bright":"orange-bright","Orange Light to Dark":"orange-light-to-dark","Partial Spectrum":"partial-spectrum","Partial Spectrum 1 Diverging":"partial-spectrum-1-diverging","Partial Spectrum 2 Diverging":"partial-spectrum-2-diverging","Pink to YellowGreen Diverging, Bright":"pink-to-yellow-green-diverging-bright","Pink to YellowGreen Diverging, Dark":"pink-to-yellow-green-diverging-dark",Precipitation:"precipitation",Prediction:"prediction","urple Bright":"purple-bright","Purple to Green Diverging, Bright":"purple-to-green-diverging-bright","Purple to Green Diverging, Dark":"purple-to-green-diverging-dark","Purple-Blue Bright":"purple-blue-bright","Purple-Blue Light to Dark":"purple-blue-light-to-dark","Purple-Red Bright":"purple-red-bright","Purple-Red Light to Dark":"purple-red-light-to-dark","Red Bright":"red-bright","Red Light to Dark":"red-light-to-dark","Red to Blue Diverging, Bright":"red-to-blue-diverging-bright","Red to Blue Diverging, Dark":"red-to-blue-diverging-dark","Red to Green":"red-to-green","Red to Green Diverging, Bright":"red-to-green-diverging-bright","Red to Green Diverging, Dark":"red-to-green-diverging-dark",Slope:"slope","Spectrum-Full Bright":"spectrum-full-bright","Spectrum-Full Dark":"spectrum-full-dark","Spectrum-Full Light":"spectrum-full-light",Surface:"surface",Temperature:"temperature","White to Black":"white-to-black","Yellow to Dark Red":"yellow-to-dark-red","Yellow to Green to Dark Blue":"yellow-to-green-to-dark-blue","Yellow to Red":"yellow-to-red","Yellow-Green Bright":"yellow-green-bright","Yellow-Green Light to Dark":"yellow-green-light-to-dark"});function R(u,T){if(!u||!T||u.length!==T.length)return!1;for(let b=0;b<u.length;b++)if(u[b]>T[b]+2||u[b]<T[b]-2)return!1;return!0}function me(u){const T=function fe(u,T){if(!u)return;const b=T||ge;let c=null;return"algorithmic"===u.type?b.some(p=>{if(R(u.fromColor.toRgb(),p.fromColor)&&R(u.toColor.toRgb(),p.toColor))return c=p.id,!0}):"multipart"===u.type&&b.some(p=>{const x=u.colorRamps,F=p.colorRamps;if(x&&F&&x.length===F.length&&!F.some((D,v)=>{if(!R(x[v].fromColor.toRgb(),new ne.Z(D.fromColor).toRgb())||!R(x[v].toColor.toRgb(),new ne.Z(D.toColor).toRgb()))return!0})){if(c)return!0;c=p.id}}),c}(u);return T?de[T]:null}function H(u){var p;const T=ie.toJSON(u),b=null==(p=Object.entries(de).find(x=>x[1]===T))?void 0:p[0],c=ge.find(x=>x.id===b);return c?c.colorRamps?{type:"multipart",colorRamps:c.colorRamps.map(x=>({type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:x.fromColor,toColor:x.toColor}))}:{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:c.fromColor,toColor:c.toColor}:null}function ae(u){const T=(u=u||{}).numColors||256,b=u.distanceOffset||0,c=null!=u.isCustomInterval?u.isCustomInterval:null!==u.distanceInterval&&u.distanceInterval!==1/(T-1),p=u.distanceInterval||1/(T-1);return Le(Re({},u),{numColors:T,distanceOffset:b,interpolateAlpha:!!u.interpolateAlpha,distanceInterval:p,isCustomInterval:c,weights:u.weights})}function K(u,T){var d,s;let{fromColor:b,toColor:c}=u;3===b.length&&(b=b.concat([255])),3===c.length&&(c=c.concat([255]));const p=u.algorithm||"esriCIELabAlgorithm",x=ae(T),{numColors:F,distanceOffset:D,isCustomInterval:v,interpolateAlpha:A}=x;if(1===F&&0===D)return[b];if(2===F&&0===D&&!v)return[b,c];const U={r:b[0],g:b[1],b:b[2]},B={r:c[0],g:c[1],b:c[2]},N="esriCIELabAlgorithm"===p?function se(u,T,b){const{numColors:c,distanceOffset:p,distanceInterval:x,isCustomInterval:F}=b;let{l:D,a:v,b:A}=u;const U=(T.l-D)*x,B=(T.a-v)*x,N=(T.b-A)*x,O=[];if(p){const f=p/x;D+=f*U,v+=f*B,A+=f*N}for(let f=0;f<c-1;f++)O.push({l:D,a:v,b:A}),D+=U,v+=B,A+=N;return O.push(F?{l:D,a:v,b:A}:T),O}((0,xe.Y3)(U),(0,xe.Y3)(B),x):"esriHSVAlgorithm"===p?function q(u,T,b){const{numColors:c,distanceOffset:p,distanceInterval:x,isCustomInterval:F}=b,D=0===u.s,v=0===T.s;let A=u.h,U=T.h;D&&!v?A=U:v&&!D&&(T=Le(Re({},T),{h:A}),U=A);let B,N=Math.abs(U-A);const O=360;N<180?B=(U-A)*x:(N=O-N,B=A>U?N*x:-N*x);const f=(T.s-u.s)*x,C=(T.v-u.v)*x;let{s:d,v:s}=u,h=A;if(p){const _=p/x;h=(h+_*B+O)%O,d+=_*f,s+=_*C}const t=[];for(let _=0;_<c-1;_++)t.push({h,s:d,v:s}),h=(h+B+O)%O,d+=f,s+=C;return t.push(F?{h,s:d,v:s}:T),t}((0,xe._Y)(U),(0,xe._Y)(B),x):function Q(u,T,b){const{numColors:c,distanceOffset:p,distanceInterval:x,isCustomInterval:F}=b,D=u.h,v=T.h,A=2*Math.PI;let U;if(D<=v){const h=v-D,t=v-D-A;U=Math.abs(t)<Math.abs(h)?t:h}else{const h=v+A-D,t=v-D;U=Math.abs(t)<Math.abs(h)?t:h}const B=U*x,N=(T.l-u.l)*x,O=(T.c-u.c)*x;let{l:f,c:C,h:d}=u;if(p){const h=p/x;f+=h*N,C+=h*O,d=(d+h*B+A)%A}const s=[];for(let h=0;h<c-1;h++)s.push({l:f,c:C,h:d}),f+=N,C+=O,d=(d+B+A)%A;return s.push(F?{l:f,c:C,h:d}:T),s}((0,xe.sJ)(U),(0,xe.sJ)(B),x),O=[],f=null!=(d=b[3])?d:255,C=((null!=(s=c[3])?s:255)-f)/(F-1);for(let h=0;h<F;h++){const{r:t,g:_,b:w}=(0,xe.xr)(N[h]),k=A?Math.round(f+C*h):255;O.push([t,_,w,k])}return O}function J(u,T){const b="toJSON"in u?u.toJSON():u;return"multipart"===b.type?function ue(u,T){const{numColors:b,interpolateAlpha:c}=ae(T);let p=null==T?void 0:T.weights;const{colorRamps:x}=u;if(p){const N=p.reduce((O,f)=>O+f);p=p.map(O=>O/N)}else{p=[];for(let N=0;N<x.length;N++)p[N]=1/x.length}const F=[];let D=0,v=0;const A=1/(b-1);let U=!1;for(let N=0;N<x.length;N++){let O=U?0:D*A-v,f=N===x.length-1?b-1-D:(p[N]-O)/A;if(U=Math.ceil(f)===f,f=Math.ceil(f),0===f)continue;O/=p[N];const C=K(x[N],{numColors:f,interpolateAlpha:c,distanceOffset:O,distanceInterval:A/p[N]});D+=C.length,F.push(...C),v+=p[N]}const B=[...x[x.length-1].toColor];return 3===B.length&&B.push(255),F.push(B),F}(b,T):K(b,T)}function Z(u,T){const b=J(u,T),c=null==T?void 0:T.interpolateAlpha;return b.forEach((p,x)=>{p.unshift(x),c||p.pop()}),b}function X(u){const T=me(u);if(u){if("algorithmic"===u.type)return Le(Re({},E(u)),{Name:T});if(u.colorRamps){const b=u.colorRamps.map(E);return{type:"MultiPartColorRamp",NumColorRamps:b.length,ArrayOfColorRamp:b,Name:T}}}}function E(u){var T;if(u)return{Algorithm:(null==(T=u.toJSON())?void 0:T.Algorithm)||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:j(u.fromColor),ToColor:j(u.toColor)}}function j(u){const T=(0,xe._Y)(u);return{type:"HsvColor",Hue:T.h,Saturation:T.s,Value:T.v,AlphaValue:255}}function I(u){const T=u.reverse().map(b=>{const c=b.toString(16);return c.length<2?"0"+c:c});return 4294967295&Number.parseInt(T.join(""),16)}},65468:(Se,Ae,te)=>{te.d(Ae,{J:()=>Te,v:()=>xe});const xe=new(te(2076).X)({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"}),Te={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"}},37084:(Se,Ae,te)=>{te.d(Ae,{GE:()=>ae});var ne=te(15861),Te=(te(29132),te(8314)),we=te(63290),de=(te(21286),te(10699)),ie=te(4619);te(37053),te(2004);const me=we.Z.getLogger("esri.views.2d.engine.flow.dataUtils");function ae(b,c,p,x){return q.apply(this,arguments)}function q(){return(q=(0,ne.Z)(function*(b,c,p,x){const F=performance.now(),D=se(c,p),v=performance.now(),A=K(c,D,p.width,p.height),U=performance.now(),B=J(A,!0),N=performance.now(),O="Streamlines"===b?Z(B,10):X(B),f=performance.now();return(0,Te.Z)("esri-2d-profiler")&&(me.info("I.1","_createFlowFieldFromData (ms)",Math.round(v-F)),me.info("I.2","_getStreamlines (ms)",Math.round(U-v)),me.info("I.3","createAnimatedLinesData (ms)",Math.round(N-U)),me.info("I.4","create{Streamlines|Particles}Mesh (ms)",Math.round(f-N)),me.info("I.5","createFlowMesh (ms)",Math.round(f-F)),me.info("I.6","Mesh size (bytes)",O.vertexData.buffer.byteLength+O.indexData.buffer.byteLength)),yield Promise.resolve(),(0,de.k_)(x),O})).apply(this,arguments)}function se(b,c){const p=function ue(b,c,p,x){if(0===x)return b;const F=Math.round(3*x),D=new Array(2*F+1);let v=0;for(let B=-F;B<=F;B++){const N=Math.exp(-B*B/(x*x));D[B+F]=N,v+=N}for(let B=-F;B<=F;B++)D[B+F]/=v;const A=new Float32Array(b.length);for(let B=0;B<p;B++)for(let N=0;N<c;N++){let O=0,f=0;for(let C=-F;C<=F;C++){if(N+C<0||N+C>=c)continue;const d=D[C+F];O+=d*b[2*(B*c+(N+C))+0],f+=d*b[2*(B*c+(N+C))+1]}A[2*(B*c+N)+0]=O,A[2*(B*c+N)+1]=f}const U=new Float32Array(b.length);for(let B=0;B<c;B++)for(let N=0;N<p;N++){let O=0,f=0;for(let C=-F;C<=F;C++){if(N+C<0||N+C>=p)continue;const d=D[C+F];O+=d*A[2*((N+C)*c+B)+0],f+=d*A[2*((N+C)*c+B)+1]}U[2*(N*c+B)+0]=O,U[2*(N*c+B)+1]=f}return U}(c.data,c.width,c.height,b.smoothing);return b.interpolate?(x,F)=>{const D=Math.floor(x),v=Math.floor(F);if(D<0||D>=c.width)return[0,0];if(v<0||v>=c.height)return[0,0];const A=x-D,U=F-v,O=D<c.width-1?D+1:D,f=v<c.height-1?v+1:v;return[(p[2*(v*c.width+D)]*(1-U)+p[2*(f*c.width+D)]*U)*(1-A)+(p[2*(v*c.width+O)]*(1-U)+p[2*(f*c.width+O)]*U)*A,(p[2*(v*c.width+D)+1]*(1-U)+p[2*(f*c.width+D)+1]*U)*(1-A)+(p[2*(v*c.width+O)+1]*(1-U)+p[2*(f*c.width+O)+1]*U)*A]}:(x,F)=>{const D=Math.round(x),v=Math.round(F);return D<0||D>=c.width||v<0||v>=c.height?[0,0]:[p[2*(v*c.width+D)+0],p[2*(v*c.width+D)+1]]}}function Q(b,c,p,x,F,D,v,A,U){const B=[];let N=p,O=x,f=0,[C,d]=c(N,O);C*=b.velocityScale,d*=b.velocityScale;const s=Math.sqrt(C*C+d*d);let h,t;B.push({x:N,y:O,t:f,speed:s});for(let _=0;_<b.verticesPerLine;_++){let[w,k]=c(N,O);w*=b.velocityScale,k*=b.velocityScale;const L=Math.sqrt(w*w+k*k);if(L<b.minSpeedThreshold)return B;const i=w/L,y=k/L;if(N+=i*b.segmentLength,O+=y*b.segmentLength,f+=b.segmentLength/L,Math.acos(i*h+y*t)>b.maxTurnAngle)return B;if(b.collisions){const g=Math.round(N*U),m=Math.round(O*U);if(g<0||g>v-1||m<0||m>A-1)return B;const P=D[m*v+g];if(-1!==P&&P!==F)return B;D[m*v+g]=F}B.push({x:N,y:O,t:f,speed:L}),h=i,t=y}return B}function K(b,c,p,x){const F=[],D=new ie.Z,v=1/Math.max(b.lineCollisionWidth,1),A=Math.round(p*v),U=Math.round(x*v),B=new Int32Array(A*U);for(let O=0;O<B.length;O++)B[O]=-1;const N=[];for(let O=0;O<x;O+=b.lineSpacing)for(let f=0;f<p;f+=b.lineSpacing)N.push({x:f,y:O,sort:D.getFloat()});N.sort((O,f)=>O.sort-f.sort);for(const{x:O,y:f}of N)if(D.getFloat()<b.density){const C=Q(b,c,O,f,F.length,B,A,U,v);if(C.length<2)continue;F.push(C)}return F}function J(b,c){const p=new ie.Z,x=b.reduce((U,B)=>U+B.length,0),F=new Float32Array(4*x),D=new Array(b.length);let v=0,A=0;for(const U of b){const B=v;for(const N of U)F[4*v+0]=N.x,F[4*v+1]=N.y,F[4*v+2]=N.t,F[4*v+3]=N.speed,v++;D[A++]={startVertex:B,numberOfVertices:U.length,totalTime:U[U.length-1].t,timeSeed:c?p.getFloat():0}}return{lineVertices:F,lineDescriptors:D}}function Z(b,c){const{lineVertices:x,lineDescriptors:F}=b;let D=0,v=0;for(const C of F)D+=2*C.numberOfVertices,v+=6*(C.numberOfVertices-1);const A=new Float32Array(9*D),U=new Uint32Array(v);let B=0,N=0;function f(C,d,s,h,t,_,w,k){const L=9*B;let i=0;A[L+i++]=C,A[L+i++]=d,A[L+i++]=1,A[L+i++]=s,A[L+i++]=_,A[L+i++]=w,A[L+i++]=h/2,A[L+i++]=t/2,A[L+i++]=k,B++,A[L+i++]=C,A[L+i++]=d,A[L+i++]=-1,A[L+i++]=s,A[L+i++]=_,A[L+i++]=w,A[L+i++]=-h/2,A[L+i++]=-t/2,A[L+i++]=k,B++}for(const C of F){const{totalTime:d,timeSeed:s}=C;let h=null,t=null,_=null,w=null,k=null,L=null;for(let i=0;i<C.numberOfVertices;i++){const y=x[4*(C.startVertex+i)+0],g=x[4*(C.startVertex+i)+1],m=x[4*(C.startVertex+i)+2],P=x[4*(C.startVertex+i)+3];let M=null,S=null,G=null,W=null;if(i>0){M=y-h,S=g-t;const z=Math.sqrt(M*M+S*S);if(M/=z,S/=z,i>1){let V=M+k,re=S+L;const he=Math.sqrt(V*V+re*re);V/=he,re/=he;const ee=Math.min(1/(V*M+re*S),c);V*=ee,re*=ee,G=-re,W=V}else G=-S,W=M;null!==G&&null!==W&&(f(h,t,_,G,W,d,s,P),U[N++]=B-2,U[N++]=B,U[N++]=B-1,U[N++]=B,U[N++]=B+1,U[N++]=B-1)}h=y,t=g,_=m,k=M,L=S,w=P}f(h,t,_,-L,k,d,s,w)}return{vertexData:A,indexData:U}}function X(b){const{lineVertices:F,lineDescriptors:D}=b;let v=0,A=0;for(const z of D){const V=z.numberOfVertices-1;v+=4*V*2,A+=6*V*2}const U=new Float32Array(16*v),B=new Uint32Array(A);let N,O,f,C,d,s,h,t,_,w,k,L,i,y,g=0,m=0;function S(z,V){let re=_+k,he=w+L;const ee=Math.sqrt(re*re+he*he);re/=ee,he/=ee;const oe=_*re+w*he;re/=oe,he/=oe;let le=k+i,pe=L+y;const Y=Math.sqrt(le*le+pe*pe);le/=Y,pe/=Y;const $=k*le+L*pe;le/=$,pe/=$,function M(z,V,re,he,ee,oe,le,pe,Y,$,ce,Ce,ye,be){const _e=16*g;let ve=0;for(const Ee of[1,2])for(const Me of[1,2,3,4])U[_e+ve++]=z,U[_e+ve++]=V,U[_e+ve++]=re,U[_e+ve++]=he,U[_e+ve++]=le,U[_e+ve++]=pe,U[_e+ve++]=Y,U[_e+ve++]=$,U[_e+ve++]=Ee,U[_e+ve++]=Me,U[_e+ve++]=ye,U[_e+ve++]=be,U[_e+ve++]=ee/2,U[_e+ve++]=oe/2,U[_e+ve++]=ce/2,U[_e+ve++]=Ce/2,g++}(N,O,f,C,-he,re,d,s,h,t,-pe,le,z,V),function P(){B[m++]=g-8,B[m++]=g-7,B[m++]=g-6,B[m++]=g-7,B[m++]=g-5,B[m++]=g-6,B[m++]=g-4,B[m++]=g-3,B[m++]=g-2,B[m++]=g-3,B[m++]=g-1,B[m++]=g-2}()}function G(z,V,re,he,ee,oe){if(_=k,w=L,k=i,L=y,null==_&&null==w&&(_=k,w=L),null!=d&&null!=s){i=z-d,y=V-s;const le=Math.sqrt(i*i+y*y);i/=le,y/=le}null!=_&&null!=w&&S(ee,oe),N=d,O=s,f=h,C=t,d=z,s=V,h=re,t=he}function W(z,V){_=k,w=L,k=i,L=y,null==_&&null==w&&(_=k,w=L),null!=_&&null!=w&&S(z,V)}for(const z of D){N=null,O=null,f=null,C=null,d=null,s=null,h=null,t=null,_=null,w=null,k=null,L=null,i=null,y=null;const{totalTime:V,timeSeed:re}=z;for(let he=0;he<z.numberOfVertices;he++)G(F[4*(z.startVertex+he)+0],F[4*(z.startVertex+he)+1],F[4*(z.startVertex+he)+2],F[4*(z.startVertex+he)+3],V,re);W(V,re)}return{vertexData:U,indexData:B}}}}]);