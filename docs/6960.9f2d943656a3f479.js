"use strict";var dt=Object.defineProperty,Et=Object.defineProperties,Mt=Object.getOwnPropertyDescriptors,ot=Object.getOwnPropertySymbols,bt=Object.prototype.hasOwnProperty,vt=Object.prototype.propertyIsEnumerable,it=(R,M,n)=>M in R?dt(R,M,{enumerable:!0,configurable:!0,writable:!0,value:n}):R[M]=n,rt=(R,M)=>{for(var n in M||(M={}))bt.call(M,n)&&it(R,n,M[n]);if(ot)for(var n of ot(M))vt.call(M,n)&&it(R,n,M[n]);return R},pt=(R,M)=>Et(R,Mt(M));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[6960,998],{66960:(R,M,n)=>{n.r(M),n.d(M,{getPatternDescriptor:()=>I,getSizeFromOptions:()=>st,getSymbolLayerFill:()=>o,previewSymbol3D:()=>ft});var Y=n(15861),k=n(54346),H=n(78260),A=(n(8314),n(26584)),X=n(63290),D=n(62208),$=n(10699),j=n(23841),x=n(74741),G=n(33215),at=n(48521),m=n(71131),Z=n(34057),b=n(86606),g=n(50998);const O=m.b_.size,L=m.b_.maxSize,T=m.b_.maxOutlineSize,N=m.b_.lineWidth,K=m.b_.tallSymbolWidth,Q=X.Z.getLogger("esri.symbols.support.previewSymbol3D");function C(t){const s=t.outline,l=(0,D.pC)(t.material)?t.material.color:null,e=(0,D.pC)(l)?l.toHex():null;if((0,D.Wi)(s)||"pattern"in s&&(0,D.pC)(s.pattern)&&"style"===s.pattern.type&&"none"===s.pattern.style)return"fill"===t.type&&"#ffffff"===e?{color:"#bdc3c7",width:.75}:null;const a=(0,j.F2)(s.size)||0;return{color:"rgba("+((0,D.pC)(s.color)?s.color.toRgba():"255,255,255,1")+")",width:Math.min(a,T),style:"pattern"in s&&(0,D.pC)(s.pattern)&&"style"===s.pattern.type?(0,x.Sp)(s.pattern.style):null,join:"butt",cap:"patternCap"in s?s.patternCap:"butt"}}function B(t,s=1){const l=t.a,e=(0,H._Y)(t),a=e.h,r=e.s/s,i=100-(100-e.v)/s,{r:u,g:d,b:y}=(0,H.xr)({h:a,s:r,v:i});return[u,d,y,l]}function z(t){return"water"===t.type?(0,D.Wi)(t.color)?null:t.color:(0,D.Wi)(t.material)||(0,D.Wi)(t.material.color)?null:t.material.color}function o(t,s=0){const l=z(t);if(!l){if("fill"===t.type)return null;const r=(0,m.uH)(x.Ne.r,s);return[r,r,r,100]}const e=l.toRgba();for(let a=0;a<3;a++)e[a]=(0,m.uH)(e[a],s);return e}function I(t,s){return J.apply(this,arguments)}function J(){return(J=(0,Y.Z)(function*(t,s){const l=t.style;return"none"===l?null:{type:"pattern",x:0,y:0,src:yield(0,x.Od)((0,k.V)(`esri/symbols/patterns/${l}.png`),s.toCss(!0)),width:5,height:5}})).apply(this,arguments)}function S(t){return t.outline?C(t):{color:"rgba(0, 0, 0, 1)",width:1.5}}function q(t,s){const l=z(t);if(!l)return null;let e="rgba(";return e+=(0,m.uH)(l.r,s)+",",e+=(0,m.uH)(l.g,s)+",",e+=(0,m.uH)(l.b,s)+",",e+l.a+");"}function nt(t,s){const l=q(t,s);return l?"pattern"in t&&(0,D.pC)(t.pattern)&&"style"===t.pattern.type&&"none"===t.pattern.style?null:{color:l,width:Math.min(t.size?(0,j.F2)(t.size):.75,T),style:"pattern"in t&&(0,D.pC)(t.pattern)&&"style"===t.pattern.type?(0,x.Sp)(t.pattern.style):null,cap:"cap"in t?t.cap:null,join:"join"in t?"miter"===t.join?(0,j.F2)(2):t.join:null}:{}}function tt(t,s,l){const e=.75*l;return{type:"linear",x1:e?.25*e:0,y1:e?.5*e:0,x2:e||4,y2:e?.5*e:4,colors:[{color:t,offset:0},{color:s,offset:1}]}}function st(t){const s="number"==typeof(null==t?void 0:t.size)?null==t?void 0:t.size:null;return s?(0,j.F2)(s):null}function lt(){return(lt=(0,Y.Z)(function*(t,s){const l="mesh-3d"===t.type,e=t.symbolLayers,a=st(s),r=s&&s.maxSize?(0,j.F2)(s.maxSize):null,i=a||O,u=[];let d=0,y=0,E=!1;for(let f=0;f<e.length;f++){const c=e.getItemAt(f),h=[];if(l&&"fill"!==c.type)continue;const W=m.JZ.fill[0];switch(c.type){case"fill":{const p=C(c),_=Math.min(i,r||L);d=Math.max(d,_),y=Math.max(y,_),E=!0;let v=o(c,0);const P="pattern"in c&&c.pattern,U=z(c);!l&&(0,D.pC)(P)&&"style"===P.type&&"solid"!==P.style&&U&&(v=yield I(P,U)),h.push({shape:W,fill:v,stroke:p});break}case"line":{const p=nt(c,0);if((0,D.Wi)(p))break;const _={stroke:p,shape:W};d=Math.max(d,O),y=Math.max(y,O),h.push(_);break}case"extrude":{const p=rt({join:"round",width:1},nt(c,-.4)),_=o(c,0),v=o(c,-.2),P=Math.min(i,r||L),U=(0,m.EV)(P);p.width=1,h.push({shape:U[0],fill:v,stroke:p}),h.push({shape:U[1],fill:v,stroke:p}),h.push({shape:U[2],fill:_,stroke:p});const V=.7*O+.5*P;d=Math.max(d,O),y=Math.max(y,V);break}case"water":{const p=z(c),_=B(p),v=B(p,2),P=B(p,3),U=(0,m.ht)();E=!0,h.push({shape:U[0],fill:_}),h.push({shape:U[1],fill:v}),h.push({shape:U[2],fill:P});const w=Math.min(i,r||L);d=Math.max(d,w),y=Math.max(y,w);break}}u.push(h)}return(0,Z.w)(u,[d,y],{node:s&&s.node,scale:E,opacity:s&&s.opacity})})).apply(this,arguments)}function ft(t,s){if(0===t.symbolLayers.length)return Promise.reject(new A.Z("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(t.type){case"point-3d":return function mt(t,s){const l=st(s),e=s&&s.maxSize?(0,j.F2)(s.maxSize):null,a=s&&s.disableUpsampling,r=t.symbolLayers,i=[];let u=0,d=0;const y=r.getItemAt(r.length-1);let E;return y&&"icon"===y.type&&(E=y.size&&(0,j.F2)(y.size)),r.forEach(f=>{var W;if("icon"!==f.type&&"object"!==f.type)return;const c="icon"===f.type?f.size&&(0,j.F2)(f.size):0,h=l||c?Math.ceil(Math.min(l||c,e||L)):O;if(f&&f.resource&&f.resource.href){const p=function F(t,s){const l=s&&s.resource,e=l&&l.href;if(t.thumbnail&&t.thumbnail.url)return Promise.resolve(t.thumbnail.url);if(e&&"object"!==s.type)return Promise.resolve((0,b.nf)(t,s));const a=(0,k.V)("esri/images/Legend/legend3dsymboldefault.png");return t.styleOrigin&&(t.styleOrigin.styleName||t.styleOrigin.styleUrl)?(0,g.resolveWebStyleSymbol)(t.styleOrigin,{portal:t.styleOrigin.portal},"webRef").catch(r=>r).then(r=>{var i;return(null==(i=null==r?void 0:r.thumbnail)?void 0:i.url)||a}):Promise.resolve(a)}(t,f).then(_=>{const v=f.get("material.color"),P=function ht(t){return"icon"===t.type?"multiply":"tint"}(f);return(0,Z.r)(_,h,v,P,a)}).then(_=>{const v=_.width,P=_.height;return u=Math.max(u,v),d=Math.max(d,P),[{shape:{type:"image",x:0,y:0,width:v,height:P,src:_.url},fill:null,stroke:null}]});i.push(p)}else{let p=h;"icon"===f.type&&E&&l&&(p=h*(c/E));const _="tall"===(null==s?void 0:s.symbolConfig)||(null==(W=null==s?void 0:s.symbolConfig)?void 0:W.isTall)||"object"===f.type&&function ct(t){const s=t.depth,l=t.height,e=t.width;return e&&s&&l&&e===s&&e<l}(f);u=Math.max(u,_?K:p),d=Math.max(d,p),i.push(Promise.resolve(function ut(t,s,l){const e=[];if(!t)return e;switch(t.type){case"icon":{const i=s,u=s;switch(t.resource&&t.resource.primitive||G.S){case"circle":e.push({shape:{type:"circle",cx:0,cy:0,r:.5*s},fill:o(t,0),stroke:C(t)});break;case"square":e.push({shape:{type:"path",path:[{command:"M",values:[0,u]},{command:"L",values:[0,0]},{command:"L",values:[i,0]},{command:"L",values:[i,u]},{command:"Z",values:[]}]},fill:o(t,0),stroke:C(t)});break;case"triangle":e.push({shape:{type:"path",path:[{command:"M",values:[0,u]},{command:"L",values:[.5*i,0]},{command:"L",values:[i,u]},{command:"Z",values:[]}]},fill:o(t,0),stroke:C(t)});break;case"cross":e.push({shape:{type:"path",path:[{command:"M",values:[.5*i,0]},{command:"L",values:[.5*i,u]},{command:"M",values:[0,.5*u]},{command:"L",values:[i,.5*u]}]},stroke:S(t)});break;case"x":e.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[i,u]},{command:"M",values:[i,0]},{command:"L",values:[0,u]}]},stroke:S(t)});break;case"kite":e.push({shape:{type:"path",path:[{command:"M",values:[0,.5*u]},{command:"L",values:[.5*i,0]},{command:"L",values:[i,.5*u]},{command:"L",values:[.5*i,u]},{command:"Z",values:[]}]},fill:o(t,0),stroke:C(t)})}break}case"object":switch(t.resource&&t.resource.primitive||at.S){case"cone":{const a=tt(o(t,0),o(t,-.6),l?K:s),r=(0,m.TE)(s,l);e.push({shape:r[0],fill:a}),e.push({shape:r[1],fill:a});break}case"inverted-cone":{const a=o(t,0),r=tt(a,o(t,-.6),s),i=(0,m.DY)(s);e.push({shape:i[0],fill:r}),e.push({shape:i[1],fill:a});break}case"cube":{const a=(0,m.Pc)(s,l);e.push({shape:a[0],fill:o(t,0)}),e.push({shape:a[1],fill:o(t,-.3)}),e.push({shape:a[2],fill:o(t,-.5)});break}case"cylinder":{const a=tt(o(t,0),o(t,-.6),l?K:s),r=(0,m.EB)(s,l);e.push({shape:r[0],fill:a}),e.push({shape:r[1],fill:a}),e.push({shape:r[2],fill:o(t,0)});break}case"diamond":{const a=(0,m.XX)(s);e.push({shape:a[0],fill:o(t,-.3)}),e.push({shape:a[1],fill:o(t,0)}),e.push({shape:a[2],fill:o(t,-.3)}),e.push({shape:a[3],fill:o(t,-.7)});break}case"sphere":{const a=tt(o(t,0),o(t,-.6));a.x1=0,a.y1=0,a.x2=.25*s,a.y2=.25*s,e.push({shape:{type:"circle",cx:0,cy:0,r:.5*s},fill:a});break}case"tetrahedron":{const a=(0,m.tp)(s);e.push({shape:a[0],fill:o(t,-.3)}),e.push({shape:a[1],fill:o(t,0)}),e.push({shape:a[2],fill:o(t,-.6)});break}}}return e}(f,p,_)))}}),(0,$.as)(i).then(f=>{const c=[];return f.forEach(h=>{h.value?c.push(h.value):h.error&&Q.warn("error while building swatchInfo!",h.error)}),(0,Z.w)(c,[u,d],{node:s&&s.node,scale:!1,opacity:s&&s.opacity})})}(t,s);case"line-3d":return function yt(t,s){const l=t.symbolLayers,e=[],a=(0,b.YW)(t),r=st(s),i=(s&&s.maxSize?(0,j.F2)(s.maxSize):null)||T;let u,d=0,y=0;return l.forEach((E,f)=>{if(!E||"line"!==E.type&&"path"!==E.type)return;const c=[];switch(E.type){case"line":{const h=nt(E,0);if((0,D.Wi)(h))break;const W=h&&h.width||0;0===f&&(u=W);const p=Math.min(r||W,i),_=0===f?p:r?p*(W/u):p,v=_>N/2?2*_:N;y=Math.max(y,_),d=Math.max(d,v),h.width=_,c.push({shape:{type:"path",path:[{command:"M",values:[0,.5*y]},{command:"L",values:[d,.5*y]}]},stroke:h});break}case"path":{const h=Math.min(r||O,i),W=o(E,0),p=o(E,-.2),_=q(E,-.4),v=_?{color:_,width:1}:{};if("quad"===E.profile){const P=E.width,U=E.height,w=(0,m.eb)(P&&U?P/U:1,0===U,0===P),V=pt(rt({},v),{join:"bevel"});c.push({shape:w[0],fill:p,stroke:V}),c.push({shape:w[1],fill:p,stroke:V}),c.push({shape:w[2],fill:W,stroke:V})}else c.push({shape:m.JZ.pathSymbol3DLayer[0],fill:p,stroke:v}),c.push({shape:m.JZ.pathSymbol3DLayer[1],fill:W,stroke:v});y=Math.max(y,h),d=y}}e.push(c)}),Promise.resolve((0,Z.w)(e,[d,y],{node:s&&s.node,scale:a,opacity:s&&s.opacity}))}(t,s);case"polygon-3d":case"mesh-3d":return function _t(t,s){return lt.apply(this,arguments)}(t,s)}return Promise.reject(new A.Z("symbolPreview: swatchInfo3D","symbol not supported."))}},50998:(R,M,n)=>{n.r(M),n.d(M,{fetchSymbolFromStyle:()=>m,resolveWebStyleSymbol:()=>at});var Y=n(20383),k=n(83100),H=n(26584),et=n(62208),A=n(21726),X=n(84687),D=n(29840),$=n(9461),j=n(77345),x=n(71937),G=n(96296);function at(b,g,O,L){return b.name?b.styleName&&"Esri2DPointSymbolsStyle"===b.styleName?function Z(b,g,O){const L=x.wm.replace(/\{SymbolName\}/gi,b.name),T=(0,et.pC)(g.portal)?g.portal:X.Z.getDefault();return(0,x.EJ)(L,O).then(N=>{const K=(0,x.KV)(N.data);return(0,$.im)(K,{portal:T,url:(0,A.mN)((0,A.Yd)(L)),origin:"portal-item"})})}(b,g,L):(0,x.n2)(b,g,L).then(T=>m(T,b.name,g,O,L)):Promise.reject(new H.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function m(b,g,O,L,T){const N=b.data,K=O&&(0,et.pC)(O.portal)?O.portal:X.Z.getDefault(),Q={portal:K,url:(0,A.mN)(b.baseUrl),origin:"portal-item"},C=N.items.find(I=>I.name===g);if(!C)return Promise.reject(new H.Z("symbolstyleutils:symbol-name-not-found",`The symbol name '${g}' could not be found`,{symbolName:g}));let F=(0,D.f)((0,x.v9)(C,L),Q),B=C.thumbnail&&C.thumbnail.href;const z=C.thumbnail&&C.thumbnail.imageData;(0,k.XO)()&&(F=(0,k.pJ)(F),B=(0,k.pJ)(B));const o={portal:K,url:(0,A.mN)((0,A.Yd)(F)),origin:"portal-item"};return(0,x.EJ)(F,T).then(I=>{const J="cimRef"===L?(0,x.KV)(I.data):I.data,S=(0,$.im)(J,o);if(S&&(0,Y.dU)(S)){if(B){const q=(0,D.f)(B,Q);S.thumbnail=new G.p({url:q})}else z&&(S.thumbnail=new G.p({url:`data:image/png;base64,${z}`}));b.styleUrl?S.styleOrigin=new j.Z({portal:O.portal,styleUrl:b.styleUrl,name:g}):b.styleName&&(S.styleOrigin=new j.Z({portal:O.portal,styleName:b.styleName,name:g}))}return S})}}}]);