"use strict";var ye=Object.defineProperty,me=Object.defineProperties,Ee=Object.getOwnPropertyDescriptors,ce=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,ue=(D,g,e)=>g in D?ye(D,g,{enumerable:!0,configurable:!0,writable:!0,value:e}):D[g]=e,ee=(D,g)=>{for(var e in g||(g={}))fe.call(g,e)&&ue(D,e,g[e]);if(ce)for(var e of ce(g))Pe.call(g,e)&&ue(D,e,g[e]);return D},_e=(D,g)=>me(D,Ee(g));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[9759],{34013:(D,g,e)=>{e.d(g,{I:()=>W,b:()=>O});var i=e(62208),v=e(99770),A=e(6945),U=e(78925),P=e(24255),y=e(10109),_=e(67022),j=e(33726),p=e(2166),m=e(95285),F=e(65787),T=e(17625),b=e(22355),h=e(35387),o=e(42743),l=e(16396);function O(R){const E=new b.kG;(0,p.S)(E,R),E.include(P.w),E.attributes.add(l.T.POSITION,"vec3"),E.attributes.add(l.T.UV0,"vec2"),E.varyings.add("vpos","vec3"),R.hasMultipassTerrain&&E.varyings.add("depth","float");const{vertex:G,fragment:H}=E;return G.uniforms.add(new m.A("textureCoordinateScaleFactor",I=>(0,i.pC)(I.texture)&&(0,i.pC)(I.texture.descriptor.textureCoordinateScaleFactor)?I.texture.descriptor.textureCoordinateScaleFactor:v.O)),G.code.add(T.H`
    void main(void) {
      vpos = position;
      ${R.hasMultipassTerrain?"depth = (view * vec4(vpos, 1.0)).z;":""}
      vTexCoord = uv0 * textureCoordinateScaleFactor;
      gl_Position = transformPosition(proj, view, vpos);
    }
  `),E.include(U.f5,R),E.include(y.l,R),H.uniforms.add([new h.A("tex",I=>I.texture),new F.p("opacity",I=>I.opacity)]),E.varyings.add("vTexCoord","vec2"),R.output===A.H.Alpha?H.code.add(T.H`
    void main() {
      discardBySlice(vpos);
      ${R.hasMultipassTerrain?"terrainDepthTest(gl_FragCoord, depth);":""}

      float alpha = texture2D(tex, vTexCoord).a * opacity;
      if (alpha  < ${T.H.float(_.F)}) {
        discard;
      }

      gl_FragColor = vec4(alpha);
    }
    `):(H.include(j.Y),H.code.add(T.H`
    void main() {
      discardBySlice(vpos);
      ${R.hasMultipassTerrain?"terrainDepthTest(gl_FragCoord, depth);":""}
      gl_FragColor = texture2D(tex, vTexCoord) * opacity;

      if (gl_FragColor.a < ${T.H.float(_.F)}) {
        discard;
      }

      gl_FragColor = highlightSlice(gl_FragColor, vpos);
      ${R.transparencyPassType===o.Am.Color?"gl_FragColor = premultiplyAlpha(gl_FragColor);":""}
    }
    `)),E}const W=Object.freeze(Object.defineProperty({__proto__:null,build:O},Symbol.toStringTag,{value:"Module"}))},69759:(D,g,e)=>{e.d(g,{Z:()=>ge});var i=e(15861),v=e(17626),A=e(59213),U=e(54024),P=e(63290),y=e(62208),_=e(10699),j=e(32917),p=e(77712),b=(e(85931),e(8314),e(90912),e(76898)),h=e(2004),o=e(65401),l=e(62600),O=e(19702),W=e(52107),R=e(57521),E=e(16396);function H(t){return R.Z.createSquareGeometry([[t[0],t[1],-1],[t[2],t[1],-1],[t[2],t[3],-1],[t[0],t[3],-1]])}const te=[0,0,1];var B=e(89765),se=e(93605),$=e(75224),re=e(42743),N=e(54840),c=e(53855),C=e(81695),w=e(79967),Z=e(45611),Y=e(94421),ae=e(93579),q=e(67969);const ie=P.Z.getLogger("esri.views.3d.layers.DynamicLayerView3D");let V=class extends((0,Y.Z)((0,O.A)(Z.Z))){constructor(){var t;super(...arguments),t=this,this.drapeSourceType=l.L.RasterImage,this.updatePolicy=re.jq.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=(0,_.Ds)(function(){var s=(0,i.Z)(function*(a){t.destroyed||(yield t._doRefresh(a).catch(d=>{(0,_.D_)(d)||P.Z.getLogger(t.declaredClass).error(d)}))});return function(a){return s.apply(this,arguments)}}(),2e3)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.handles.add((0,U.kB)(()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this))),this.addResolvingPromise((0,B.E)(this).then(t=>this._set("fullExtentInLocalViewSpatialReference",t))),this.updatingHandles.add(()=>this.suspended,()=>this._suspendedChangeHandler()),this.handles.add(this.view.resourceController.scheduler.registerIdleStateCallbacks(()=>{this._isScaleRangeActive()&&this.notifyChange("suspended")},()=>{})),this._isScaleRangeLayer()&&this.updatingHandles.add(()=>this.layer.effectiveScaleRange,()=>this.notifyChange("suspended"))}destroy(){this.clear()}setDrapingExtent(t,s){this._spatialReference=s,t.forEach(a=>{this._overlays[a.index]=a,this._updateImageExtent(a)})}_updateImageExtent(t){const s=this._clippedExtent(t.extent,ve);if((0,y.Wi)(s))return;const a=function G(t,s,a){const d=(0,o.bf)(t)/(0,o.Cb)(t),u={width:a,height:a};return d>1.0001?u.height=a/d:d<.9999&&(u.width=a*d),u.width=Math.round(u.width/((0,o.bf)(t)/(0,o.bf)(s))),u.height=Math.round(u.height/((0,o.Cb)(t)/(0,o.Cb)(s))),u}(t.extent,s,t.resolution);let d=t.pixelRatio*this.view.state.pixelRatio;if("imageMaxWidth"in this.layer||"imageMaxHeight"in this.layer){const n=this.layer.imageMaxWidth,M=this.layer.imageMaxHeight;if(a.width>n){const f=n/a.width;a.height=Math.floor(a.height*f),a.width=n,d*=f}if(a.height>M){const f=M/a.height;a.width=Math.floor(a.width*f),a.height=M,d*=f}}const u=this._extents[t.index];u&&(0,o.fS)(u.extent,s)&&this._imageSizeEquals(s,u.imageSize,a)||(this._extents[t.index]={extent:(0,o.Ue)(s),imageSize:a,pixelRatio:d},this.suspended||this._fetch(t.index).catch(n=>{(0,_.D_)(n)||ie.error(n)}))}clear(){for(let t=0;t<this._images.length;t++)this._clearImage(t)}doRefresh(){var t=this;return(0,i.Z)(function*(){return t._doRefresh()})()}_doRefresh(t){var s=this;return(0,i.Z)(function*(){if(s.suspended)return;const a=[];for(let d=0;d<s._extents.length;d++)s._extents[d]&&a.push(s._fetch(d,t));yield(0,_.as)(a)})()}canResume(){if(!super.canResume())return!1;const t=this.layer;if(this._isScaleRangeActive()){const{minScale:s,maxScale:a}=t.effectiveScaleRange,d=this.view.scale;if(d<a||s>0&&d>s)return!1}return!0}isUpdating(){return this._images.some(t=>!!t.loadingPromise)}processResult(t,s,a){return(0,i.Z)(function*(){(s instanceof HTMLImageElement||s instanceof HTMLCanvasElement)&&(t.image=s)})()}findExtentInfoAt(t){for(const s of this._extents){const a=s.extent;if(new h.Z(a[0],a[1],a[2],a[3],this._spatialReference).contains(t))return s}return null}getFetchOptions(){}redraw(t,s){var a=this;return(0,i.Z)(function*(){yield(0,A.Ed)(a._images,function(){var d=(0,i.Z)(function*(u,n){u&&(yield t(u,s),yield a._createStageObjects(n,u.image,s))});return function(u,n){return d.apply(this,arguments)}}())})()}_imageSizeEquals(t,s,a){if(!this.maximumDataResolution)return!1;const d=(0,o.bf)(t)/this.maximumDataResolution.x,u=(0,o.Cb)(t)/this.maximumDataResolution.y,M=u/s.height,x=u/a.height,K=Math.abs(d/s.width-d/a.width),S=Math.abs(M-x),L=se.Z.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return K<=L&&S<=L}_fetch(t,s){var a=this;return(0,i.Z)(function*(){if(a.suspended)return;const d=a._extents[t],u=d.extent;a._images[t]||(a._images[t]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:(0,o.Ue)(u)});const n=a._images[t];n.loadingAbortController&&(n.loadingAbortController.abort(),n.loadingAbortController=null);const M=new h.Z(u[0],u[1],u[2],u[3],a._spatialReference);if(0===M.width||0===M.height)return void a._clearImage(t);const f=new AbortController;n.loadingAbortController=f,(0,_.fu)(s,()=>f.abort());const x=f.signal,K=a._waitFetchReady(x).then((0,i.Z)(function*(){const S=_e(ee({requestAsImageElement:!0,pixelRatio:a._overlays[t].pixelRatio},a.getFetchOptions()),{signal:x}),{height:L,width:Q}=d.imageSize;return a.layer.fetchImage(M,Q,L,S)})).then(S=>{if((0,_.Hc)(x))throw ie.warnOnce("A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true."),(0,_.zE)();return a.processResult(n,S)}).then(()=>{(0,o.JG)(n.renderExtent,u)}).finally(()=>{K===n.loadingPromise&&(n.loadingPromise=null,n.loadingAbortController=null)});n.loadingPromise=K,a.notifyChange("updating"),yield K.then((0,i.Z)(function*(){if(x.aborted)throw(0,_.zE)();yield a._createStageObjects(t,n.image,x),a.notifyChange("updating")})).catch(S=>{throw S&&!(0,_.D_)(S)&&ie.error(S),a.notifyChange("updating"),S})})()}_clearImage(t){const s=this._images[t];if(s){(0,y.pC)(s.renderGeometry)&&(this._drapeSourceRenderer.removeGeometries([s.renderGeometry],N.$.Geometry.UPDATE),s.renderGeometry=null);const a=this.view._stage;a.remove(s.texture),s.texture=null,a.remove(s.material),s.material=null,s.loadingAbortController&&(s.loadingAbortController.abort(),s.loadingAbortController=null),s.loadingPromise=null,s.image=null,s.pixelData=null}}_createStageObjects(t,s,a){var d=this;return(0,i.Z)(function*(){const u=d.view._stage,n=d._images[t],M=()=>{u.remove(n.texture),n.texture=null,(0,y.pC)(n.renderGeometry)&&(d._drapeSourceRenderer.removeGeometries([n.renderGeometry],N.$.Geometry.UPDATE),n.renderGeometry=null)};if(s){const f=new C.x(s,{width:s.width,height:s.height,preMultiplyAlpha:!0,wrap:{s:q.e8.CLAMP_TO_EDGE,t:q.e8.CLAMP_TO_EDGE}});let x;if(yield(0,A.q6)(d._images[t===$.fu.INNER?$.fu.OUTER:$.fu.INNER].loadingPromise),(0,_.k_)(a),t===$.fu.INNER)x=H(n.renderExtent);else{const K=d._images[0].renderExtent;if(!K)return void M();x=function I(t,s){if(!(0,o.kK)(t,s))return H(s);const a=[t[1]-s[1],Math.min(t[3],s[3])-Math.max(t[1],s[1]),s[3]-t[3],123456],d=[t[0]-s[0],Math.min(t[2],s[2])-Math.max(t[0],s[0]),s[2]-t[2],123456],u=s[2]-s[0],n=s[3]-s[1],M=d[0]>0&&d[2]>0?3:2,f=a[0]>0&&a[2]>0?3:2,x=(f+1)*(M+1),K=new Float64Array(3*x),S=new Float32Array(2*x),L=new Uint32Array(6*(f*M-1));let Q=0,ne=0,le=0,z=0,J=0;for(let X=0;X<4;X++){const de=a[X];if(de<=0)continue;let oe=0;for(let k=0;k<4;k++){const he=d[k];he<=0||(K[ne++]=s[0]+oe,K[ne++]=s[1]+Q,K[ne++]=-1,S[le++]=oe/u,S[le++]=Q/n,k<3&&X<3&&(1!==k||1!==X)&&(L[J++]=z,L[J++]=z+1,L[J++]=z+M+1,L[J++]=z+1,L[J++]=z+M+2,L[J++]=z+M+1),z++,oe+=he)}Q+=de}const pe=new Uint32Array(L.length);return new W.Z([[E.T.POSITION,{size:3,data:K,exclusive:!0}],[E.T.NORMAL,{size:3,data:te,exclusive:!0}],[E.T.UV0,{size:2,data:S,exclusive:!0}]],[[E.T.POSITION,L],[E.T.NORMAL,pe],[E.T.UV0,L]])}(K,n.renderExtent)}M(),u.add(f),yield u.loadImmediate(f),n.texture=f,(0,y.Wi)(n.material)?(n.material=new w.j({transparent:!0,textureId:f.id}),u.add(n.material)):n.material.setParameters({textureId:f.id}),n.renderGeometry=new c.z(x,n.material),n.renderGeometry.origin=d._overlays[t].renderLocalOrigin,d._drapeSourceRenderer.addGeometries([n.renderGeometry],N.$.Geometry.UPDATE)}else M(),u.remove(n.material),n.material=null})()}_isScaleRangeLayer(){return"effectiveScaleRange"in this.layer}_isScaleRangeActive(){const t=this.layer;if(!this._isScaleRangeLayer())return!1;const{minScale:s,maxScale:a}=t.effectiveScaleRange;return(0,ae.Av)(s,a)}_clippedExtent(t,s){if("local"!==this.view.viewingMode)return(0,o.JG)(s,t);const a=this.view.basemapTerrain;return a.ready?(0,o.jV)(t,a.extent,s):(0,o.JG)(s,t)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}_waitFetchReady(t){var s=this;return(0,i.Z)(function*(){yield(0,j.N1)(()=>s.view.stationary,t),(0,_.k_)(t)})()}};(0,v._)([(0,p.Cb)()],V.prototype,"layer",void 0),(0,v._)([(0,p.Cb)()],V.prototype,"suspended",void 0),(0,v._)([(0,p.Cb)({readOnly:!0})],V.prototype,"fullExtentInLocalViewSpatialReference",void 0),(0,v._)([(0,p.Cb)()],V.prototype,"updating",void 0),V=(0,v._)([(0,b.j)("esri.views.3d.layers.DynamicLayerView3D")],V);const ge=V,ve=(0,o.Ue)()},19702:(D,g,e)=>{e.d(g,{A:()=>T});var i=e(15861),v=e(17626),A=e(54024),U=e(10699),P=e(32917),y=e(77712),m=(e(85931),e(8314),e(90912),e(76898)),F=e(36947);const T=b=>{let h=class extends b{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(o){super.postscript(o),(0,F.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}_validateHeightModelInfo(){var o=this;return(0,i.Z)(function*(){const l=new AbortController,O=l.signal;o.handles.add((0,A.kB)(()=>l.abort())),yield(0,P.N1)(()=>{var R;return null==(R=o.view.defaultsFromMap)?void 0:R.heightModelInfoReady},O),(0,U.k_)(O);const W=(0,F.Wt)(o.layer,o.view.heightModelInfo,o.supportsHeightUnitConversion);if(W)throw W})()}canResume(){const o=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!o||!o.minScale||!o.maxScale||o.minScale>=o.maxScale)}getSuspendInfo(){const o=super.getSuspendInfo(),l=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return l&&l.minScale&&l.maxScale&&l.minScale<l.maxScale&&(o.outsideScaleRange=!0),o}};return(0,v._)([(0,y.Cb)()],h.prototype,"view",void 0),(0,v._)([(0,y.Cb)()],h.prototype,"slicePlaneEnabled",void 0),h=(0,v._)([(0,m.j)("esri.views.3d.layers.LayerView3D")],h),h}},89765:(D,g,e)=>{e.d(g,{E:()=>U});var i=e(62208),v=e(46367),A=e(35082);function U(P){const y=P.view.spatialReference,_=P.layer.fullExtent,j=(0,i.pC)(_)&&_.spatialReference;if((0,i.Wi)(_)||!j)return Promise.resolve(null);if(j.equals(y))return Promise.resolve(_.clone());const p=(0,v.iV)(_,y);return(0,i.pC)(p)?Promise.resolve(p):P.view.state.isLocal?(0,A.projectGeometry)(_,y,P.layer.portalItem).then(m=>!P.destroyed&&m?m:void 0).catch(()=>null):Promise.resolve(null)}},79967:(D,g,e)=>{e.d(g,{j:()=>se});var i=e(6945),v=e(42743),A=e(32393),U=e(33470),P=e(40723),y=e(88569),_=e(5894),j=e(60909),p=e(57623),m=e(17626),T=(e(17625),e(651)),b=e(91056),h=e(87601),o=e(39114),l=e(12407),O=e(64127),W=e(41528),R=e(34013),E=e(67969),G=e(2078);class I extends b.A{initializeProgram(c){const C=I.shader.get().build(this.configuration);return new l.$(c.rctx,C,o.i)}_setPipelineState(c,C){const w=this.configuration,Z=c===v.Am.NONE,Y=c===v.Am.FrontFace;return(0,G.sm)({blending:w.output!==i.H.Color&&w.output!==i.H.Alpha||!w.transparent?null:Z?te:(0,y.j7)(c),culling:(0,G.zp)(w.cullFace),depthTest:{func:(0,y.Bh)(c)},depthWrite:Z?w.writeDepth&&G.LZ:(0,y.K5)(c),colorWrite:G.BK,stencilWrite:w.hasOccludees?O.s3:null,stencilTest:w.hasOccludees?C?O.eD:O.RY:null,polygonOffset:Z||Y?null:(0,y.je)(w.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(c,C){return C?this._occludeePipelineState:super.getPipelineState(c,C)}}I.shader=new T.J(R.I,()=>e.e(8586).then(e.bind(e,18586)));const te=(0,G.if)(E.zi.ONE,E.zi.ONE_MINUS_SRC_ALPHA);class B extends W.W{constructor(){super(...arguments),this.output=i.H.Color,this.cullFace=v.Vr.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=v.Am.NONE,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}(0,m._)([(0,h.o)({count:i.H.COUNT})],B.prototype,"output",void 0),(0,m._)([(0,h.o)({count:v.Vr.COUNT})],B.prototype,"cullFace",void 0),(0,m._)([(0,h.o)()],B.prototype,"hasSlicePlane",void 0),(0,m._)([(0,h.o)()],B.prototype,"transparent",void 0),(0,m._)([(0,h.o)()],B.prototype,"enableOffset",void 0),(0,m._)([(0,h.o)()],B.prototype,"writeDepth",void 0),(0,m._)([(0,h.o)()],B.prototype,"hasOccludees",void 0),(0,m._)([(0,h.o)({count:v.Am.COUNT})],B.prototype,"transparencyPassType",void 0),(0,m._)([(0,h.o)()],B.prototype,"hasMultipassTerrain",void 0),(0,m._)([(0,h.o)()],B.prototype,"cullAboveGround",void 0);class se extends P.F5{constructor(c){super(c,new re),this.supportsEdges=!0,this.techniqueConfig=new B}getConfiguration(c,C){return this.techniqueConfig.output=c,this.techniqueConfig.cullFace=this.parameters.cullFace,this.techniqueConfig.hasSlicePlane=this.parameters.hasSlicePlane,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.hasOccludees=this.parameters.hasOccludees,this.techniqueConfig.transparencyPassType=C.transparencyPassType,this.techniqueConfig.enableOffset=C.camera.relativeElevation<y.ve,this.techniqueConfig.hasMultipassTerrain=C.multipassTerrain.enabled,this.techniqueConfig.cullAboveGround=C.multipassTerrain.cullAboveGround,this.techniqueConfig}intersect(c,C,w,Z,Y,ae,q){(0,p.Bw)(c,C,Z,Y,ae,void 0,q)}requiresSlot(c,C){return c===_.r.DRAPED_MATERIAL||((0,A.S)(C)===i.H.Highlight?c===_.r.OPAQUE_MATERIAL:c===(this.parameters.transparent?this.parameters.writeDepth?_.r.TRANSPARENT_MATERIAL:_.r.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:_.r.OPAQUE_MATERIAL))}createGLMaterial(c){return c.output===i.H.Color||c.output===i.H.Alpha||c.output===i.H.Highlight?new $(c):void 0}createBufferWriter(){return new j.G_(j.W1)}}class $ extends U.F{constructor(c){super(ee(ee({},c),c.material.parameters))}_updateParameters(c){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(I,c)}_updateOccludeeState(c){c.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:c.hasOccludees}),this._updateParameters(c))}beginSlot(c){return this._output!==i.H.Color&&this._output!==i.H.Alpha||this._updateOccludeeState(c),this._updateParameters(c)}}class re extends P.Mt{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=v.Vr.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0}}},45611:(D,g,e)=>{e.d(g,{Z:()=>o});var i=e(17626),v=e(14517),A=e(61885),U=e(80542),P=e(61996),y=e(63290),_=e(62208),j=e(60330),p=e(77712),b=(e(85931),e(8314),e(90912),e(76898));let h=class extends((0,U.p)((0,P.IG)((0,j.v)(A.Z.EventedMixin(v.Z))))){constructor(l){super(l),this.layer=null,this.parent=null}initialize(){this.when().catch(l=>{if("layerview:create-error"!==l.name){const O=this.layer&&this.layer.id||"no id",W=this.layer&&this.layer.title||"no title";y.Z.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${W}', id: '${O}')`,l)}})}get fullOpacity(){return(0,_.Pt)(this.get("layer.opacity"),1)*(0,_.Pt)(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var l;return!this.suspended&&!0===(null==(l=this.layer)?void 0:l.legendEnabled)}get updating(){var l;return!!(null!=(l=this.updatingHandles)&&l.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var l;return!0===(null==(l=this.layer)?void 0:l.visible)}set visible(l){void 0!==l?this._override("visible",l):this._clearOverride("visible")}canResume(){var l,O,W;return this.visible&&(null==(l=this.layer)?void 0:l.loaded)&&!(null!=(O=this.parent)&&O.suspended)&&(null==(W=this.view)?void 0:W.ready)||!1}getSuspendInfo(){const l=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(l.viewNotReady=!0),this.layer&&this.layer.loaded||(l.layerNotLoaded=!0),this.visible||(l.layerInvisible=!0),l}isUpdating(){return!1}};(0,i._)([(0,p.Cb)()],h.prototype,"fullOpacity",null),(0,i._)([(0,p.Cb)()],h.prototype,"layer",void 0),(0,i._)([(0,p.Cb)()],h.prototype,"parent",void 0),(0,i._)([(0,p.Cb)({readOnly:!0})],h.prototype,"suspended",null),(0,i._)([(0,p.Cb)({readOnly:!0})],h.prototype,"suspendInfo",null),(0,i._)([(0,p.Cb)({readOnly:!0})],h.prototype,"legendEnabled",null),(0,i._)([(0,p.Cb)({type:Boolean,readOnly:!0})],h.prototype,"updating",null),(0,i._)([(0,p.Cb)({readOnly:!0})],h.prototype,"updatingProgress",null),(0,i._)([(0,p.Cb)()],h.prototype,"visible",null),(0,i._)([(0,p.Cb)()],h.prototype,"view",void 0),h=(0,i._)([(0,b.j)("esri.views.layers.LayerView")],h);const o=h},94421:(D,g,e)=>{e.d(g,{Z:()=>m});var i=e(17626),v=e(63290),A=e(10699),U=e(32917),P=e(77712),p=(e(85931),e(8314),e(90912),e(76898));const m=F=>{let T=class extends F{initialize(){this.handles.add((0,U.on)(()=>this.layer,"refresh",b=>{this.doRefresh(b.dataChanged).catch(h=>{(0,A.D_)(h)||v.Z.getLogger(this.declaredClass).error(h)})}),"RefreshableLayerView")}};return(0,i._)([(0,P.Cb)()],T.prototype,"layer",void 0),T=(0,i._)([(0,p.j)("esri.layers.mixins.RefreshableLayerView")],T),T}}}]);