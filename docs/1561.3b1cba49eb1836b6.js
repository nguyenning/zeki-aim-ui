"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[1561],{14259:(j,T,s)=>{s.d(T,{q:()=>P});var E,R,I={};E={get exports(){return I},set exports(O){I=O}},void 0!==(R=function(){function M(t,a,r,o,n){for(;o>r;){if(o-r>600){var l=o-r+1,d=a-r+1,p=Math.log(l),e=.5*Math.exp(2*p/3),c=.5*Math.sqrt(p*e*(l-e)/l)*(d-l/2<0?-1:1);M(t,a,Math.max(r,Math.floor(a-d*e/l+c)),Math.min(o,Math.floor(a+(l-d)*e/l+c)),n)}var u=t[a],g=r,i=o;for(h(t,r,a),n(t[o],u)>0&&h(t,r,o);g<i;){for(h(t,g,i),g++,i--;n(t[g],u)<0;)g++;for(;n(t[i],u)>0;)i--}0===n(t[r],u)?h(t,r,i):h(t,++i,o),i<=a&&(r=i+1),a<=i&&(o=i-1)}}function h(t,a,r){var o=t[a];t[a]=t[r],t[r]=o}function _(t,a){return t<a?-1:t>a?1:0}return function O(t,a,r,o,n){M(t,a,r||0,o||t.length-1,n||_)}}())&&(E.exports=R);const P=I},77044:(j,T,s)=>{s.d(T,{Y:()=>R});var E=s(62208);function y(_,t){return _?t?4:3:t?3:2}function R(_,t,a,r,o){if((0,E.Wi)(t)||!t.lengths.length)return null;const n="upperLeft"===(null==o?void 0:o.originPosition)?-1:1;_.lengths.length&&(_.lengths.length=0),_.coords.length&&(_.coords.length=0);const l=_.coords,d=[],p=a?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:e,coords:c}=t,u=y(a,r);let g=0;for(const i of e){const v=I(p,c,g,i,a,r,n);v&&d.push(v),g+=i*u}if(d.sort((i,v)=>{let m=n*i[2]-n*v[2];return 0===m&&a&&(m=i[4]-v[4]),m}),d.length){let i=6*d[0][2];l[0]=d[0][0]/i,l[1]=d[0][1]/i,a&&(i=6*d[0][4],l[2]=0!==i?d[0][3]/i:0),(l[0]<p[0]||l[0]>p[1]||l[1]<p[2]||l[1]>p[3]||a&&(l[2]<p[4]||l[2]>p[5]))&&(l.length=0)}if(!l.length){const i=t.lengths[0]?function f(_,t,a,r,o){const n=y(r,o);let l=t,d=t+n,p=0,e=0,c=0,u=0;for(let g=0,i=a-1;g<i;g++,l+=n,d+=n){const v=_[l],m=_[l+1],U=_[l+2],A=_[d],D=_[d+1],W=_[d+2],C=r?O(v,m,U,A,D,W):P(v,m,A,D);if(C)if(p+=C,r){const L=h(v,m,U,A,D,W);e+=C*L[0],c+=C*L[1],u+=C*L[2]}else{const L=M(v,m,A,D);e+=C*L[0],c+=C*L[1]}}return p>0?r?[e/p,c/p,u/p]:[e/p,c/p]:a>0?r?[_[t],_[t+1],_[t+2]]:[_[t],_[t+1]]:null}(c,0,e[0],a,r):null;if(!i)return null;l[0]=i[0],l[1]=i[1],a&&i.length>2&&(l[2]=i[2])}return _}function I(_,t,a,r,o,n,l=1){const d=y(o,n);let p=a,e=a+d,c=0,u=0,g=0,i=0,v=0;for(let U=0,A=r-1;U<A;U++,p+=d,e+=d){const D=t[p],W=t[p+1],C=t[p+2],L=t[e],S=t[e+1],B=t[e+2];let b=D*S-L*W;i+=b,c+=(D+L)*b,u+=(W+S)*b,o&&(b=D*B-L*C,g+=(C+B)*b,v+=b),D<_[0]&&(_[0]=D),D>_[1]&&(_[1]=D),W<_[2]&&(_[2]=W),W>_[3]&&(_[3]=W),o&&(C<_[4]&&(_[4]=C),C>_[5]&&(_[5]=C))}if(i*l>0&&(i*=-1),v*l>0&&(v*=-1),!i)return null;const m=[c,u,.5*i];return o&&(m[3]=g,m[4]=.5*v),m}function P(_,t,a,r){const o=a-_,n=r-t;return Math.sqrt(o*o+n*n)}function O(_,t,a,r,o,n){const l=r-_,d=o-t,p=n-a;return Math.sqrt(l*l+d*d+p*p)}function M(_,t,a,r){return[_+.5*(a-_),t+.5*(r-t)]}function h(_,t,a,r,o,n){return[_+.5*(r-_),t+.5*(o-t),a+.5*(n-a)]}},62359:(j,T,s)=>{s.r(T),s.d(T,{default:()=>p});var E=s(15861),y=s(17626),R=s(26584),I=s(62208),f=s(32917),P=s(77712),h=(s(90912),s(85931),s(76898)),_=s(19702),t=s(13191),a=s(32400),r=s(46348),o=s(89765),n=s(23147),l=s(45611);let d=class extends((0,_.A)(l.Z)){constructor(){super(...arguments),this.type="graphics-3d",this.symbologySnappingSupported=!0,this._slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null}initialize(){this._set("processor",new a.D({owner:this,scaleVisibilityEnabled:!0,frustumVisibilityEnabled:!0})),this.addResolvingPromise(this.processor.initializePromise),this.handles.add(this.layer.on("graphic-update",e=>this.processor.graphicsCore.graphicUpdateHandler(e))),this.addResolvingPromise((0,o.E)(this).then(e=>this.fullExtentInLocalViewSpatialReference=e)),this.layer.internal?this.notifyChange("updating"):this.handles.add((0,f.gx)(()=>{var e,c;return null==(c=null==(e=this.view)?void 0:e.basemapTerrain)?void 0:c.ready},()=>()=>this.notifyChange("updating"),{once:!0}))}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set("processor",(0,I.SC)(this.processor))}get loadedGraphics(){return this.layer.graphics}get legendEnabled(){var e;return this.canResume()&&!(null!=(e=this.processor)&&e.frustumVisibilitySuspended)}get slicePlaneEnabled(){return this._slicePlaneEnabled&&!this.layer.internal}set slicePlaneEnabled(e){this._slicePlaneEnabled=e}getSuspendInfo(){var c,u,g,i;const e=super.getSuspendInfo();return e.outsideScaleRange=null!=(u=null==(c=this.processor)?void 0:c.scaleVisibilitySuspended)&&u,e.outsideOfView=null!=(i=null==(g=this.processor)?void 0:g.frustumVisibilitySuspended)&&i,e}fetchPopupFeatures(e,c){return(0,E.Z)(function*(){var u,g;return null!=(g=null==(u=(0,I.Wg)(c))?void 0:u.clientGraphics)?g:[]})()}getHit(e){return this.processor.getHit(e)}whenGraphicBounds(e,c){return this.processor.whenGraphicBounds(e,c)}computeAttachmentOrigin(e,c){var u;return null==(u=this.processor)?void 0:u.computeAttachmentOrigin(e,c)}getSymbolLayerSize(e,c){return this.processor.getSymbolLayerSize(e,c)}queryGraphics(){return Promise.resolve(this.loadedGraphics)}maskOccludee(e){return this.processor.maskOccludee(e)}highlight(e){return this.processor.highlight(e)}elevationAlignPointsInFeatures(e,c){var u=this;return(0,E.Z)(function*(){const{processor:g}=u;if((0,I.Wi)(g)||(0,I.Wi)(g.graphics3DGraphics))throw new R.Z("graphicslayerview3d:missing-processor","A Graphics3D processor is needed to resolve graphics elevation.");const{graphics3DGraphics:i}=g;return(0,t.W)(u.view,u.layer,m=>"number"==typeof m?i.get(m):void 0,e,c)})()}queryForSymbologySnapping(e,c){var u=this;return(0,E.Z)(function*(){return(0,r.c)(u.processor,e,c)})()}get updatePolicy(){var e;return(null==(e=this.processor)?void 0:e.graphicsCore.effectiveUpdatePolicy)||n.j.SYNC}canResume(){var e;return super.canResume()&&!(null!=(e=this.processor)&&e.scaleVisibilitySuspended)}isUpdating(){var e,c,u;return!((null==(e=this.processor)||!e.updating)&&(this.layer.internal||(null==(u=null==(c=this.view)?void 0:c.basemapTerrain)?void 0:u.ready)))}get performanceInfo(){var e,c,u;return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:-1,totalNumberOfFeatures:-1,nodes:0,core:null,updating:this.updating,elevationUpdating:null!=(c=null==(e=this.processor)?void 0:e.elevationAlignment.updating)&&c,visibilityFrustum:!(null!=(u=this.processor)&&u.frustumVisibilitySuspended)}}getUsedMemory(){var e,c,u;return null!=(u=null==(c=null==(e=this.processor)?void 0:e.graphicsCore)?void 0:c.usedMemory)?u:0}getUnloadedMemory(){var e,c;return null==(c=null==(e=this.processor)?void 0:e.graphicsCore)?void 0:c.unprocessedMemoryEstimate}ignoresMemoryFactor(){return!0}};(0,y._)([(0,P.Cb)()],d.prototype,"loadedGraphics",null),(0,y._)([(0,P.Cb)({readOnly:!0})],d.prototype,"legendEnabled",null),(0,y._)([(0,P.Cb)()],d.prototype,"layer",void 0),(0,y._)([(0,P.Cb)({readOnly:!0})],d.prototype,"processor",void 0),(0,y._)([(0,P.Cb)()],d.prototype,"_slicePlaneEnabled",void 0),(0,y._)([(0,P.Cb)({type:Boolean})],d.prototype,"slicePlaneEnabled",null),d=(0,y._)([(0,h.j)("esri.views.3d.layers.GraphicsLayerView3D")],d);const p=d},19702:(j,T,s)=>{s.d(T,{A:()=>t});var E=s(15861),y=s(17626),R=s(54024),I=s(10699),f=s(32917),P=s(77712),h=(s(90912),s(85931),s(76898)),_=s(36947);const t=a=>{let r=class extends a{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(o){super.postscript(o),(0,_.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}_validateHeightModelInfo(){var o=this;return(0,E.Z)(function*(){const n=new AbortController,l=n.signal;o.handles.add((0,R.kB)(()=>n.abort())),yield(0,f.N1)(()=>{var p;return null==(p=o.view.defaultsFromMap)?void 0:p.heightModelInfoReady},l),(0,I.k_)(l);const d=(0,_.Wt)(o.layer,o.view.heightModelInfo,o.supportsHeightUnitConversion);if(d)throw d})()}canResume(){const o=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!o||!o.minScale||!o.maxScale||o.minScale>=o.maxScale)}getSuspendInfo(){const o=super.getSuspendInfo(),n=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return n&&n.minScale&&n.maxScale&&n.minScale<n.maxScale&&(o.outsideScaleRange=!0),o}};return(0,y._)([(0,P.Cb)()],r.prototype,"view",void 0),(0,y._)([(0,P.Cb)()],r.prototype,"slicePlaneEnabled",void 0),r=(0,y._)([(0,h.j)("esri.views.3d.layers.LayerView3D")],r),r}},13191:(j,T,s)=>{s.d(T,{W:()=>t});var E=s(15861),R=(s(29132),s(62208)),I=s(10699),f=s(38114),P=s(60507),O=s(81468),M=s(79112),h=s(74746),_=s(65234);function t(l,d,p,e,c){return a.apply(this,arguments)}function a(){return(a=(0,E.Z)(function*(l,d,p,e,c){const{elevationProvider:u,renderCoordsHelper:g,spatialReference:i}=l,{elevationInfo:v}=d,m=(0,h.WI)(v,!0),U=yield(0,h.kr)(m,i,c);(0,I.k_)(c);const A=[],D=new Set,W=new Set;for(const{objectId:C,points:L}of e){const S=p(C);if((0,R.Wi)(S)){for(const b of L)A.push(b[2]);D.add(C)}else{S.isDraped&&W.add(C),r.setFromElevationInfo((0,P.Jn)(S.graphic.geometry,v)),r.updateFeatureExpressionInfoContext(U,S.graphic,d),o.spatialReference=l.spatialReference;for(const{x:b,y:N,z:K}of L)o.x=b,o.y=N,o.z=null!=K?K:0,(0,O.qZ)(o,u,r,g,n),A.push(n.z)}}return{elevations:A,drapedObjectIds:W,failedObjectIds:D}})).apply(this,arguments)}const r=new M.o,o=(0,f.Tx)(0,0,0,_.Z.WGS84),n=new O.Lm},46348:(j,T,s)=>{s.d(T,{c:()=>f});var E=s(15861),y=s(62208),R=s(10699),I=s(46679);function f(M,h,_){return P.apply(this,arguments)}function P(){return P=(0,E.Z)(function*(M,h,_){var g;if((0,y.Wi)(M)||0===h.candidates.length)return O;const t=null!=(g=M.graphics3DGraphicsByObjectID)?g:M.graphics3DGraphics,a=[],r=[],{renderer:o}=M,n=(0,y.pC)(o)&&"arcadeRequired"in o&&o.arcadeRequired?(0,I.LC)():null,l=function(){var i=(0,E.Z)(function*(v,{graphic:m,graphics3DSymbol:U}){const A=yield n,D=yield M.getRenderingInfoAsync(m,o,A,{signal:_});return(0,y.Wi)(D)?[]:U.queryForSnapping(v,p,D,_)});return function(m,U){return i.apply(this,arguments)}}(),{candidates:d,spatialReference:p}=h;for(let i=0;i<d.length;++i){const v=d[i],{objectId:m}=v,U="number"==typeof m?null==t?void 0:t.get(m):void 0;if((0,y.Wi)(U))continue;const{graphics3DSymbol:A}=U;A.symbologySnappingSupported&&(a.push(l(v,U)),r.push(i))}if(0===a.length)return O;const e=yield Promise.all(a);(0,R.k_)(_);const c=[],u=[];for(let i=0;i<e.length;++i){const v=e[i],m=r[i];for(const U of v)c.push(U),u.push(m)}return{candidates:c,sourceCandidateIndices:u}}),P.apply(this,arguments)}const O={candidates:[],sourceCandidateIndices:[]}},89765:(j,T,s)=>{s.d(T,{E:()=>I});var E=s(62208),y=s(46367),R=s(35082);function I(f){const P=f.view.spatialReference,O=f.layer.fullExtent,M=(0,E.pC)(O)&&O.spatialReference;if((0,E.Wi)(O)||!M)return Promise.resolve(null);if(M.equals(P))return Promise.resolve(O.clone());const h=(0,y.iV)(O,P);return(0,E.pC)(h)?Promise.resolve(h):f.view.state.isLocal?(0,R.projectGeometry)(O,P,f.layer.portalItem).then(_=>!f.destroyed&&_?_:null).catch(()=>null):Promise.resolve(null)}},45611:(j,T,s)=>{s.d(T,{Z:()=>o});var E=s(17626),y=s(14517),R=s(61885),I=s(80542),f=s(61996),P=s(63290),O=s(62208),M=s(60330),h=s(77712),a=(s(90912),s(85931),s(76898));let r=class extends((0,I.p)((0,f.IG)((0,M.v)(R.Z.EventedMixin(y.Z))))){constructor(n){super(n),this.layer=null,this.parent=null}initialize(){this.when().catch(n=>{if("layerview:create-error"!==n.name){const l=this.layer&&this.layer.id||"no id",d=this.layer&&this.layer.title||"no title";P.Z.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${d}', id: '${l}')`,n)}})}get fullOpacity(){return(0,O.Pt)(this.get("layer.opacity"),1)*(0,O.Pt)(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var n;return!this.suspended&&!0===(null==(n=this.layer)?void 0:n.legendEnabled)}get updating(){var n;return!!(null!=(n=this.updatingHandles)&&n.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var n;return!0===(null==(n=this.layer)?void 0:n.visible)}set visible(n){this._overrideIfSome("visible",n)}canResume(){var n,l,d;return this.visible&&(null==(n=this.layer)?void 0:n.loaded)&&!(null!=(l=this.parent)&&l.suspended)&&(null==(d=this.view)?void 0:d.ready)||!1}getSuspendInfo(){const n=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(n.viewNotReady=!0),this.layer&&this.layer.loaded||(n.layerNotLoaded=!0),this.visible||(n.layerInvisible=!0),n}isUpdating(){return!1}};(0,E._)([(0,h.Cb)()],r.prototype,"fullOpacity",null),(0,E._)([(0,h.Cb)()],r.prototype,"layer",void 0),(0,E._)([(0,h.Cb)()],r.prototype,"parent",void 0),(0,E._)([(0,h.Cb)({readOnly:!0})],r.prototype,"suspended",null),(0,E._)([(0,h.Cb)({readOnly:!0})],r.prototype,"suspendInfo",null),(0,E._)([(0,h.Cb)({readOnly:!0})],r.prototype,"legendEnabled",null),(0,E._)([(0,h.Cb)({type:Boolean,readOnly:!0})],r.prototype,"updating",null),(0,E._)([(0,h.Cb)({readOnly:!0})],r.prototype,"updatingProgress",null),(0,E._)([(0,h.Cb)()],r.prototype,"visible",null),(0,E._)([(0,h.Cb)()],r.prototype,"view",void 0),r=(0,E._)([(0,a.j)("esri.views.layers.LayerView")],r);const o=r}}]);