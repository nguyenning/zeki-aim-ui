"use strict";var Lt=Object.defineProperty,bt=Object.defineProperties,Vt=Object.getOwnPropertyDescriptors,At=Object.getOwnPropertySymbols,wt=Object.prototype.hasOwnProperty,Gt=Object.prototype.propertyIsEnumerable,Wt=(ct,N,a)=>N in ct?Lt(ct,N,{enumerable:!0,configurable:!0,writable:!0,value:a}):ct[N]=a,Mt=(ct,N)=>{for(var a in N||(N={}))wt.call(N,a)&&Wt(ct,a,N[a]);if(At)for(var a of At(N))Gt.call(N,a)&&Wt(ct,a,N[a]);return ct},Rt=(ct,N)=>bt(ct,Vt(N));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[61,7777,4766],{84600:(ct,N,a)=>{a.d(N,{N9:()=>q,Pr:()=>S,Rd:()=>st,SP:()=>it,Se:()=>Z,Ud:()=>M,VG:()=>B,Wv:()=>K,Zv:()=>I,cy:()=>nt,i_:()=>at,ym:()=>et});var l=a(62208),_=a(15572),y=a(90466);function B(g,h,L,P=2,Y="abbr"){return(0,y.VG)(g,(0,_.nn)(h,L).value,L,P,Y)}function m(g,h,L,P=2,Y="abbr"){return(0,y.LO)(g,(0,_.nn)(h,L).value,L,P,Y)}function st(g,h,L=2,P="abbr"){return(0,y.Rd)(g,h.value,h.unit,L,P)}function K(g,h,L=2,P="abbr"){return(0,y.Wv)(g,h.value,h.unit,L,P)}function M(g,h,L=2,P="abbr"){return(0,y.Ud)(g,h.value,h.unit,L,P)}function I(g,h,L=2,P="abbr"){return(0,y.Zv)(g,h.value,h.unit,L,P)}function nt(g,h,L){return(0,y.L4)(g.value,g.unit,g.rotationType,h,L)}function it(g,h,L){return(0,y._o)(g.value,g.unit,g.rotationType,h,L)}function q(g,h,L,P,Y="abbr"){switch(P=(0,l.Pt)(P,2),L){case"imperial":return M(g,h,P,Y);case"metric":return st(g,h,P,Y);default:return B(g,h,L,P,Y)}}function at(g,h,L,P=2,Y="abbr"){switch(L){case"imperial":return function J(g,h,L=2,P="abbr"){return(0,y.q6)(g,h.value,h.unit,L,P)}(g,h,P,Y);case"metric":return function w(g,h,L=2,P="abbr"){return(0,y.mg)(g,h.value,h.unit,L,P)}(g,h,P,Y);default:return m(g,h,L,P,Y)}}function et(g,h,L,P=2,Y="abbr"){switch(L){case"imperial":return I(g,h,P,Y);case"metric":return K(g,h,P,Y);default:return B(g,h,L,P,Y)}}function S(g,h,L,P=2,Y="abbr"){switch(L){case"imperial":return function C(g,h,L=2,P="abbr"){return(0,y.aC)(g,h.value,h.unit,L,P)}(g,h,P,Y);case"metric":return function W(g,h,L=2,P="abbr"){return(0,y.h9)(g,h.value,h.unit,L,P)}(g,h,P,Y);default:return m(g,h,L,P,Y)}}function Z(g,h,L,P=2,Y="abbr"){switch(L){case"imperial":return function R(g,h,L=2,P="abbr"){return(0,y.yc)(g,h.value,h.unit,L,P)}(g,h,P,Y);case"metric":return function V(g,h,L=2,P="abbr"){return(0,y.ld)(g,h.value,h.unit,L,P)}(g,h,P,Y);default:return B(g,h,L,P,Y)}}},15572:(ct,N,a)=>{a.d(N,{EV:()=>y,Fp:()=>M,GJ:()=>w,ne:()=>m,nn:()=>W,yG:()=>B,yP:()=>I});var l=a(62208),_=a(16730);function y(C,R){return{type:(0,_.UF)(R),value:C,unit:R}}function B(C,R){return{type:(0,_.UF)(R),value:C,unit:R}}function m(C,R){return{type:(0,_.UF)(R),value:C,unit:R}}function w(C,R,X="arithmetic"){return{type:(0,_.UF)(R),value:C,unit:R,rotationType:X}}function W(C,R){return y((0,_.En)(C.value,C.unit,R),R)}function M(C,R){return(0,l.Wi)(C)?R:(0,l.Wi)(R)||C.value>(0,_.En)(R.value,R.unit,C.unit)?C:R}const I=B(0,"meters")},77777:(ct,N,a)=>{a.r(N),a.d(N,{hydratedAdapter:()=>st});var l=a(2004),_=a(72854),y=a(49672),B=a(37118),m=a(55214);const st={convertToGEGeometry:function w(I,C){if(null==C)return null;let R="cache"in C?C.cache._geVersion:void 0;return null==R&&(R=I.convertJSONToGeometry(C),"cache"in C&&(C.cache._geVersion=R)),R},exportPoint:function K(I,C,R){const X=I.hasZ(C),nt=I.hasM(C),it=new y.Z({x:I.getPointX(C),y:I.getPointY(C),spatialReference:R});return X&&(it.z=I.getPointZ(C)),nt&&(it.m=I.getPointM(C)),it.cache._geVersion=C,it},exportPolygon:function W(I,C,R){const X=new B.Z({rings:I.exportPaths(C),hasZ:I.hasZ(C),hasM:I.hasM(C),spatialReference:R});return X.cache._geVersion=C,X},exportPolyline:function V(I,C,R){const X=new m.Z({paths:I.exportPaths(C),hasZ:I.hasZ(C),hasM:I.hasM(C),spatialReference:R});return X.cache._geVersion=C,X},exportMultipoint:function M(I,C,R){const X=new _.Z({hasZ:I.hasZ(C),hasM:I.hasM(C),points:I.exportPoints(C),spatialReference:R});return X.cache._geVersion=C,X},exportExtent:function J(I,C,R){const X=I.hasZ(C),nt=I.hasM(C),it=new l.Z({xmin:I.getXMin(C),ymin:I.getYMin(C),xmax:I.getXMax(C),ymax:I.getYMax(C),spatialReference:R});if(X){const q=I.getZExtent(C);it.zmin=q.vmin,it.zmax=q.vmax}if(nt){const q=I.getMExtent(C);it.mmin=q.vmin,it.mmax=q.vmax}return it.cache._geVersion=C,it}}},44766:(ct,N,a)=>{a.r(N),a.d(N,{buffer:()=>h,clip:()=>m,contains:()=>w,convexHull:()=>q,crosses:()=>K,cut:()=>st,densify:()=>ut,difference:()=>at,disjoint:()=>C,distance:()=>W,equals:()=>V,extendedSpatialReferenceInfo:()=>B,flipHorizontal:()=>G,flipVertical:()=>dt,generalize:()=>vt,geodesicArea:()=>mt,geodesicBuffer:()=>L,geodesicDensify:()=>xt,geodesicLength:()=>_t,intersect:()=>S,intersects:()=>M,isSimple:()=>nt,nearestCoordinate:()=>P,nearestVertex:()=>Y,nearestVertices:()=>D,offset:()=>g,overlaps:()=>R,planarArea:()=>Ct,planarLength:()=>Ot,relate:()=>X,rotate:()=>$,simplify:()=>it,symmetricDifference:()=>et,touches:()=>J,union:()=>Z,within:()=>I});var l=a(4918),_=a(77777);function y(c){return Array.isArray(c)?c[0].spatialReference:c&&c.spatialReference}function B(c){return l.G.extendedSpatialReferenceInfo(c)}function m(c,U){return l.G.clip(_.hydratedAdapter,y(c),c,U)}function st(c,U){return l.G.cut(_.hydratedAdapter,y(c),c,U)}function w(c,U){return l.G.contains(_.hydratedAdapter,y(c),c,U)}function K(c,U){return l.G.crosses(_.hydratedAdapter,y(c),c,U)}function W(c,U,p){return l.G.distance(_.hydratedAdapter,y(c),c,U,p)}function V(c,U){return l.G.equals(_.hydratedAdapter,y(c),c,U)}function M(c,U){return l.G.intersects(_.hydratedAdapter,y(c),c,U)}function J(c,U){return l.G.touches(_.hydratedAdapter,y(c),c,U)}function I(c,U){return l.G.within(_.hydratedAdapter,y(c),c,U)}function C(c,U){return l.G.disjoint(_.hydratedAdapter,y(c),c,U)}function R(c,U){return l.G.overlaps(_.hydratedAdapter,y(c),c,U)}function X(c,U,p){return l.G.relate(_.hydratedAdapter,y(c),c,U,p)}function nt(c){return l.G.isSimple(_.hydratedAdapter,y(c),c)}function it(c){return l.G.simplify(_.hydratedAdapter,y(c),c)}function q(c,U=!1){return l.G.convexHull(_.hydratedAdapter,y(c),c,U)}function at(c,U){return l.G.difference(_.hydratedAdapter,y(c),c,U)}function et(c,U){return l.G.symmetricDifference(_.hydratedAdapter,y(c),c,U)}function S(c,U){return l.G.intersect(_.hydratedAdapter,y(c),c,U)}function Z(c,U=null){return l.G.union(_.hydratedAdapter,y(c),c,U)}function g(c,U,p,A,Q,H){return l.G.offset(_.hydratedAdapter,y(c),c,U,p,A,Q,H)}function h(c,U,p,A=!1){return l.G.buffer(_.hydratedAdapter,y(c),c,U,p,A)}function L(c,U,p,A,Q,H){return l.G.geodesicBuffer(_.hydratedAdapter,y(c),c,U,p,A,Q,H)}function P(c,U,p=!0){return l.G.nearestCoordinate(_.hydratedAdapter,y(c),c,U,p)}function Y(c,U){return l.G.nearestVertex(_.hydratedAdapter,y(c),c,U)}function D(c,U,p,A){return l.G.nearestVertices(_.hydratedAdapter,y(c),c,U,p,A)}function z(c){return"xmin"in c?"center"in c?c.center:null:"x"in c?c:"extent"in c?c.extent.center:null}function $(c,U,p){if(null==c)throw new Error("Illegal Argument Exception");const A=c.spatialReference;if(null==(p=null!=p?p:z(c)))throw new Error("Illegal Argument Exception");const Q=c.constructor.fromJSON(l.G.rotate(c,U,p));return Q.spatialReference=A,Q}function G(c,U){if(null==c)throw new Error("Illegal Argument Exception");const p=c.spatialReference;if(null==(U=null!=U?U:z(c)))throw new Error("Illegal Argument Exception");const A=c.constructor.fromJSON(l.G.flipHorizontal(c,U));return A.spatialReference=p,A}function dt(c,U){if(null==c)throw new Error("Illegal Argument Exception");const p=c.spatialReference;if(null==(U=null!=U?U:z(c)))throw new Error("Illegal Argument Exception");const A=c.constructor.fromJSON(l.G.flipVertical(c,U));return A.spatialReference=p,A}function vt(c,U,p,A){return l.G.generalize(_.hydratedAdapter,y(c),c,U,p,A)}function ut(c,U,p){return l.G.densify(_.hydratedAdapter,y(c),c,U,p)}function xt(c,U,p,A=0){return l.G.geodesicDensify(_.hydratedAdapter,y(c),c,U,p,A)}function Ct(c,U){return l.G.planarArea(_.hydratedAdapter,y(c),c,U)}function Ot(c,U){return l.G.planarLength(_.hydratedAdapter,y(c),c,U)}function mt(c,U,p){return l.G.geodesicArea(_.hydratedAdapter,y(c),c,U,p)}function _t(c,U,p){return l.G.geodesicLength(_.hydratedAdapter,y(c),c,U,p)}},81611:(ct,N,a)=>{a.d(N,{T:()=>ot,I:()=>Et});var l=a(17626),_=a(88879),B=(a(8314),a(61885)),m=a(80542),st=a(54024),w=a(62208),K=a(77712),W=a(85931),M=(a(90912),a(76898)),J=a(51470),C=(a(29132),a(58817)),R=a(16730),X=a(72149),nt=a(44766),it=a(25748),q=a(37053),at=a(31478),et=a(46342),S=a(48977),Z=a(78451),g=a(84161),h=a(28093),L=a(78172),P=a(49672);function Y(O,E,b=null){return(0,w.pC)(b)?[O,E,b]:[O,E]}function D(O,E,b=null){return(0,w.pC)(b)?{x:O,y:E,z:b}:{x:O,y:E}}class z{constructor(E){this.spatialReference=E}mapToLocalMultiple(E){return(0,w.lV)(E.map(b=>this.mapToLocal(b)))}get doUnnormalization(){return!1}}class $ extends z{constructor(E,b,F=null){super(b),this.defaultZ=F,this.transform=(0,et.c)(),this.transformInv=(0,et.c)(),this.transform=(0,et.a)(E),(0,at.b)(this.transformInv,this.transform)}makeMapPoint(E,b){return Y(E,b,this.defaultZ)}mapToLocal(E){return D(this.transform[0]*E[0]+this.transform[2]*E[1]+this.transform[4],this.transform[1]*E[0]+this.transform[3]*E[1]+this.transform[5])}localToMap(E){return Y(this.transformInv[0]*E.x+this.transformInv[2]*E.y+this.transformInv[4],this.transformInv[1]*E.x+this.transformInv[3]*E.y+this.transformInv[5],this.defaultZ)}}class G extends z{constructor(E,b){super(E.spatialReference),this.view=E,this.defaultZ=null,this.pWS=(0,h.c)(),this.tangentFrameUpWS=(0,h.c)(),this.tangentFrameRightWS=(0,h.c)(),this.tangentFrameForwardWS=(0,h.c)(),this.localFrameRightWS=(0,h.c)(),this.localFrameUpWS=(0,h.c)(),this.worldToLocalTransform=(0,Z.a)(),this.localToWorldTransform=(0,Z.a)(),this.scale=1,this.scale=E.resolution,this.referenceMapPoint=b,this.defaultZ=b.hasZ?b.z:null;const F=E.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,L.R.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,L.R.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,L.R.Z,this.tangentFrameForwardWS);const T=(0,h.c)();(0,g.g)(T,this.tangentFrameForwardWS,(0,g.e)(F,this.tangentFrameForwardWS)),(0,g.b)(this.localFrameRightWS,F,T),(0,g.n)(this.localFrameRightWS,this.localFrameRightWS),(0,g.f)(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),(0,S.r)(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),(0,S.i)(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return"global"===this.view.viewingMode}makeMapPoint(E,b){return Y(E,b,this.defaultZ)}mapToLocal(E){const b=(0,h.c)();this.view.renderCoordsHelper.toRenderCoords(new P.Z({x:E[0],y:E[1],spatialReference:this.spatialReference}),b),(0,g.q)(b,b,this.worldToLocalTransform);const F=this.view.renderCoordsHelper.fromRenderCoords(b,this.view.spatialReference);return(0,w.pC)(F)?D(F.x/this.scale,F.y/this.scale):null}localToMap(E){const b=(0,h.c)();this.view.renderCoordsHelper.toRenderCoords(new P.Z({x:E.x*this.scale,y:E.y*this.scale,spatialReference:this.spatialReference}),b),(0,g.q)(b,b,this.localToWorldTransform);const F=this.view.renderCoordsHelper.fromRenderCoords(b,this.view.spatialReference);return(0,w.pC)(F)?Y(F.x,F.y,this.defaultZ):null}}function dt(O,E){if("2d"===O.type)return new $(O.state.transform,O.spatialReference,E.length>2?E[2]:null);if("3d"===O.type){const b=new P.Z(E.length>2?{x:E[0],y:E[1],z:E[2],spatialReference:O.spatialReference}:{x:E[0],y:E[1],spatialReference:O.spatialReference});return new G(O,b)}return null}var vt=a(72854),ut=a(55214),xt=a(37118);function mt(O,E){const b=new P.Z({x:O[0],y:O[1],spatialReference:E});return O.length>2&&(b.z=O[2]),b}function c(O,E,b){const F=new ut.Z({paths:O,spatialReference:E});return b&&(0,it.nc)(F),F}function U(O,E,b,F=!0){const T=(0,C.d9)(O);T.forEach(x=>{(0,W.fS)(x[0],x[x.length-1])&&1!==x.length||x.push(x[0])});let d=new xt.Z({rings:T,spatialReference:E});return d.rings.forEach(x=>{(0,it.bu)(x,!1,!1)||x.reverse()}),b&&(0,it.nc)(d),F&&d.isSelfIntersecting&&(0,q.JY)(E)&&(d=(0,nt.simplify)(d)),d}function p(O,E,b){const F=E.mapToLocalMultiple(O),T=[],d={x:F[0].x,y:F[0].y},x_y=F[1].y,tt=Math.round(F[1].x-d.x),j=Math.round(x_y-d.y),rt=Math.max(Math.abs(tt),Math.abs(j));if(b){const pt={x:d.x+rt,y:d.y+rt},ft={x:d.x-rt,y:d.y-rt};T.push(D(pt.x,ft.y),D(ft.x,ft.y),D(ft.x,pt.y),D(pt.x,pt.y))}else{const pt={x:tt>0?d.x+rt:d.x-rt,y:j>0?d.y+rt:d.y-rt};T.push(D(d.x,d.y),D(pt.x,d.y),D(pt.x,pt.y),D(d.x,pt.y))}return U([(0,w.lV)(T.map(pt=>E.localToMap(pt)))],E.spatialReference,E.doUnnormalization,!0)}function Q(O,E,b,F){const T=E.mapToLocalMultiple(O);let d=null,x=null;if(b)d=T[0],x=T[1];else{const gt=T[0],Dt=T[1],St=Math.round(Dt.x-gt.x),Ut=Math.round(Dt.y-gt.y),It=Math.max(Math.abs(St),Math.abs(Ut));d=D(St>0?gt.x+It/2:gt.x-It/2,Ut>0?gt.y+It/2:gt.y-It/2),x=D(Math.abs(St)>Math.abs(Ut)?d.x-It/2:d.x,Math.abs(St)>Math.abs(Ut)?d.y:d.y-It/2)}const tt=E.localToMap(d),j=E.localToMap(x);if((0,w.Wi)(tt)||(0,w.Wi)(j))return null;E.doUnnormalization&&(0,it.Sq)([[tt,j]],E.spatialReference);const rt=mt(tt,E.spatialReference),pt=mt(j,E.spatialReference),ft=(0,R.c9)(E.spatialReference);let yt=0;if((0,q.JY)(E.spatialReference))yt=ft*(0,nt.distance)(rt,pt,null);else{const gt=d.x-x.x,Dt=d.y-x.y;yt=ft*Math.sqrt(gt*gt+Dt*Dt)*(F||1)}const Pt=new X.Z({center:rt,radius:yt,radiusUnit:"meters",spatialReference:E.spatialReference});return U(Pt.rings,Pt.spatialReference,!1)}var lt=a(22944);let ot=class extends((0,m.p)(B.Z.EventedMixin(lt.m))){constructor(O){super(O),this._graphic=null,this.defaultZ=0,this.geometryType=null,this.hasZ=!0,this.mode=null,this.snappingManager=null,this.snapToScene=!1}initialize(){this.internalGraphicsLayer=new J.Z({listMode:"hide",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer),this.drawOperation=this.makeDrawOperation(),this.handles.add([this.drawOperation.on("vertex-add",O=>this.onVertexAdd(O)),this.drawOperation.on("vertex-remove",O=>this.onVertexRemove(O)),this.drawOperation.on("vertex-update",O=>this.onVertexUpdate(O)),this.drawOperation.on("cursor-update",O=>this.onCursorUpdate(O)),this.drawOperation.on("complete",O=>this.onComplete(O))]),this.finishToolCreation()}destroy(){this.drawOperation=(0,w.SC)(this.drawOperation),this._destroyAllVisualisations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=(0,w.SC)(this.internalGraphicsLayer),this._set("view",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(O){this._set("centered",O),this._updateGraphic()}set enabled(O){this.drawOperation.interactive=O,this._set("enabled",O)}set forceUniformSize(O){this._set("forceUniformSize",O),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(O){this._set("graphicSymbol",O),(0,w.pC)(this._graphic)&&(this._graphic.symbol=O)}get updating(){var O,E;return null!=(E=null==(O=this.drawOperation)?void 0:O.updating)&&E}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(O){this.drawOperation.onInputEvent(O)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}_createGraphic(O){this._graphic=new _.Z(Rt(Mt({},this.graphicProperties),{geometry:O,symbol:this.graphicSymbol})),this.internalGraphicsLayer.add(this._graphic),this.handles.add(this.initializeGraphic(this._graphic)),this.notifyChange("graphic"),this.handles.add((0,st.kB)(()=>{(0,w.pC)(this._graphic)&&(this.internalGraphicsLayer.remove(this._graphic),this._graphic=(0,w.SC)(this._graphic))}),k)}_destroyAllVisualisations(){this.handles.remove(ht.outline),this.handles.remove(ht.regularVertices),this.handles.remove(ht.activeVertex),this.handles.remove(k)}_getCreateOperationGeometry(O={operationComplete:!1}){if(null==this.drawOperation||0===this.drawOperation.numVertices)return null;const E=this.drawOperation.stagedVertex,b=this.drawOperation.committedVertices,F=b.slice();(0,w.pC)(E)&&F.push(this.drawOperation.coordinateHelper.pointToArray(E));const T=(0,w.pC)(E)?this.drawOperation.coordinateHelper.pointToArray(E):b.splice(-1)[0],d={regularVertices:null,activeVertex:null,full:null,outline:null},x=F.length,tt=this.view.spatialReference,j="3d"===this.view.type&&"global"===this.view.viewingMode;switch(this.geometryType){case"point":d.regularVertices=b,d.activeVertex=T,d.full=this.drawOperation.coordinateHelper.arrayToPoint(F[0]);break;case"multipoint":d.regularVertices=b,d.activeVertex=T,x>0&&(d.full=function _t(O,E){return new vt.Z({points:O,spatialReference:E})}(F,tt));break;case"polyline":d.regularVertices=b,d.activeVertex=T,x>0&&(d.full=c([F],tt,j));break;case"polygon":d.regularVertices=b,d.activeVertex=T,x>0&&(d.full=U([F],tt,j,!0));break;case"circle":if(x>0){const rt=dt(this.view,F[0]);if(1===x&&O.operationComplete){const pt=F[0],ft=rt.makeMapPoint(pt[0]+Tt*this.view.resolution,pt[1]);d.full=Q([pt,ft],rt,!0)}else 2===x&&(d.full=this.forceUniformSize?Q(F,rt,this.centered):function H(O,E,b){const F=E.mapToLocalMultiple(O),T=F[0],d=F[1],x=Math.round(d.x-T.x),tt=Math.round(d.y-T.y),j=D(b?T.x:T.x+x/2,b?T.y:T.y+tt/2),rt=b?x:x/2,pt=b?tt:tt/2,yt=[],Pt=2*Math.PI/60;for(let gt=0;gt<60;gt++){const Dt=Math.cos(gt*Pt),St=Math.sin(gt*Pt),Ut=D(rt*Dt+j.x,pt*St+j.y);yt.push(Ut)}return yt.push(yt[0]),U([(0,w.lV)(yt.map(gt=>E.localToMap(gt)))],E.spatialReference,E.doUnnormalization,!1)}(F,rt,this.centered))}break;case"rectangle":if(x>0){const rt=dt(this.view,F[0]);if(1===x&&O.operationComplete){const pt=F[0],ft=rt.makeMapPoint(pt[0]+Tt*this.view.resolution,pt[1]);d.full=p([pt,ft],rt,!0)}else 2===x&&(d.full=this.forceUniformSize?p(F,rt,this.centered):function A(O,E,b){let F=E.mapToLocalMultiple(O);if(1===F.length){const j=F[0];F=[D(j.x-48,j.y+48),D(j.x+48,j.y-48),D(j.x+48,j.y-48),D(j.x-48,j.y+48)]}const T=[],d={x:F[0].x,y:F[0].y},x={x:F[1].x,y:F[1].y};if(b){const tt=Math.round(x.x-d.x),j=Math.round(x.y-d.y);T.push(D(d.x-tt,d.y-j),D(x.x,d.y-j),D(x.x,x.y),D(d.x-tt,x.y))}else T.push(D(d.x,d.y),D(x.x,d.y),D(x.x,x.y),D(d.x,x.y));return U([(0,w.lV)(T.map(tt=>E.localToMap(tt)))],E.spatialReference,E.doUnnormalization,!0)}(F,rt,this.centered))}break;default:return null}switch(this.geometryType){case"point":case"multipoint":break;case"polyline":case"polygon":x>1&&(d.outline=c([F],tt,j));break;case"circle":case"rectangle":(0,w.pC)(d.full)&&"polygon"===d.full.type&&(d.outline=U(d.full.rings,tt,j))}return d}initializeGraphic(O){return null}onComplete(O){this._updateGraphic();let E=null;if(this.drawOperation.isCompleted){const b=this._getCreateOperationGeometry({operationComplete:!0});(0,w.pC)(b)&&((0,w.Wi)(this._graphic)?this._createGraphic(b.full):this._graphic.geometry=b.full,E=(0,w.Wg)(this._graphic).clone())}this.emit("complete",Mt({graphic:E},O))}onCursorUpdate(O){this._updateGraphic(),this.emit("cursor-update",O)}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}onVertexAdd(O){this._updateGraphic(),this.emit("vertex-add",O)}onVertexRemove(O){this._updateGraphic(),this.emit("vertex-remove",O)}onVertexUpdate(O){this._updateGraphic(),this.emit("vertex-update",O)}_updateGraphic(){const O=this._getCreateOperationGeometry();(0,w.Wi)(O)?this._destroyAllVisualisations():((0,w.pC)(O.outline)?this.handles.add(this.onOutlineChanged(O.outline),ht.outline):this.handles.remove(ht.outline),(0,w.pC)(O.regularVertices)?this.handles.add(this.onRegularVerticesChanged(O.regularVertices),ht.regularVertices):this.handles.remove(ht.regularVertices),(0,w.pC)(O.activeVertex)?this.handles.add(this.onActiveVertexChanged(O.activeVertex),ht.activeVertex):this.handles.remove(ht.activeVertex),(0,w.pC)(O.full)?(0,w.Wi)(this._graphic)?this._createGraphic(O.full):this._graphic.geometry=O.full:this.handles.remove(k))}};(0,l._)([(0,K.Cb)({value:!0})],ot.prototype,"centered",null),(0,l._)([(0,K.Cb)({nonNullable:!0})],ot.prototype,"defaultZ",void 0),(0,l._)([(0,K.Cb)()],ot.prototype,"drawOperation",void 0),(0,l._)([(0,K.Cb)({value:!0})],ot.prototype,"enabled",null),(0,l._)([(0,K.Cb)({value:!0})],ot.prototype,"forceUniformSize",null),(0,l._)([(0,K.Cb)({constructOnly:!0})],ot.prototype,"geometryType",void 0),(0,l._)([(0,K.Cb)()],ot.prototype,"graphic",null),(0,l._)([(0,K.Cb)({constructOnly:!0})],ot.prototype,"graphicProperties",void 0),(0,l._)([(0,K.Cb)()],ot.prototype,"graphicSymbol",null),(0,l._)([(0,K.Cb)({constructOnly:!0})],ot.prototype,"hasZ",void 0),(0,l._)([(0,K.Cb)({constructOnly:!0})],ot.prototype,"mode",void 0),(0,l._)([(0,K.Cb)()],ot.prototype,"snappingManager",void 0),(0,l._)([(0,K.Cb)()],ot.prototype,"snapToScene",void 0),(0,l._)([(0,K.Cb)({readOnly:!0})],ot.prototype,"type",void 0),(0,l._)([(0,K.Cb)({readOnly:!0})],ot.prototype,"updating",null),(0,l._)([(0,K.Cb)({constructOnly:!0,nonNullable:!0})],ot.prototype,"view",void 0),ot=(0,l._)([(0,M.j)("esri.views.draw.DrawGraphicTool")],ot);const k="create-operation-graphic",ht={outline:"outline-visual",regularVertices:"regular-vertices-visual",activeVertex:"active-vertex-visual"};function Et(O){switch(O){case"point":case"polyline":case"polygon":case"multipoint":return O;case"circle":case"rectangle":return"segment";default:return null}}const Tt=48},53449:(ct,N,a)=>{a.d(N,{w:()=>c});var l=a(17626),_=a(61885),y=a(80542),B=a(58817),m=a(62208),st=a(10699),w=a(15572),K=a(32917),W=a(23841),V=a(16730),M=a(77712),I=(a(90912),a(76898)),C=a(53639),R=a(60507),X=a(59617);class q{constructor({grabbableForEvent:A}){this.events=new _.Z,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=A}intersectionDistance(A,Q){return 0}attach(){}detach(){}}var at=a(50017),et=a(75079),S=a(466),Z=a(26777),g=a(24959),h=a(94309),L=a(9773),P=a(94009),Y=a(53912),D=a(62980);let z=class extends D.h{constructor(p){super(p),this.type="draw-point"}};(0,l._)([(0,M.Cb)()],z.prototype,"type",void 0),(0,l._)([(0,M.Cb)()],z.prototype,"elevation",void 0),z=(0,l._)([(0,I.j)("esri.views.interactive.tooltip.DrawPointTooltipInfo")],z);let $=class extends D.h{constructor(p){super(p),this.type="draw-polyline"}};(0,l._)([(0,M.Cb)()],$.prototype,"type",void 0),(0,l._)([(0,M.Cb)()],$.prototype,"elevation",void 0),(0,l._)([(0,M.Cb)()],$.prototype,"totalLength",void 0),$=(0,l._)([(0,I.j)("esri.views.interactive.tooltip.DrawPolylineTooltipInfo")],$);let G=class extends D.h{constructor(p){super(p),this.type="draw-polygon"}};(0,l._)([(0,M.Cb)()],G.prototype,"type",void 0),(0,l._)([(0,M.Cb)()],G.prototype,"elevation",void 0),(0,l._)([(0,M.Cb)()],G.prototype,"area",void 0),G=(0,l._)([(0,I.j)("esri.views.interactive.tooltip.DrawPolygonTooltipInfo")],G);var dt=a(23786),vt=a(28093),ut=a(30174),xt=a(22463),Ct=a(40686);const _t=(0,vt.c)();let c=class extends(_.Z.EventedMixin(y.r)){constructor(p){super(p),this._createOperationCompleted=!1,this._pointerDownStates=new Set,this._snappingPipeline=new P.n,this._tooltip=null,this._tooltipContext={calculateElevation:null,calculateTotalLength:null,calculateArea:null},this.isDraped=!0,this.labelOptions=new g.Z,this.tooltipOptions=new h.Z,this.snapToSceneEnabled=null,(0,m.Wi)(p.elevationInfo)&&(this.elevationInfo={mode:p.hasZ?"absolute-height":"on-the-ground",offset:0})}initialize(){const{geometryType:p,view:A}=this,{spatialReference:Q}=A,H="viewingMode"in A.state?A.state.viewingMode:X.JY.Local,lt="segment"===p||"multipoint"===p?"polyline":p;this.coordinateHelper=(0,at.Y6)(this.hasZ,this.hasM,Q),this._editGeometryOperations=new Z.c(new S.XE(lt,this.coordinateHelper)),this._snappingOperation=new Y.y({view:A}),this.handles.add((0,K.YP)(()=>this.stagedVertex,(k,ht)=>{(0,m.pC)(this._tooltip)&&((0,m.pC)(ht)!==(0,m.pC)(k)?this._tooltip.info=this._getTooltipInfo():this._updateTooltipInfo()),(0,m.Wi)(k)||this.emit("cursor-update",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(k)}],operation:"apply",type:"vertex-update"})},{sync:!0,equals:(k,ht)=>(0,m._W)(k,ht,C.k)})),this._activeComponent=new S.wA(Q,H),this._editGeometryOperations.data.components.push(this._activeComponent);const ot=this.segmentLabels;(0,m.pC)(ot)&&(ot.context={view:A,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions},this.handles.add([(0,K.YP)(()=>this.labelOptions.enabled,k=>{ot.visible=k},K.tX),this.on("cursor-update",()=>{const k=this.stagedVertex;ot.stagedVertex=(0,m.pC)(k)?this.coordinateHelper.pointToVector(k):null})])),this.handles.add(this._editGeometryOperations.on(["vertex-add","vertex-update","vertex-remove"],k=>{const ht=k.vertices.map(Tt=>({componentIndex:0,vertexIndex:Tt.index,coordinates:this.coordinateHelper.vectorToArray(Tt.pos)})),Et=ht.map(Tt=>Tt.coordinates);switch(k.type){case"vertex-add":this.emit(k.type,Rt(Mt({},k),{added:Et,vertices:ht}));break;case"vertex-update":this.emit(k.type,Rt(Mt({},k),{updated:Et,vertices:ht}));break;case"vertex-remove":this.emit(k.type,Rt(Mt({},k),{removed:Et,vertices:ht}))}})),this._manipulator=new q({grabbableForEvent:k=>"click"!==this.drawingMode||"touch"===k.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size}),this.manipulators.add(this._manipulator),this._manipulator.grabbable="point"!==p,this.handles.add([this._createManipulatorDragPipeline(this._manipulator),this._manipulator.events.on("immediate-click",k=>this._onImmediateClick(k)),this._manipulator.events.on("immediate-double-click",k=>this._onImmediateDoubleClick(k)),(0,K.YP)(()=>this.tooltipOptions.enabled,k=>{this._tooltip=k?new dt.u({view:A,info:this._getTooltipInfo()}):(0,m.SC)(this._tooltip)},K.nn),this._editGeometryOperations.on(["vertex-add","vertex-update","vertex-remove"],()=>(0,m.yw)(this._tooltip,k=>{k.info=this._getTooltipInfo()}))])}destroy(){(0,m.SC)(this.segmentLabels),(0,m.SC)(this._snappingOperation),this._tooltip=(0,m.SC)(this._tooltip),this._editGeometryOperations=(0,m.SC)(this._editGeometryOperations)}get _snappingEnabled(){return(0,m.pC)(this.snappingManager)&&this.snappingManager.options.effectiveEnabled}get _defaultElevation(){return(0,w.yG)(this.defaultZ,"meters")}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map(p=>this.coordinateHelper.vectorToArray(p.pos))}set drawingMode(p){this._set("drawingMode",null!=p?p:"click")}get interactive(){return this._manipulator.interactive}set interactive(p){this._manipulator.interactive=p}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get numVertices(){return(0,m.pC)(this.stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get stagedVertex(){return this._snappingOperation.stagedPoint}set stagedVertex(p){this._snappingOperation.stagedPoint=(0,B.d9)(p)}get updating(){return this.updatingHandles.updating}get vertices(){const p=this.committedVertices;return(0,m.pC)(this.stagedVertex)&&p.push(this.coordinateHelper.pointToArray(this.stagedVertex)),p}get stagedOrLastVertex(){if((0,m.pC)(this.stagedVertex))return this.stagedVertex;const p=this._activeComponent.getLastVertex();return(0,m.Wi)(p)?null:this._editGeometryOperations.data.coordinateHelper.vectorToDehydratedPoint(p.pos)}cancel(){this.complete({aborted:!0})}commitStagedVertex(){if(this._snappingOperation.abort(),(0,m.pC)(this.stagedVertex)){const{stagedVertex:p}=this;this.stagedVertex=null,this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(p))}}complete(p){const A=p&&p.aborted||!1;this._snappingOperation.abort(),(0,m.pC)(this.snappingManager)&&this.snappingManager.doneSnapping(),"segment"===this.geometryType||"point"===this.geometryType?this.commitStagedVertex():this.stagedVertex=null,this._createOperationCompleted=!("multipoint"===this.geometryType&&0===this.numVertices||"polyline"===this.geometryType&&this.numVertices<2||"polygon"===this.geometryType&&this.numVertices<3),(this.isCompleted||A)&&this.emit("complete",{vertices:this.vertices.map((H,lt)=>({componentIndex:0,vertexIndex:lt,coordinates:H})),aborted:A,type:"complete"})}onInputEvent(p){switch(p.type){case"pointer-down":this._pointerDownStates.add(p.pointerId);break;case"pointer-up":this._pointerDownStates.delete(p.pointerId)}switch(p.type){case"pointer-move":return this._onPointerMove(p);case"hold":return this._onHold(p)}}redo(){this._editGeometryOperations.redo()}undo(){(0,m.pC)(this.snappingManager)&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_closeOnClickVertexIndex(p){const A=this._activeComponent;if("polygon"===this.geometryType&&A.vertices.length>2){if(this._vertexWithinPointerDistance(A.vertices[0].pos,p))return 0;if(this._vertexWithinPointerDistance(A.vertices[A.vertices.length-1].pos,p))return A.vertices.length-1}return null}_createManipulatorDragPipeline(p){switch((0,m.Wg)(this.drawingMode)){case"click":return this._createManipulatorDragPipelineClick(p);case"freehand":return this._createManipulatorDragPipelineFreehand(p);case"hybrid":return this._createManipulatorDragPipelineHybrid(p)}}_createManipulatorDragPipelineClick(p){return(0,et.Xd)(p,(A,Q,H,lt)=>{const ot="touch"===lt&&this._snappingEnabled;!this.isCompleted&&ot&&(Q.next(this._screenToMapDragEventStep()).next(k=>("start"===k.action&&(this.stagedVertex=k.mapStart,("segment"===this.geometryType||ot&&0===this.numVertices)&&this.commitStagedVertex()),k)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>ot,cancel:H,snappingManager:this.snappingManager,snappingContext:new L.N({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:lt,visualizer:this.snappingVisualizer}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next(k=>(ot&&(this.stagedVertex=k.mapEnd,"end"===k.action&&this.commitStagedVertex()),k)).next(k=>("end"===k.action&&("segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()),k)),H.next(()=>{ot&&(0,m.pC)(this.snappingManager)&&this.snappingManager.doneSnapping()}))})}_createManipulatorDragPipelineFreehand(p){return(0,et.Xd)(p,(A,Q)=>{this.isCompleted||Q.next(this._screenToMapDragEventStep()).next(H=>("start"===H.action&&((0,m.Wi)(this.stagedVertex)&&(this.stagedVertex=H.mapStart),"segment"===this.geometryType&&this.commitStagedVertex()),H)).next(H=>{switch(H.action){case"start":case"update":this.stagedVertex=H.mapEnd,"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case"end":this.complete()}return H})})}_createManipulatorDragPipelineHybrid(p){return(0,et.Xd)(p,(A,Q)=>{this.isCompleted||Q.next(this._screenToMapDragEventStep()).next(H=>("start"===H.action&&((0,m.Wi)(this.stagedVertex)&&(this.stagedVertex=H.mapStart),this.commitStagedVertex()),H)).next(H=>{switch(H.action){case"start":case"update":this.stagedVertex=H.mapEnd,"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case"end":"segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()}return H})})}_getDrawSurface(){if((0,m.Wi)(this.elevationDrawSurface))return this.drawSurface;if(!this.coordinateHelper.hasZ)return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let p=this.defaultZ,A=!1;return(0,m.pC)(this.elevationInfo)&&"absolute-height"===this.elevationInfo.mode&&(A=!0),(0,m.pC)(this.snapToSceneEnabled)&&(A=this.snapToSceneEnabled),(0,m.pC)(this.elevationInfo)&&"on-the-ground"===this.elevationInfo.mode&&(A=!1),("segment"===this.geometryType||"polygon"===this.geometryType)&&this._activeComponent.vertices.length>0&&(p=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),A=!1),A?this.drawSurface:(this.elevationDrawSurface.defaultZ=p,this.elevationDrawSurface)}_mapToScreen(p){return this._getDrawSurface().mapToScreen(p)}_onHold(p){this._snappingOperation.abort(),"click"===this.drawingMode&&"touch"===p.pointerType&&this._snappingEnabled&&(this.stagedVertex=p.mapPoint),p.stopPropagation()}_onImmediateClick(p){if("mouse"===p.pointerType&&2===p.button||this._manipulator.dragging)return;const A=this._activeComponent,Q=this._closeOnClickVertexIndex(p.screenPoint);if((0,m.pC)(Q))return p.stopPropagation(),void this.complete();const H=this._screenToMap(p.screenPoint);if((0,m.pC)(H))switch(this.drawingMode){case"freehand":"point"===this.geometryType&&((0,m.pC)(this.stagedVertex)?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(H)),this.complete());break;case"click":case"hybrid":this._snappingOperation.abort(),(0,m.pC)(this.stagedVertex)?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(H)),("point"===this.geometryType||"segment"===this.geometryType&&2===A.vertices.length||"segment"===this.geometryType&&"hybrid"===this.drawingMode&&1===A.vertices.length)&&this.complete()}p.stopPropagation()}_onImmediateDoubleClick(p){this._manipulator.dragging||"point"===this.geometryType||(this.complete(),p.stopPropagation())}_onPointerMove(p){const A=(0,W.vW)(p.x,p.y);if(this._manipulator.dragging||this._pointerDownStates.has(p.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return void this._snappingOperation.abort();p.stopPropagation();const Q=this._closeOnClickVertexIndex(A);if((0,m.pC)(Q))return this._closeOnVertex(Q),void this._snappingOperation.abort();const H=this._screenToMap(A);if(this._manipulator.cursor=(0,m.pC)(H)?"crosshair":null,(0,m.Wi)(H))return void this._snappingOperation.abort();if((0,m.Wi)(this.snappingManager))return this.stagedVertex=H,void this._snappingOperation.abort();const lt=this.snappingManager,ot=new L.N({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:p.pointerType,visualizer:this.snappingVisualizer});this.updatingHandles.addPromise((0,st.R8)(this._snappingOperation.snap(H,lt,ot)))}_closeOnVertex(p){this.stagedVertex=null;const A={componentIndex:0,vertexIndex:p,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[p].pos)};this.emit("cursor-update",{updated:null,vertices:[A],operation:"apply",type:"vertex-update"})}_screenToMap(p){return this._getDrawSurface().screenToMap(p)}_screenToMapDragEventStep(){let p=null;return A=>{if("start"===A.action&&(p=this._screenToMap(A.screenStart)),(0,m.Wi)(p))return null;const Q=this._screenToMap(A.screenEnd);return(0,m.pC)(Q)?Rt(Mt({},A),{mapStart:p,mapEnd:Q}):null}}_vertexWithinPointerDistance(p,A){const H=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(p));return!!(0,m.pC)(H)&&function U(p,A,Q){const H=p.x-A.x,lt=p.y-A.y;return H*H+lt*lt<=Q}(H,A,25)}_calculateVertexTooltipElevation(p){const{tooltipOptions:A,view:Q}=this;if((0,m.Wi)(p)||"2d"===Q.type)return this._defaultElevation;const H=this.elevationInfo,lt=A.elevation.mode,{spatialReference:ot}=p,k=(0,V._R)(ot),ht=(0,R.vQ)(Q,p,H,{mode:lt,offset:0});return(0,w.yG)(ht*k,"meters")}_getTooltipInfo(){const{tooltipOptions:p,stagedOrLastVertex:A}=this;if((0,m.Wi)(A))return null;this._tooltipContext.calculateElevation=H=>this._calculateVertexTooltipElevation(H);const Q=this._elevationTooltipDetail(A);switch(this.geometryType){case"point":return new z({tooltipOptions:p,elevation:Q});case"polyline":return this._tooltipContext.calculateTotalLength=function Ot(p,A){var Tt,O,E;const lt=(0,xt.Ul)(p,A),ot=null!=(E=null==(O=p.paths[0])?void 0:O[(null==(Tt=p.paths[0])?void 0:Tt.length)-1])?E:null,{hasZ:k,spatialReference:ht}=p,Et=ot?(0,vt.f)(ot[0],ot[1],k?ot[2]:0):null;return b=>{if((0,m.Wi)(b)||(0,m.Wi)(lt)||(0,m.Wi)(Et))return lt;_t[0]=b.x,_t[1]=b.y,_t[2]=k?b.z:0;const F=((b,F,T)=>(0,xt.MU)(b,F,T,A))(Et,_t,ht);return(0,m.Wi)(F)?lt:(0,w.yG)(lt.value+F.value,lt.unit)}}(this._editGeometryOperations.data.geometry,this.isDraped?"on-the-ground":"absolute-height"),new $({tooltipOptions:p,elevation:Q,totalLength:this._totalLengthTooltipDetail(A)});case"polygon":return this._tooltipContext.calculateArea=function mt(p,A){const Q=(0,Ct.ln)(),H=lt=>(0,ut.M)(lt,A,Q);return lt=>{if((0,m.Wi)(lt)||p.rings.length<1||p.rings[0].length<2)return H(p);const ot=p.clone();return ot.rings[0].push([lt.x,lt.y]),H(ot)}}(this._editGeometryOperations.data.geometry,this.isDraped),new G({tooltipOptions:p,elevation:Q,area:this._areaTooltipDetail(A)});default:return null}}_elevationTooltipDetail(p){return Mt({mode:this.elevationInfo.mode},(0,m.Wg)(this._tooltipContext.calculateElevation)(p))}_totalLengthTooltipDetail(p){return Mt({},(0,m.Pt)((0,m.Wg)(this._tooltipContext.calculateTotalLength)(p),(0,w.yG)(0,"meters")))}_areaTooltipDetail(p){return Mt({},(0,m.Pt)((0,m.Wg)(this._tooltipContext.calculateArea)(p),(0,w.ne)(0,"square-meters")))}_updateTooltipInfo(){const p=this._tooltip;if((0,m.Wi)(p))return;const{stagedOrLastVertex:A}=this,Q=this._elevationTooltipDetail(A);switch(this.geometryType){case"point":p.info.elevation=Q;break;case"polyline":{const H=p.info;H.elevation=Q,H.totalLength=this._totalLengthTooltipDetail(A);break}case"polygon":{const H=p.info;H.elevation=Q,H.area=this._areaTooltipDetail(A);break}}}get test(){return{tooltip:this._tooltip}}};(0,l._)([(0,M.Cb)()],c.prototype,"_defaultElevation",null),(0,l._)([(0,M.Cb)()],c.prototype,"defaultZ",void 0),(0,l._)([(0,M.Cb)()],c.prototype,"isDraped",void 0),(0,l._)([(0,M.Cb)({value:"click"})],c.prototype,"drawingMode",null),(0,l._)([(0,M.Cb)({constructOnly:!0})],c.prototype,"elevationDrawSurface",void 0),(0,l._)([(0,M.Cb)({constructOnly:!0})],c.prototype,"elevationInfo",void 0),(0,l._)([(0,M.Cb)({constructOnly:!0,type:g.Z})],c.prototype,"labelOptions",void 0),(0,l._)([(0,M.Cb)({constructOnly:!0,type:h.Z})],c.prototype,"tooltipOptions",void 0),(0,l._)([(0,M.Cb)({constructOnly:!0})],c.prototype,"geometryType",void 0),(0,l._)([(0,M.Cb)({constructOnly:!0})],c.prototype,"hasM",void 0),(0,l._)([(0,M.Cb)({constructOnly:!0})],c.prototype,"hasZ",void 0),(0,l._)([(0,M.Cb)({constructOnly:!0})],c.prototype,"manipulators",void 0),(0,l._)([(0,M.Cb)({constructOnly:!0})],c.prototype,"drawSurface",void 0),(0,l._)([(0,M.Cb)({constructOnly:!0})],c.prototype,"segmentLabels",void 0),(0,l._)([(0,M.Cb)({constructOnly:!0})],c.prototype,"snappingManager",void 0),(0,l._)([(0,M.Cb)({constructOnly:!0})],c.prototype,"snappingVisualizer",void 0),(0,l._)([(0,M.Cb)()],c.prototype,"snapToSceneEnabled",void 0),(0,l._)([(0,M.Cb)()],c.prototype,"_snappingOperation",void 0),(0,l._)([(0,M.Cb)()],c.prototype,"stagedVertex",null),(0,l._)([(0,M.Cb)()],c.prototype,"updating",null),(0,l._)([(0,M.Cb)({constructOnly:!0})],c.prototype,"view",void 0),c=(0,l._)([(0,I.j)("esri.views.draw.DrawOperation")],c)},52181:(ct,N,a)=>{a.d(N,{aL:()=>m,hP:()=>w,iW:()=>st});var l=a(62208),_=a(23841),y=a(38114),B=a(60507);class m{constructor(W,V,M,J=null){this.elevationInfo=W,this.defaultZ=V,this.view=M,this.excludeGraphics=J}screenToMap(W){if((0,l.pC)(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen((0,_.s1)(W.x,W.y),this.elevationInfo,this.defaultZ,this.excludeGraphics);const V=this.view.sceneIntersectionHelper.intersectElevationFromScreen((0,_.s1)(W.x,W.y),this.elevationInfo,0,this.excludeGraphics);return(0,l.pC)(V)&&(V.z=void 0),V}mapToScreen(W){const V=(0,y.Tx)(W.x,W.y,(0,B.vQ)(this.view,W,this.elevationInfo),W.spatialReference);return this.view.toScreen(V)}}class st{constructor(W,V,M=[]){this.view=W,this.elevationInfo=V,this.exclude=M}screenToMap(W){const V=this.view.toMap(W,{exclude:this.exclude});return(0,l.pC)(V)&&(V.z=(0,B.Ou)(V,this.view,this.elevationInfo)),V}mapToScreen(W){let V=W;return(0,l.pC)(this.elevationInfo)&&(V=(0,y.Tx)(W.x,W.y,(0,B.vQ)(this.view,W,this.elevationInfo),W.spatialReference)),this.view.toScreen(V)}}class w{constructor(W){this.view=W,this.screenToMap=V=>W.toMap(V),this.mapToScreen=V=>W.toScreen(V)}}},9773:(ct,N,a)=>{a.d(N,{N:()=>l});class l{constructor(y){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.editGeometryOperations=y.editGeometryOperations,this.elevationInfo=y.elevationInfo,this.pointer=y.pointer,this.vertexHandle=y.vertexHandle,this.excludeFeature=y.excludeFeature,this.visualizer=y.visualizer}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}}},94009:(ct,N,a)=>{a.d(N,{n:()=>K});var l=a(15861),_=a(62208),y=a(10699),B=a(53639),m=a(75079),st=a(9773),w=a(87091);class K{constructor(){this.next=new m.hM}createSnapDragEventPipelineStep({predicate:V=(()=>!0),cancel:M,snappingManager:J,snappingContext:I,updatingHandles:C}){var R=this;if((0,_.Wi)(J))return S=>S;let X=null,nt=null;const it=()=>{X=(0,_.IM)(X),J.doneSnapping(),(0,_.pC)(nt)&&nt.frameTask.remove(),nt=null};M.next(S=>(it(),S)),this.next=new m.hM;const q=(0,y.Ds)(function(){var S=(0,l.Z)(function*({frameTask:Z,point:g,context:h,event:L,dx:P,dy:Y},D){const z=yield Z.schedule(()=>J.snap(g,h,D),D);if(z.valid){let $=yield Z.schedule(()=>z.apply(),D);g!==at&&($=J.update(at,h)),(0,B.k)($,et)||(L.mapEnd.x=$.x+P,L.mapEnd.y=$.y+Y,R.next.execute(L))}});return function(Z,g){return S.apply(this,arguments)}}());let at,et;return S=>{if(!V(S))return S;if("start"===S.action){const Z="3d"===J.view.type?J.view.resourceController.scheduler.registerTask(w.T8.SNAPPING):w.sq;nt={context:new st.N({editGeometryOperations:I.editGeometryOperations,elevationInfo:I.elevationInfo,pointer:I.pointer,vertexHandle:(0,_.pC)(S.info)?S.info.handle:null,excludeFeature:I.excludeFeature,visualizer:I.visualizer}),originalPos:(0,_.pC)(S.snapOrigin)?I.coordinateHelper.vectorToDehydratedPoint(S.snapOrigin):S.mapStart,frameTask:Z}}if((0,_.pC)(nt)){const Z=nt.context.coordinateHelper.vectorToDehydratedPoint(nt.context.coordinateHelper.arrayToVector([nt.originalPos.x,nt.originalPos.y,nt.originalPos.z]));Z.x+=S.mapEnd.x-S.mapStart.x,Z.y+=S.mapEnd.y-S.mapStart.y;const g=S.mapStart.x-nt.originalPos.x,h=S.mapStart.y-nt.originalPos.y,L=Rt(Mt({},S),{action:"update"}),P=nt.context,Y=J.update(Z,nt.context);if(et=Y,S.mapEnd.x=Y.x+g,S.mapEnd.y=Y.y+h,at=Z,"end"!==S.action){const D=nt.frameTask;(0,_.pC)(X)||(X=new AbortController),C.addPromise((0,y.R8)(q({frameTask:D,event:L,context:P,point:Z,dx:g,dy:h},X.signal)))}}return"end"===S.action&&it(),S}}}},53912:(ct,N,a)=>{a.d(N,{y:()=>J});var l=a(15861),_=a(17626),y=a(14517),B=a(62208),m=a(10699),st=a(77712),V=(a(85931),a(8314),a(90912),a(76898)),M=a(87091);let J=class extends y.Z{constructor(I){var C;super(I),C=this,this.stagedPoint=null,this._abortController=null,this._snap=(0,m.Ds)(function(){var R=(0,l.Z)(function*(X,nt,it,q){const at=yield C._frameTask.schedule(()=>nt.snap(X,it,q),q);at.valid&&(yield C._frameTask.schedule(()=>{C.stagedPoint=at.apply(),X!==C._snapMapPoint&&(C.stagedPoint=nt.update(C._snapMapPoint,it))},q))});return function(X,nt,it,q){return R.apply(this,arguments)}}())}initialize(){var C,R;const I="3d"===this.view.type?null==(R=null==(C=this.view)?void 0:C.resourceController)?void 0:R.scheduler:null;this._frameTask=(0,B.pC)(I)?I.registerTask(M.T8.SNAPPING):M.sq}destroy(){this._abortController=(0,B.IM)(this._abortController),this._frameTask=(0,B.hw)(this._frameTask)}snap(I,C,R){var X=this;return(0,l.Z)(function*(){return X.stagedPoint=C.update(I,R),X._snapMapPoint=I,(0,B.Wi)(X._abortController)&&(X._abortController=new AbortController),X._snap(I,C,R,X._abortController.signal)})()}abort(){this._abortController=(0,B.IM)(this._abortController)}};(0,_._)([(0,st.Cb)({constructOnly:!0})],J.prototype,"view",void 0),(0,_._)([(0,st.Cb)()],J.prototype,"stagedPoint",void 0),J=(0,_._)([(0,V.j)("esri.views.interactive.snapping.SnappingOperation")],J)},13459:(ct,N,a)=>{a.d(N,{a:()=>w});var l=a(54024),_=a(80985),y=a(62160),B=a(80221),m=a(19038),st=a(86842);class w{draw(W,V){const M=this._getUniqueHints(W),J=[];for(const I of M)I instanceof _.w&&J.push(this.visualizeIntersectionPoint(I,V)),I instanceof y.w&&J.push(this.visualizeLine(I,V)),I instanceof B.L&&J.push(this.visualizeParallelSign(I,V)),I instanceof st.y&&J.push(this.visualizeRightAngleQuad(I,V)),I instanceof m.n&&J.push(this.visualizePoint(I,V));return(0,l.AL)(J)}_getUniqueHints(W){const V=[];for(const M of W){let J=!0;for(const I of V)if(M.equals(I)){J=!1;break}J&&V.push(M)}return V}}},19038:(ct,N,a)=>{a.d(N,{n:()=>y});var l=a(44725),_=a(5286);class y extends _.r{constructor(m,st){super(st),this.point=m}equals(m){return m instanceof y&&(0,l.Xv)(this.point,m.point)}}},62980:(ct,N,a)=>{a.d(N,{h:()=>K});var l=a(17626),_=a(14517),y=a(77712),w=(a(85931),a(8314),a(90912),a(76898));let K=class extends _.Z{constructor(W){super(W)}};(0,l._)([(0,y.Cb)()],K.prototype,"tooltipOptions",void 0),K=(0,l._)([(0,w.j)("esri.views.interactive.tooltip.SketchTooltipInfo")],K)},23786:(ct,N,a)=>{a.d(N,{u:()=>E});var l=a(17626),_=a(14517),y=a(62208),B=a(32917),m=a(77712),W=(a(85931),a(8314),a(90912),a(76898));const V="esri-tooltip",M=`${V}-content`;a(63290),a(82255),a(52515);var R=a(84600),X=a(16730),nt=a(10391),it=a(38570),q=a(25552),at=a(15348);let et=class extends nt.Z{constructor(){super(...arguments),this._messagesUnits=null,this._messagesTooltip=null}get _units(){const T=(0,X.RG)(this.tooltip.view);return{length:T,verticalLength:T,area:T}}_formatScale(T){return(0,at.uf)(T,{style:"percent",maximumFractionDigits:0})}_formatRelativeOrientation(T){return(0,at.uf)(T,{maximumFractionDigits:2,minimumFractionDigits:2,signDisplay:"exceptZero"})}_formatLength(T,d,x){return(0,R.N9)(this._messagesUnits,T,(0,y.Pt)(d,this._units.length),x)}_formatRelativeLength(T){return(0,R.i_)(this._messagesUnits,T,this._units.length)}_formatVerticalLength(T){return(0,R.ym)(this._messagesUnits,T,this._units.verticalLength)}_formatRelativeVerticalLength(T){return(0,R.Pr)(this._messagesUnits,T,this._units.verticalLength)}_formatTotalLength(T){return(0,R.N9)(this._messagesUnits,T,this._units.length)}_formatArea(T){return(0,R.Se)(this._messagesUnits,T,this._units.area)}_formatPercentage(T){return(0,at.uf)(T.value,{style:"percent"})}};(0,l._)([(0,m.Cb)()],et.prototype,"info",void 0),(0,l._)([(0,m.Cb)()],et.prototype,"tooltip",void 0),(0,l._)([(0,m.Cb)()],et.prototype,"_units",null),(0,l._)([(0,q.H)("esri/core/t9n/Units"),(0,m.Cb)()],et.prototype,"_messagesUnits",void 0),(0,l._)([(0,q.H)("esri/views/interactive/tooltip/t9n/Tooltip"),(0,m.Cb)()],et.prototype,"_messagesTooltip",void 0),et=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.content.TooltipContent")],et);var S=a(94450);const Z=`${V}-field`,g={base:Z,title:`${Z}__title`,value:`${Z}__value`};let h=class extends nt.Z{render(){return(0,S.u)("div",{class:g.base},(0,S.u)("div",{class:g.title},this.title),(0,S.u)("div",{class:g.value},this.value))}};(0,l._)([(0,m.Cb)()],h.prototype,"title",void 0),(0,l._)([(0,m.Cb)()],h.prototype,"value",void 0),h=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.support.TooltipField")],h);const L={base:`${M} ${M}--draw-point`};let P=class extends et{render(){var x;const{elevation:T}=this.info,d=null==(x=this._messagesTooltip)?void 0:x.sketch;return(0,S.u)("div",{class:L.base},(0,S.u)(h,{title:null==d?void 0:d.elevation,value:this._formatVerticalLength(T)}))}};P=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.content.TooltipContentDrawPoint")],P);const Y={base:`${M} ${M}--draw-polygon`};let D=class extends et{render(){var tt;const{area:T,elevation:d}=this.info,x=null==(tt=this._messagesTooltip)?void 0:tt.sketch;return(0,S.u)("div",{class:Y.base},(0,S.u)(h,{title:null==x?void 0:x.elevation,value:this._formatVerticalLength(d)}),(0,S.u)(h,{title:null==x?void 0:x.area,value:this._formatArea(T)}))}};D=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.content.TooltipContentDrawPolygon")],D);const z={base:`${M} ${M}--draw-polyline`};let $=class extends et{render(){var tt;const{elevation:T,totalLength:d}=this.info,x=null==(tt=this._messagesTooltip)?void 0:tt.sketch;return(0,S.u)("div",{class:z.base},(0,S.u)(h,{title:null==x?void 0:x.elevation,value:this._formatVerticalLength(T)}),(0,S.u)(h,{title:null==x?void 0:x.totalLength,value:this._formatLength(d)}))}};$=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.content.TooltipContentDrawPolyline")],$);const G={base:`${M} ${M}--extent-rotate`};let dt=class extends et{render(){var x;const{angle:T}=this.info,d=null==(x=this._messagesTooltip)?void 0:x.sketch;return(0,S.u)("div",{class:G.base},(0,S.u)(h,{title:null==d?void 0:d.rotation,value:this._formatRelativeOrientation(T)}))}};dt=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.content.TooltipContentExtentRotate")],dt);const vt={base:`${V}-value-by-value`};let ut=class extends nt.Z{constructor(){super(...arguments),this.divider="\xd7"}render(){return(0,S.u)("div",{class:vt.base},(0,S.u)("span",null,this.left),(0,S.u)("span",null,this.divider),(0,S.u)("span",null,this.right))}};(0,l._)([(0,m.Cb)()],ut.prototype,"left",void 0),(0,l._)([(0,m.Cb)()],ut.prototype,"divider",void 0),(0,l._)([(0,m.Cb)()],ut.prototype,"right",void 0),ut=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.support.ValueByValue")],ut);const xt={base:`${M} ${M}--extent-scale`};let Ct=class extends et{render(){var rt;const{xScale:T,yScale:d,xSize:x,ySize:tt}=this.info,j=null==(rt=this._messagesTooltip)?void 0:rt.sketch;return(0,S.u)("div",{class:xt.base},(0,S.u)(h,{title:null==j?void 0:j.size,value:(0,S.u)(ut,{left:this._formatLength(x),right:this._formatLength(tt)})}),(0,S.u)(h,{title:null==j?void 0:j.scale,value:(0,S.u)(ut,{left:this._formatScale(T),right:this._formatScale(d)})}))}};Ct=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.content.TooltipContentExtentScale")],Ct);const Ot={base:`${M} ${M}--reshape-edge-offset`};let mt=class extends et{render(){var x;const{distance:T}=this.info,d=null==(x=this._messagesTooltip)?void 0:x.sketch;return(0,S.u)("div",{class:Ot.base},(0,S.u)(h,{title:null==d?void 0:d.distance,value:this._formatRelativeLength(T)}))}};mt=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.content.TooltipContentReshapeEdgeOffset")],mt);const _t={base:`${M} ${M}--reshape-move-graphic`};let c=class extends et{render(){var x;const{distance:T}=this.info,d=null==(x=this._messagesTooltip)?void 0:x.sketch;return(0,S.u)("div",{class:_t.base},(0,S.u)(h,{title:null==d?void 0:d.distance,value:this._formatLength(T)}))}};c=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.content.TooltipContentReshapeMoveGraphic")],c);const U={base:`${M} ${M}--transform-absolute`};let p=class extends et{render(){var Pt;const{orientation:T,orientationEnabled:d,orientationPrecision:x,rotationType:tt,size:j,sizeEnabled:rt,sizeUnit:pt,sizePrecision:ft}=this.info,yt=null==(Pt=this._messagesTooltip)?void 0:Pt.sketch;return(0,S.u)("div",{class:U.base},d&&(0,S.u)(h,{title:null==yt?void 0:yt.orientation,value:(0,R.cy)(T,tt,x)}),rt&&(0,S.u)(h,{title:null==yt?void 0:yt.size,value:this._formatLength(j,pt,ft)}))}};p=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.content.TooltipContentTransformAbsolute")],p);const A={base:`${M} ${M}--transform-rotate`};let Q=class extends et{render(){var pt;const{rotation:T,rotationPrecision:d,orientation:x,orientationPrecision:tt,rotationType:j}=this.info,rt=null==(pt=this._messagesTooltip)?void 0:pt.sketch;return(0,S.u)("div",{class:A.base},(0,S.u)(h,{title:null==rt?void 0:rt.rotation,value:(0,R.SP)(T,j,d)}),(0,S.u)(h,{title:null==rt?void 0:rt.orientation,value:(0,R.cy)(x,j,tt)}))}};Q=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.content.TooltipContentTransformRotate")],Q);const H={base:`${M} ${M}--transform-scale`};let lt=class extends et{render(){var rt;const{scale:T,size:d,sizePrecision:x,sizeUnit:tt}=this.info,j=null==(rt=this._messagesTooltip)?void 0:rt.sketch;return(0,S.u)("div",{class:H.base},(0,S.u)(h,{title:null==j?void 0:j.scale,value:this._formatPercentage(T)}),(0,S.u)(h,{title:null==j?void 0:j.size,value:this._formatLength(d,tt,x)}))}};lt=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.content.TooltipContentTransformScale")],lt);const ot={base:`${M} ${M}--translate-vertex`};let k=class extends et{render(){var rt;const{area:T,distance:d,elevation:x,totalLength:tt}=this.info,j=null==(rt=this._messagesTooltip)?void 0:rt.sketch;return(0,S.u)("div",{class:ot.base},(0,S.u)(h,{title:null==j?void 0:j.distance,value:this._formatLength(d)}),(0,y.pC)(x)&&(0,S.u)(h,{title:null==j?void 0:j.elevation,value:this._formatVerticalLength(x)}),(0,y.pC)(T)&&(0,S.u)(h,{title:null==j?void 0:j.area,value:this._formatArea(T)}),(0,y.pC)(tt)&&(0,S.u)(h,{title:null==j?void 0:j.totalLength,value:this._formatLength(tt)}))}};k=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.content.TooltipContentTranslateVertex")],k);const ht={base:`${M} ${M}--extent-move-z`};let Et=class extends et{render(){var x;const{distance:T}=this.info,d=null==(x=this._messagesTooltip)?void 0:x.sketch;return(0,S.u)("div",{class:ht.base},(0,S.u)(h,{title:null==d?void 0:d.distance,value:this._formatRelativeVerticalLength(T)}))}};Et=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.content.TooltipContentTranslateZ")],Et);const O={base:`${V}`};let E=class extends _.Z{constructor(T){super(T),this.info=null,this._contentContainer=(()=>{const d=document.createElement("div");return d.classList.add(O.base),d})(),this._contentWidget=null}initialize(){const T=this._contentContainer;this.own([(0,B.YP)(()=>{var d;return null==(d=this.view.overlay)?void 0:d.surface},d=>{T.remove(),(0,y.yw)(d,x=>x.appendChild(T))},B.tX),(0,B.YP)(()=>this.info,(d,x)=>{(0,y.pC)(this._contentWidget)&&(0,y.pC)(d)&&(0,y.pC)(x)&&d.type===x.type?this._contentWidget.info=d:(this._contentWidget=(0,y.SC)(this._contentWidget),(0,y.yw)(function Tt(T,d){if((0,y.Wi)(d))return null;const x=document.createElement("div");switch(d.type){case"draw-point":return new P({tooltip:T,info:d,container:x});case"draw-polygon":return new D({tooltip:T,info:d,container:x});case"draw-polyline":return new $({tooltip:T,info:d,container:x});case"extent-rotate":return new dt({tooltip:T,info:d,container:x});case"extent-scale":return new Ct({tooltip:T,info:d,container:x});case"reshape-edge-offset":return new mt({tooltip:T,info:d,container:x});case"transform-absolute":return new p({tooltip:T,info:d,container:x});case"transform-rotate":return new Q({tooltip:T,info:d,container:x});case"transform-scale":return new lt({tooltip:T,info:d,container:x});case"translate-graphic":return new c({tooltip:T,info:d,container:x});case"translate-vertex":return new k({tooltip:T,info:d,container:x});case"translate-z":return new Et({tooltip:T,info:d,container:x})}}(this,d),tt=>{this._contentWidget=tt,T.appendChild(tt.container)}))},B.tX),(0,B.YP)(()=>{var d;return{container:this._contentContainer,contentWidget:this._contentWidget,screenPoint:null==(d=this.view.inputManager)?void 0:d.latestPointerLocation}},b,B.tX)])}destroy(){this._contentWidget=(0,y.SC)(this._contentWidget),this._contentContainer.remove()}clear(){this.info=null}get test(){return{contentContainer:this._contentContainer}}};function b({container:T,contentWidget:d,screenPoint:x}){const{style:tt}=T;if((0,y.pC)(x)&&(0,y.pC)(d)){tt.display="block";const j=(0,it.dZ)(T),rt=`translate(${Math.round(x.x)+F[0]*(j?-1:1)}px, ${Math.round(x.y)+F[1]}px)`;tt.transform=j?`translate(-100%, 0) ${rt}`:rt}else tt.display="none"}(0,l._)([(0,m.Cb)({nonNullable:!0})],E.prototype,"view",void 0),(0,l._)([(0,m.Cb)()],E.prototype,"info",void 0),(0,l._)([(0,m.Cb)()],E.prototype,"_contentContainer",void 0),(0,l._)([(0,m.Cb)()],E.prototype,"_contentWidget",void 0),E=(0,l._)([(0,W.j)("esri.views.interactive.tooltip.Tooltip")],E);const F=[20,20]},30174:(ct,N,a)=>{a.d(N,{M:()=>C});var l=a(62208),_=a(40686),B=(a(29132),a(15572)),m=a(44766),st=a(55915),w=a(10049),K=a(91622),W=a(65234);function M(R){return(0,B.ne)(Math.abs((0,w.p8)([R],"square-meters")[0]),"square-meters")}function J(R){try{return(0,B.ne)(Math.abs((0,m.geodesicArea)(R,"square-meters")),"square-meters")}catch(X){return null}}function I(R){const X=[];return(0,st.K2)(R,X)?(0,B.ne)(Math.abs((0,w.p8)([{type:"polygon",rings:X,spatialReference:W.Z.WGS84}],"square-meters")[0]),"square-meters"):null}function C(R,X,nt=(0,_.ln)()){if(X){const it=function V(R){const{spatialReference:X}=R;return(0,K.T)(X,M,J,I,R)}(R);return(0,l.pC)(it)?it:(0,_.X)(R,nt)}return(0,_.oN)(R,nt)}},22463:(ct,N,a)=>{a.d(N,{GQ:()=>w,MU:()=>st,Ul:()=>B,bZ:()=>K});var l=a(62208),_=a(71572),y=a(63656);function B(V,M){return W(_.qS,y.kQ,_.Sx,M,V)}function st(V,M,J,I){return W(_.FN,y.FB,_.qj,I,V,M,J)}function w(V,M,J){return W(_.xI,y.RT,_.xI,J,V,M)}function K(V,M,J,I){return W(_.qj,y.FB,_.qj,I,V,M,J)}function W(V,M,J,I,...C){if("on-the-ground"===I){const R=M.apply(void 0,C);return(0,l.pC)(R)?R:J.apply(void 0,C)}return V.apply(void 0,C)}},40686:(ct,N,a)=>{a.d(N,{X:()=>I,bT:()=>nt,ln:()=>X,oN:()=>J});var l=a(62208),_=a(15572),y=a(16730),B=a(11915),m=a(84161),st=a(28093),w=a(55915),K=a(90014),W=a(11544),V=a(26242),M=a(66601);function J(q,at={positionsWorldCoords:[]}){return C(q,at)}function I(q,at={positionsWorldCoords:[]}){return C(q,at,!1)}function C(q,at,et=q.hasZ){const S=(0,M.m)(q.spatialReference),Z=(0,y.oq)(S);if((0,l.Wi)(Z))return null;const g=(L,P)=>!(P.length<2||((0,m.s)(L,P[0],P[1],et&&P[2]||0),0));let h=0;for(const L of q.rings){if(L.length<3)continue;const{positionsWorldCoords:P}=at;for(;P.length<L.length;)P.push((0,st.c)());const Y=R;for(let G=0;G<3;G++)if(!g(Y,L[G])||!(0,w.SH)(Y,q.spatialReference,P[G],S))return null;if((0,m.k)(P[0],P[1])||(0,m.k)(P[0],P[2])||(0,m.k)(P[1],P[2]))continue;const D=(0,K.zk)(P[0],P[1],P[2],(0,K.re)()),z=(0,m.c)(V.WM.get(),P[0]);for(let G=0;G<3;G++)(0,K.tx)(D,z,P[G],P[G]);for(let G=3;G<L.length;G++){if(!g(Y,L[G]))return null;(0,w.SH)(Y,q.spatialReference,P[G],S),(0,K.tx)(D,z,P[G],P[G])}const $=nt(P);for(let G=0;G<$.length;G+=3)h+=(0,W.wu)(P[$[G]],P[$[G+1]],P[$[G+2]])}return(0,_.ne)(h,Z)}const R=(0,st.c)();function X(){return{positionsWorldCoords:[]}}function nt(q){return(0,B.e)(function it(q){const at=new Float64Array(2*q.length);for(let et=0;et<q.length;++et){const S=q[et],Z=2*et;at[Z+0]=S[0],at[Z+1]=S[1]}return at}(q),[],2)}},71572:(ct,N,a)=>{a.d(N,{Cr:()=>et,FN:()=>it,Sx:()=>V,Uy:()=>J,_e:()=>R,g1:()=>X,qS:()=>W,qj:()=>q,xI:()=>C});var l=a(62208),_=a(15572),y=a(16730),B=a(84161),m=a(28093),st=a(55915),w=a(37053),K=a(66601);function W(D){return M(D,"direct")}function V(D){return M(D,"horizontal")}function M(D,z){const{hasZ:$,spatialReference:G}=D,dt=(0,K.m)(G);let vt=0;const ut=(0,y.j5)(dt);if((0,l.Wi)(ut))return null;const xt="direct"===z?it:q;for(const Ct of D.paths){if(Ct.length<2)continue;const Ot=Ct.length-1;for(let mt=0;mt<Ot;++mt){const _t=Ct[mt];g[0]=_t[0],g[1]=_t[1],g[2]=$?_t[2]:0;const c=Ct[mt+1];h[0]=c[0],h[1]=c[1],h[2]=$?c[2]:0;const U=xt(g,h,G);if((0,l.Wi)(U))return null;vt+=U.value}}return(0,_.yG)(vt,ut)}function J(D,z){const{spatialReference:$}=D;return(0,w.fS)($,z.spatialReference)?(g[0]=D.x,g[1]=D.y,g[2]=D.hasZ?D.z:0,h[0]=z.x,h[1]=z.y,h[2]=z.hasZ?z.z:0,function nt(D,z,$){const G=Z(D,z,$);return(0,l.pC)(G)?{direct:(0,_.yG)(G.direct,G.unit),horizontal:(0,_.yG)(G.horizontal,G.unit),vertical:(0,_.yG)(G.vertical,G.unit)}:null}(g,h,$)):null}function C(D,z){const{spatialReference:$}=D;return(0,w.fS)($,z.spatialReference)?(g[0]=D.x,g[1]=D.y,g[2]=D.hasZ?D.z:0,h[0]=z.x,h[1]=z.y,h[2]=z.hasZ?z.z:0,q(g,h,$)):null}function R(D,z){const{spatialReference:$}=D;return(0,w.fS)($,z.spatialReference)?(g[0]=D.x,g[1]=D.y,g[2]=D.hasZ?D.z:0,h[0]=z.x,h[1]=z.y,h[2]=z.hasZ?z.z:0,et(g,h,$)):null}function X(D){return g[0]=D.x,g[1]=D.y,g[2]=D.hasZ?D.z:0,function S(D,z){const $=(0,y.y)(z);return(0,l.pC)($)?(0,_.yG)(D[2],$):null}(g,D.spatialReference)}function it(D,z,$){const G=Z(D,z,$,"direct");return(0,l.pC)(G)?(0,_.yG)(G.direct,G.unit):null}function q(D,z,$){const G=Z(D,z,$,"horizontal");return(0,l.pC)(G)?(0,_.yG)(G.horizontal,G.unit):null}function et(D,z,$){const G=Z(D,z,$,"vertical");return(0,l.pC)(G)?(0,_.yG)(G.verticalSigned,G.unit):null}function Z(D,z,$,G){const dt=(0,K.m)($),vt=(0,y.j5)(dt);if((0,l.Wi)(vt))return null;const ut=z[2]-D[2];if("vertical"===G)return{verticalSigned:ut,unit:vt};if(!(0,st.SH)(D,$,L,dt)||!(0,st.SH)(z,$,P,dt))return null;if("direct"===G)return{direct:(0,B.i)(P,L),unit:vt};if((0,B.s)(Y,D[0],D[1],z[2]),!(0,st.SH)(Y,$,Y,dt))return null;const xt=(0,B.i)(Y,P);return"horizontal"===G?{horizontal:xt,unit:vt}:{direct:(0,B.i)(P,L),horizontal:xt,vertical:Math.abs(ut),unit:vt}}const g=(0,m.c)(),h=(0,m.c)(),L=(0,m.c)(),P=(0,m.c)(),Y=(0,m.c)()},63656:(ct,N,a)=>{a.d(N,{FB:()=>V,RT:()=>W,kQ:()=>K});var l=a(15572),_=a(28093),y=a(44766),B=a(55915),m=a(10049),st=a(37053),w=a(91622);function K(Z){const{spatialReference:g}=Z;return(0,w.T)(g,C,R,X,Z)}function W(Z,g){if(!(0,st.fS)(Z.spatialReference,g.spatialReference))return null;const{spatialReference:h}=Z;return q[0]=Z.x,q[1]=Z.y,q[2]=Z.hasZ?Z.z:0,at[0]=g.x,at[1]=g.y,at[2]=g.hasZ?g.z:0,V(q,at,h)}function V(Z,g,h){return(0,w.T)(h,M,J,I,Z,g,h)}function M(Z,g,h){return(0,l.yG)((0,m.cA)(it,Z,g,h).distance,"meters")}function J(Z,g,h){return(0,l.yG)((0,y.geodesicLength)(function nt(Z,g,h){return{type:"polyline",spatialReference:h,paths:[[[...Z],[...g]]]}}(Z,g,h),"meters"),"meters")}function I(Z,g,h){return(0,B.ke)(Z,h,et)&&(0,B.ke)(g,h,S)?(0,l.yG)((0,m.cA)(it,et,S).distance,"meters"):null}function C(Z){return(0,l.yG)((0,m.Jf)([Z],"meters")[0],"meters")}function R(Z){return(0,l.yG)((0,y.geodesicLength)(Z,"meters"),"meters")}function X(Z){const g=[];if(!(0,B.bi)(Z,g))return null;let h=0;for(const L of g){let P=0;for(let Y=1;Y<L.length;++Y)P+=(0,m.cA)(it,L[Y-1],L[Y]).distance;h+=P}return(0,l.yG)(h,"meters")}const it={distance:null},q=(0,_.c)(),at=(0,_.c)(),et=(0,_.c)(),S=(0,_.c)()},91622:(ct,N,a)=>{a.d(N,{T:()=>y});var l=a(10049),_=a(37053);function y(B,m,st,w,...K){return(0,_.sT)(B)&&(0,l.Gb)(B)?m.apply(void 0,K):(0,_.sS)(B)?st.apply(void 0,K):w.apply(void 0,K)}},66601:(ct,N,a)=>{a.d(N,{m:()=>y});var l=a(55915),_=a(12080);function y(B){const m=(0,_.rS)(B),st=m===_.GG?_.wY:m;return(0,l.Up)(B,st)?st:B}}}]);