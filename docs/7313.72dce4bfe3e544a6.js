"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[7313],{27313:(z,p,l)=>{l.r(p),l.d(p,{previewCIMSymbol:()=>b});var C=l(15861),g=l(23841),I=l(11369),y=l(56445),O=l(71131),P=l(34057);const v=new I.CIMSymbolRasterizer(null,!0),U=O.b_.maxSize;function b(t){return c.apply(this,arguments)}function c(){return(c=(0,C.Z)(function*(t,e={}){const{size:r,maxSize:d,node:M,opacity:f}=e,w=e.cimOptions||e,{feature:R,fieldMap:S,geometryType:W,style:x}=w,E=(0,y.kW)(t),D="number"==typeof r?r:null,n=Math.min(null!=D?D:E,null!=d?d:(0,g.Wz)(U));n!==E&&(t=t.clone(),(0,y.PI)(t,n,{preserveOutlineWidth:!0}));let o=3;t&&t.data&&t.data.symbol&&"CIMPointSymbol"!==t.data.symbol.type&&(o=1);const h=yield v.rasterizeCIMSymbolAsync(t,R,S,W,{scaleFactor:o,style:x}),s=document.createElement("canvas");s.width=h.imageData.width,s.height=h.imageData.height,s.getContext("2d").putImageData(h.imageData,0,0);let a=s.width/o,_=s.height/o;if(null!=r&&(null==(null==e?void 0:e.scale)||(null==e?void 0:e.scale))){const i=a/_;a=i<=1?Math.ceil(n*i):n,_=i<=1?n:Math.ceil(n/i)}const m=new Image(a,_);m.src=s.toDataURL(),null!=f&&(m.style.opacity=`${f}`);let u=m;return null!=e.effectView&&(u=(0,P.w)([[{shape:{type:"image",x:0,y:0,width:a,height:_,src:m.src},fill:null,stroke:null,offset:[0,0]}]],[a,_],{effectView:e.effectView})),M&&M.appendChild(u),u})).apply(this,arguments)}}}]);