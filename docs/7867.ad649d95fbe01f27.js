"use strict";var H=Object.defineProperty,Q=Object.defineProperties,X=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,Y=(U,u,e)=>u in U?H(U,u,{enumerable:!0,configurable:!0,writable:!0,value:e}):U[u]=e,K=(U,u)=>{for(var e in u||(u={}))k.call(u,e)&&Y(U,e,u[e]);if(w)for(var e of w(u))q.call(u,e)&&Y(U,e,u[e]);return U},W=(U,u)=>Q(U,X(u));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[7867],{128:(U,u,e)=>{e.d(u,{B:()=>M});var t=e(15861),p=e(22558),o=e(21726),N=e(35948),j=e(34117),S=e(31283),C=e(77712),g=e(61556),s=e(29840);function M(r){var l;const a=null!=(l=null==r?void 0:r.origins)?l:[void 0];return(f,y)=>{const h=function O(r,a,l){var f;if("resource"===(null==r?void 0:r.type))return function b(r,a,l){const f=(0,j.Oe)(a,l);return{type:String,read:(y,h,E)=>{const n=(0,s.r)(y,h,E);return f.type===String?n:"function"==typeof f.type?new f.type({url:n}):void 0},write:{writer(y,h,E,n){if(!n||!n.resources)return"string"==typeof y?void(h[E]=(0,s.t)(y,n)):void(h[E]=y.write({},n));const T=function J(r){return null==r?null:"string"==typeof r?r:r.url}(y),x=(0,s.t)(T,W(K({},n),{verifyItemRelativeUrls:n&&n.verifyItemRelativeUrls?{writtenUrls:n.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0}),s.M.NO),B=f.type!==String&&(!(0,p.l)(this)||n&&n.origin&&this.originIdOf(l)>(0,S.M9)(n.origin)),c={object:this,propertyName:l,value:y,targetUrl:x,dest:h,targetPropertyName:E,context:n,params:r};n&&n.portalItem&&x&&!(0,o.YP)(x)?B?function m(r){var Z;const{context:a,targetUrl:l,params:f,value:y,dest:h,targetPropertyName:E}=r;if(!a.portalItem)return;const n=a.portalItem.resourceFromPath(l),T=D(y,l,a),x=(0,g.B)(T),B=(0,o.Ml)(n.path),c=null!=(Z=null==f?void 0:f.compress)&&Z;x===B?(a.resources&&v(W(K({},r),{resource:n,content:T,compress:c,updates:a.resources.toUpdate})),h[E]=l):I(r)}(c):function R({context:r,targetUrl:a,dest:l,targetPropertyName:f}){r.portalItem&&r.resources&&(r.resources.toKeep.push({resource:r.portalItem.resourceFromPath(a),compress:!1}),l[f]=a)}(c):n&&n.portalItem&&(null==x||null!=(0,s.i)(x)||(0,o.jc)(x)||B)?I(c):h[E]=x}}}}(r,a,l);switch(null!=(f=null==r?void 0:r.type)?f:"other"){case"other":return{read:!0,write:!0};case"url":{const{read:y,write:h}=s.a;return{read:y,write:h}}}}(r,f,y);for(const E of a){const n=(0,C.CJ)(f,E,y);for(const T in h)n[T]=h[T]}}}function I(r){var P,A,G;const{targetUrl:a,params:l,value:f,context:y,dest:h,targetPropertyName:E}=r;if(!y.portalItem)return;const n=(0,s.p)(a),T=null!=(P=null==n?void 0:n.filename)?P:(0,N.D)(),x=null!=(A=null==l?void 0:l.prefix)?A:null==n?void 0:n.prefix,B=D(f,a,y),c=(0,o.v_)(x,T),Z=`${c}.${(0,g.B)(B)}`,i=y.portalItem.resourceFromPath(Z);(0,o.jc)(a)&&y.resources&&y.resources.pendingOperations.push(function L(r){return _.apply(this,arguments)}(a).then(V=>{i.path=`${c}.${(0,g.B)(V)}`,h[E]=i.itemRelativeUrl}).catch(()=>{}));const d=null!=(G=null==l?void 0:l.compress)&&G;y.resources&&v(W(K({},r),{resource:i,content:B,compress:d,updates:y.resources.toAdd})),h[E]=i.itemRelativeUrl}function v({object:r,propertyName:a,updates:l,resource:f,content:y,compress:h}){l.push({resource:f,content:y,compress:h,finish:E=>{!function F(r,a,l){"string"==typeof r[a]?r[a]=l.url:r[a].url=l.url}(r,a,E)}})}function D(r,a,l){return"string"==typeof r?{url:a}:new Blob([JSON.stringify(r.toJSON(l))],{type:"application/json"})}function _(){return(_=(0,t.Z)(function*(r){const a=(yield Promise.resolve().then(e.bind(e,84792))).default,{data:l}=yield a(r,{responseType:"blob"});return l})).apply(this,arguments)}},67867:(U,u,e)=>{e.r(u),e.d(u,{default:()=>Z});var n,t=e(15861),p=e(17626),o=e(26584),N=e(72392),j=e(62208),S=e(99959),C=e(10699),g=e(32917),s=e(77712),b=(e(90912),e(85931),e(68653)),I=e(76898),m=e(128),R=e(44917),v=e(50085),D=e(65088),L=e(49286),_=e(6647),J=e(99555),F=e(72455),r=e(13812),a=e(35031),l=e(84792),f=e(46160),y=e(86810),h=e(21726),E=e(10439);let T=n=class extends((0,y.eC)(f.Z.ofType(E.Z))){constructor(i){super(i),this.url=null}clone(){return new n({url:this.url,items:this.items.map(i=>i.clone())})}toJSON(i){return this.toArray().map(d=>d.toJSON(i)).filter(d=>!!d.geometry)}static fromJSON(i,d){const P=new n;for(const A of i)P.add(E.Z.fromJSON(A,d));return P}static fromUrl(i,d,P){return(0,t.Z)(function*(){const A={url:(0,h.mN)(i),origin:"service"},G=yield(0,l.default)(i,{responseType:"json",signal:(0,j.U2)(P,"signal")}),V=d.toJSON(),z=[];for(const $ of G.data)z.push(E.Z.fromJSON(W(K({},$),{geometry:W(K({},$.geometry),{spatialReference:V})}),A));return new n({url:i,items:z})})()}};(0,p._)([(0,s.Cb)({type:String})],T.prototype,"url",void 0),T=n=(0,p._)([(0,I.j)("esri.layers.support.SceneModifications")],T);const x=T;var B=e(29840);let c=class extends((0,F.Vt)((0,D.Y)((0,L.q)((0,_.I)((0,J.M)((0,S.R)((0,v.V)(R.Z)))))))){constructor(...i){super(...i),this._handles=new N.Z,this.geometryType="mesh",this.operationalLayerType="IntegratedMeshLayer",this.type="integrated-mesh",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile="mesh-pyramids",this.modifications=null,this._modificationsSource=null,this.elevationInfo=null,this.path=null}destroy(){this._handles.destroy()}initialize(){this._handles.add((0,g.on)(()=>this.modifications,"after-changes",()=>this.modifications=this.modifications,g.Z_))}normalizeCtorArgs(i,d){return"string"==typeof i?K({url:i},d):i}readModifications(i,d,P){this._modificationsSource={url:(0,B.f)(i,P),context:P}}load(i){var d=this;return(0,t.Z)(function*(){return d.addResolvingPromise(d._doLoad(i)),d})()}_doLoad(i){var d=this;return(0,t.Z)(function*(){const P=(0,j.U2)(i,"signal");try{yield d.loadFromPortal({supportedTypes:["Scene Service"]},i)}catch(A){(0,C.r9)(A)}if(yield d._fetchService(P),(0,j.pC)(d._modificationsSource)){const A=yield x.fromUrl(d._modificationsSource.url,d.spatialReference,i);d.setAtOrigin("modifications",A,d._modificationsSource.context.origin),d._modificationsSource=null}yield d._fetchIndexAndUpdateExtent(d.nodePages,P)})()}beforeSave(){if(!(0,j.Wi)(this._modificationsSource))return this.load().then(()=>{},()=>{})}saveAs(i,d){var P=this;return(0,t.Z)(function*(){return P._debouncedSaveOperations(F.xp.SAVE_AS,W(K({},d),{getTypeKeywords:()=>P._getTypeKeywords(),portalItemLayerType:"integrated-mesh"}),i)})()}save(){var i=this;return(0,t.Z)(function*(){const d={getTypeKeywords:()=>i._getTypeKeywords(),portalItemLayerType:"integrated-mesh"};return i._debouncedSaveOperations(F.xp.SAVE,d)})()}validateLayer(i){if(i.layerType&&"IntegratedMesh"!==i.layerType)throw new o.Z("integrated-mesh-layer:layer-type-not-supported","IntegratedMeshLayer does not support this layer type",{layerType:i.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new o.Z("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"});if(this.version.major>1)throw new o.Z("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"})}_getTypeKeywords(){return["IntegratedMeshLayer"]}};(0,p._)([(0,s.Cb)({type:String,readOnly:!0})],c.prototype,"geometryType",void 0),(0,p._)([(0,s.Cb)({type:["show","hide"]})],c.prototype,"listMode",void 0),(0,p._)([(0,s.Cb)({type:["IntegratedMeshLayer"]})],c.prototype,"operationalLayerType",void 0),(0,p._)([(0,s.Cb)({json:{read:!1},readOnly:!0})],c.prototype,"type",void 0),(0,p._)([(0,s.Cb)({type:a.U4,readOnly:!0})],c.prototype,"nodePages",void 0),(0,p._)([(0,s.Cb)({type:[a.QI],readOnly:!0})],c.prototype,"materialDefinitions",void 0),(0,p._)([(0,s.Cb)({type:[a.Yh],readOnly:!0})],c.prototype,"textureSetDefinitions",void 0),(0,p._)([(0,s.Cb)({type:[a.H3],readOnly:!0})],c.prototype,"geometryDefinitions",void 0),(0,p._)([(0,s.Cb)({readOnly:!0})],c.prototype,"serviceUpdateTimeStamp",void 0),(0,p._)([(0,s.Cb)({type:x}),(0,m.B)({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],c.prototype,"modifications",void 0),(0,p._)([(0,b.r)(["web-scene","portal-item"],"modifications")],c.prototype,"readModifications",null),(0,p._)([(0,s.Cb)(r.PV)],c.prototype,"elevationInfo",void 0),(0,p._)([(0,s.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],c.prototype,"path",void 0),c=(0,p._)([(0,I.j)("esri.layers.IntegratedMeshLayer")],c);const Z=c},35031:(U,u,e)=>{e.d(u,{H3:()=>D,QI:()=>O,U4:()=>g,Yh:()=>I});var t=e(17626),p=e(86810),o=e(77712),S=(e(90912),e(85931),e(55342)),C=e(76898);let g=class extends p.wq{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,t._)([(0,o.Cb)({type:Number})],g.prototype,"nodesPerPage",void 0),(0,t._)([(0,o.Cb)({type:Number})],g.prototype,"rootIndex",void 0),(0,t._)([(0,o.Cb)({type:String})],g.prototype,"lodSelectionMetricType",void 0),g=(0,t._)([(0,C.j)("esri.layer.support.I3SNodePageDefinition")],g);let s=class extends p.wq{constructor(){super(...arguments),this.factor=1}};(0,t._)([(0,o.Cb)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],s.prototype,"id",void 0),(0,t._)([(0,o.Cb)({type:Number})],s.prototype,"factor",void 0),s=(0,t._)([(0,C.j)("esri.layer.support.I3SMaterialTexture")],s);let M=class extends p.wq{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,t._)([(0,o.Cb)({type:[Number]})],M.prototype,"baseColorFactor",void 0),(0,t._)([(0,o.Cb)({type:s})],M.prototype,"baseColorTexture",void 0),(0,t._)([(0,o.Cb)({type:s})],M.prototype,"metallicRoughnessTexture",void 0),(0,t._)([(0,o.Cb)({type:Number})],M.prototype,"metallicFactor",void 0),(0,t._)([(0,o.Cb)({type:Number})],M.prototype,"roughnessFactor",void 0),M=(0,t._)([(0,C.j)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],M);let O=class extends p.wq{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,t._)([(0,S.J)({opaque:"opaque",mask:"mask",blend:"blend"})],O.prototype,"alphaMode",void 0),(0,t._)([(0,o.Cb)({type:Number})],O.prototype,"alphaCutoff",void 0),(0,t._)([(0,o.Cb)({type:Boolean})],O.prototype,"doubleSided",void 0),(0,t._)([(0,S.J)({none:"none",back:"back",front:"front"})],O.prototype,"cullFace",void 0),(0,t._)([(0,o.Cb)({type:s})],O.prototype,"normalTexture",void 0),(0,t._)([(0,o.Cb)({type:s})],O.prototype,"occlusionTexture",void 0),(0,t._)([(0,o.Cb)({type:s})],O.prototype,"emissiveTexture",void 0),(0,t._)([(0,o.Cb)({type:[Number]})],O.prototype,"emissiveFactor",void 0),(0,t._)([(0,o.Cb)({type:M})],O.prototype,"pbrMetallicRoughness",void 0),O=(0,t._)([(0,C.j)("esri.layer.support.I3SMaterialDefinition")],O);let b=class extends p.wq{};(0,t._)([(0,o.Cb)({type:String,json:{read:{source:["name","index"],reader:(L,_)=>null!=L?L:`${_.index}`}}})],b.prototype,"name",void 0),(0,t._)([(0,S.J)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],b.prototype,"format",void 0),b=(0,t._)([(0,C.j)("esri.layer.support.I3STextureFormat")],b);let I=class extends p.wq{constructor(){super(...arguments),this.atlas=!1}};(0,t._)([(0,o.Cb)({type:[b]})],I.prototype,"formats",void 0),(0,t._)([(0,o.Cb)({type:Boolean})],I.prototype,"atlas",void 0),I=(0,t._)([(0,C.j)("esri.layer.support.I3STextureSetDefinition")],I);let m=class extends p.wq{};(0,t._)([(0,S.J)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],m.prototype,"type",void 0),(0,t._)([(0,o.Cb)({type:Number})],m.prototype,"component",void 0),m=(0,t._)([(0,C.j)("esri.layer.support.I3SGeometryAttribute")],m);let R=class extends p.wq{};(0,t._)([(0,S.J)({draco:"draco"})],R.prototype,"encoding",void 0),(0,t._)([(0,o.Cb)({type:[String]})],R.prototype,"attributes",void 0),R=(0,t._)([(0,C.j)("esri.layer.support.I3SGeometryCompressedAttributes")],R);let v=class extends p.wq{constructor(){super(...arguments),this.offset=0}};(0,t._)([(0,o.Cb)({type:Number})],v.prototype,"offset",void 0),(0,t._)([(0,o.Cb)({type:m})],v.prototype,"position",void 0),(0,t._)([(0,o.Cb)({type:m})],v.prototype,"normal",void 0),(0,t._)([(0,o.Cb)({type:m})],v.prototype,"uv0",void 0),(0,t._)([(0,o.Cb)({type:m})],v.prototype,"color",void 0),(0,t._)([(0,o.Cb)({type:m})],v.prototype,"uvRegion",void 0),(0,t._)([(0,o.Cb)({type:m})],v.prototype,"featureId",void 0),(0,t._)([(0,o.Cb)({type:m})],v.prototype,"faceRange",void 0),(0,t._)([(0,o.Cb)({type:R})],v.prototype,"compressedAttributes",void 0),v=(0,t._)([(0,C.j)("esri.layer.support.I3SGeometryBuffer")],v);let D=class extends p.wq{};(0,t._)([(0,S.J)({triangle:"triangle"})],D.prototype,"topology",void 0),(0,t._)([(0,o.Cb)()],D.prototype,"geometryBuffers",void 0),D=(0,t._)([(0,C.j)("esri.layer.support.I3SGeometryDefinition")],D)},10439:(U,u,e)=>{e.d(u,{Z:()=>R});var I,t=e(17626),o=(e(29132),e(86810)),N=e(58817),j=e(14889),S=e(77712),g=(e(90912),e(76898)),s=e(99433),M=e(128),O=e(55915),b=e(37118);let m=I=class extends o.wq{constructor(v){super(v),this.geometry=null,this.type="clip"}writeGeometry(v,D,L,_){if(_.layer&&_.layer.spatialReference&&!_.layer.spatialReference.equals(this.geometry.spatialReference)){if(!(0,O.Up)(v.spatialReference,_.layer.spatialReference))return void(_&&_.messages&&_.messages.push(new j.Z("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:_.layer.spatialReference,context:_})));const J=new b.Z;(0,O.Wt)(v,J,_.layer.spatialReference),D[L]=J.toJSON(_)}else D[L]=v.toJSON(_);delete D[L].spatialReference}clone(){return new I({geometry:(0,N.d9)(this.geometry),type:this.type})}};(0,t._)([(0,S.Cb)({type:b.Z}),(0,M.B)()],m.prototype,"geometry",void 0),(0,t._)([(0,s.c)(["web-scene","portal-item"],"geometry")],m.prototype,"writeGeometry",null),(0,t._)([(0,S.Cb)({type:["clip","mask","replace"],nonNullable:!0}),(0,M.B)()],m.prototype,"type",void 0),m=I=(0,t._)([(0,g.j)("esri.layers.support.SceneModification")],m);const R=m},61556:(U,u,e)=>{e.d(u,{B:()=>p});var t=e(21726);function p(s){return j[function o(s){return s instanceof Blob?s.type:function N(s){const M=(0,t.Ml)(s);return g[M]||S}(s.url)}(s)]||C}const j={},S="text/plain",C=j[S],g={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const s in g)j[g[s]]=s}}]);