"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[9185],{29185:(ft,I,n)=>{n.r(I),n.d(I,{loadGLTFMesh:()=>q});var L=n(15861),W=n(91558),w=n(84792),U=n(88159),j=n(21286),o=n(62208),K=n(30217),y=n(550),Z=n(28093),G=n(4794),N=n(61751),X=n(27530),b=n(1607),V=n(92529),m=n(60479),D=n(79800),p=n(63657),O=n(60490),Q=n(60853),z=n(9160),Y=n(12495),h=n(96170),H=n(19574),J=n(37187),k=n(79331),C=n(67969),S=n(9554),x=n(63470),F=n(35995);function q(t,e,r){return R.apply(this,arguments)}function R(){return(R=(0,L.Z)(function*(t,e,r){const a=new z.C(tt(r)),s=(yield(0,Y.Q)(a,e,r,!0)).model,f=s.lods.shift(),u=new Map,i=new Map;s.textures.forEach((g,B)=>u.set(B,ot(g))),s.materials.forEach((g,B)=>i.set(B,st(g,u)));const c=nt(f);for(const g of c.parts)rt(c,g,i);const{position:T,normal:E,tangent:_,color:l,texCoord0:M}=c.vertexAttributes,d={position:T.typedBuffer,normal:(0,o.pC)(E)?E.typedBuffer:null,tangent:(0,o.pC)(_)?_.typedBuffer:null,uv:(0,o.pC)(M)?M.typedBuffer:null,color:(0,o.pC)(l)?l.typedBuffer:null},A=(0,Q.w1)(d,t,r);return{transform:A.transform,components:c.components,spatialReference:t.spatialReference,vertexAttributes:new V.Q({position:A.vertexAttributes.position,normal:A.vertexAttributes.normal,tangent:A.vertexAttributes.tangent,color:d.color,uv:d.uv})}})).apply(this,arguments)}function tt(t){const e=null==t?void 0:t.resolveFile;return e?{busy:!1,request:(r=(0,L.Z)(function*(a,s,f){const u=e(a),i="image"===s?"image":"binary"===s?"array-buffer":"json";return(yield(0,w.default)(u,{responseType:i,signal:(0,o.pC)(f)?f.signal:null})).data}),function(s,f,u){return r.apply(this,arguments)})}:null;var r}function P(t,e){if((0,o.Wi)(t))return"-";const r=t.typedBuffer;return`${(0,U.s1)(e,r.buffer,()=>e.size)}/${r.byteOffset}/${r.byteLength}`}function et(t){return(0,o.pC)(t)?t.toString():"-"}function nt(t){let e=0;const r={color:!1,tangent:!1,normal:!1,texCoord0:!1},a=new Map,s=new Map,f=[];for(const u of t.parts){const{attributes:{position:i,normal:c,color:T,tangent:E,texCoord0:_}}=u,l=`\n      ${P(i,a)}/\n      ${P(c,a)}/\n      ${P(T,a)}/\n      ${P(E,a)}/\n      ${P(_,a)}/\n      ${et(u.transform)}\n    `;let M=!1;const d=(0,U.s1)(s,l,()=>(M=!0,{start:e,length:i.count}));M&&(e+=i.count),c&&(r.normal=!0),T&&(r.color=!0),E&&(r.tangent=!0),_&&(r.texCoord0=!0),f.push({gltf:u,writeVertices:M,region:d})}return{vertexAttributes:{position:(0,O.gS)(m.fP,e),normal:r.normal?(0,O.gS)(m.ct,e):null,tangent:r.tangent?(0,O.gS)(m.ek,e):null,color:r.color?(0,O.gS)(m.mc,e):null,texCoord0:r.texCoord0?(0,O.gS)(m.Eu,e):null},parts:f,components:[]}}function ot(t){return new b.Z({data:((0,H.$A)(t.data),t.data),wrap:ut(t.parameters.wrap)})}function st(t,e){const r=new W.Z(function it(t,e){return(0,G.f)(v(t[0]),v(t[1]),v(t[2]),e)}(t.color,t.opacity)),a=t.emissiveFactor?new W.Z(function ct(t){return(0,Z.f)(v(t[0]),v(t[1]),v(t[2]))}(t.emissiveFactor)):null;return new X.Z({color:r,colorTexture:(0,o.Wg)((0,o.yw)(t.textureColor,s=>e.get(s))),normalTexture:(0,o.Wg)((0,o.yw)(t.textureNormal,s=>e.get(s))),emissiveColor:a,emissiveTexture:(0,o.Wg)((0,o.yw)(t.textureEmissive,s=>e.get(s))),occlusionTexture:(0,o.Wg)((0,o.yw)(t.textureOcclusion,s=>e.get(s))),alphaMode:lt(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:(0,o.Wg)((0,o.yw)(t.textureMetallicRoughness,s=>e.get(s))),colorTextureTransform:t.colorTextureTransform,normalTextureTransform:t.normalTextureTransform,occlusionTextureTransform:t.occlusionTextureTransform,emissiveTextureTransform:t.emissiveTextureTransform,metallicRoughnessTextureTransform:t.metallicRoughnessTextureTransform})}function rt(t,e,r){e.writeVertices&&function _t(t,e){const{position:r,normal:a,tangent:s,color:f,texCoord0:u}=t.vertexAttributes,i=e.region.start,{attributes:c,transform:T}=e.gltf,E=c.position.count;if((0,D.t)(r.slice(i,E),c.position,T),(0,o.pC)(c.normal)&&(0,o.pC)(a)){const _=(0,K.b)((0,y.c)(),T),l=a.slice(i,E);(0,D.a)(l,c.normal,_),(0,j.oc)(_)&&(0,D.n)(l,l)}else(0,o.pC)(a)&&(0,S.f)(a,0,0,1,{dstIndex:i,count:E});if((0,o.pC)(c.tangent)&&(0,o.pC)(s)){const _=(0,K.b)((0,y.c)(),T),l=s.slice(i,E);(0,p.t)(l,c.tangent,_),(0,j.oc)(_)&&(0,p.n)(l,l)}else(0,o.pC)(s)&&(0,x.f)(s,0,0,1,1,{dstIndex:i,count:E});if((0,o.pC)(c.texCoord0)&&(0,o.pC)(u)?(0,F.n)(u.slice(i,E),c.texCoord0):(0,o.pC)(u)&&(0,F.f)(u,0,0,{dstIndex:i,count:E}),(0,o.pC)(c.color)&&(0,o.pC)(f)){const _=c.color,l=f.slice(i,E);if(4===_.elementCount)_ instanceof m.ek?(0,p.s)(l,_,255):_ instanceof m.mc?(0,x.c)(l,_):_ instanceof m.v6&&(0,p.a)(l,_,8);else{(0,x.f)(l,255,255,255,255);const M=m.ne.fromTypedArray(l.typedBuffer,l.typedBufferStride);_ instanceof m.ct?(0,D.s)(M,_,255):_ instanceof m.ne?(0,S.c)(M,_):_ instanceof m.mw&&(0,D.b)(M,_,8)}}else(0,o.pC)(f)&&(0,x.f)(f.slice(i,E),255,255,255,255)}(t,e);const a=e.gltf,s=function at(t,e){switch(e){case C.MX.TRIANGLES:return(0,h.nh)(t,J.DX);case C.MX.TRIANGLE_STRIP:return(0,h.DA)(t);case C.MX.TRIANGLE_FAN:return(0,h.jX)(t)}}(a.indices||a.attributes.position.count,a.primitiveType),f=e.region.start;if(f)for(let u=0;u<s.length;u++)s[u]+=f;t.components.push(new N.Z({faces:s,material:r.get(a.material),trustSourceNormals:!0}))}function lt(t){switch(t){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function ut(t){return{horizontal:$(t.s),vertical:$(t.t)}}function $(t){switch(t){case C.e8.CLAMP_TO_EDGE:return"clamp";case C.e8.MIRRORED_REPEAT:return"mirror";case C.e8.REPEAT:return"repeat"}}function v(t){return t**(1/k.K)*255}}}]);