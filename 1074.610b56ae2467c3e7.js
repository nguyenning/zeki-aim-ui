"use strict";var q=Object.defineProperty,_=Object.defineProperties,ee=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,b=(o,i,t)=>i in o?q(o,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[i]=t,V=(o,i)=>{for(var t in i||(i={}))re.call(i,t)&&b(o,t,i[t]);if(F)for(var t of F(i))ae.call(i,t)&&b(o,t,i[t]);return o},O=(o,i)=>_(o,ee(i));(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[1074],{71074:(o,i,t)=>{t.r(i),t.d(i,{populateOperationalLayers:()=>v});var s=t(15861),U=t(46160),B=(t(8314),t(10699)),u=t(30164),w=t(55463);function D(e){return M(e,"notes")}function R(e){return M(e,"route")}function M(e,r){return!(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)&&e.featureCollectionType===r}var Z=t(7534),E=t(39683);function v(e,r,a){return d.apply(this,arguments)}function d(){return(d=(0,s.Z)(function*(e,r,a){if(!r)return;const y=[];for(const n of r){const l=$(n,a);y.push("GroupLayer"===n.layerType?X(l,n,a):l)}const L=yield(0,B.as)(y);for(const n of L)!n.value||a.filter&&!a.filter(n.value)||e.add(n.value)})).apply(this,arguments)}const N={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},J={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},K={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},P={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",OGCFeatureLayer:"OGCFeatureLayer",SubtypeGroupLayer:"UnsupportedLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},k={ArcGISFeatureLayer:"FeatureLayer"},H={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};function $(e,r){return T.apply(this,arguments)}function T(){return(T=(0,s.Z)(function*(e,r){return z(yield j(e,r),e,r)})).apply(this,arguments)}function z(e,r,a){return I.apply(this,arguments)}function I(){return(I=(0,s.Z)(function*(e,r,a){const y=new e;return y.read(r,a.context),"group"===y.type&&A(r)&&(yield Y(y,r,a.context)),yield(0,E.y)(y,a.context),y})).apply(this,arguments)}function j(e,r){return f.apply(this,arguments)}function f(){return(f=(0,s.Z)(function*(e,r){const a=r.context,y=Q(a);let L=e.layerType||e.type;!L&&r&&r.defaultLayerType&&(L=r.defaultLayerType);const n=y[L];let l=n?u.T[n]:u.T.UnknownLayer;if(h(e)){const G=null==a?void 0:a.portal;if(e.itemId){const c=new w.default({id:e.itemId,portal:G});yield c.load();const p=(yield(0,Z.selectLayerClassPath)(c)).className||"UnknownLayer";l=u.T[p]}}else"ArcGISFeatureLayer"===L?D(e)?l=u.T.MapNotesLayer:R(e)?l=u.T.RouteLayer:A(e)&&(l=u.T.GroupLayer):e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier?l=u.T.WMTSLayer:"WFS"===L&&"2.0.0"!==e.wfsInfo.version&&(l=u.T.UnsupportedLayer);return l()})).apply(this,arguments)}function A(e){var r,a,y;return"ArcGISFeatureLayer"===e.layerType&&!h(e)&&(null!=(y=null==(a=null==(r=e.featureCollection)?void 0:r.layers)?void 0:a.length)?y:0)>1}function h(e){return"Feature Collection"===e.type}function Q(e){let r;if("web-scene"===e.origin)switch(e.layerContainerType){case"basemap":r=K;break;case"ground":r=J;break;default:r=N}else switch(e.layerContainerType){case"basemap":r=H;break;case"tables":r=k;break;default:r=P}return r}function X(e,r,a){return g.apply(this,arguments)}function g(){return(g=(0,s.Z)(function*(e,r,a){const y=new U.Z,L=v(y,Array.isArray(r.layers)?r.layers:[],a),n=yield e;if(yield L,"group"===n.type)return n.layers.addMany(y),n})).apply(this,arguments)}function Y(e,r,a){return m.apply(this,arguments)}function m(){return(m=(0,s.Z)(function*(e,r,a){const y=u.T.FeatureLayer,L=yield y(),n=r.featureCollection,l=n.showLegend,G=n.layers.map((c,p)=>{var C,W;const S=new L;S.read(c,a);const x=O(V({},a),{ignoreDefaults:!0});return S.read({id:`${e.id}-sublayer-${p}`,visibility:null==(W=null==(C=r.visibleLayers)?void 0:C.includes(p))||W},x),null!=l&&S.read({showLegend:l},x),S});e.layers.addMany(G)})).apply(this,arguments)}}}]);