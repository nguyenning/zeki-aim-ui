"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[9185],{29185:(ct,L,e)=>{e.r(L),e.d(L,{loadGLTFMesh:()=>k});var I=e(15861),W=e(91558),$=e(84792),U=e(88159),y=e(21286),o=e(62208),j=e(30217),K=e(550),Z=e(28093),G=e(4794),N=e(61751),X=e(27530),b=e(1607),V=e(92529),M=e(60479),O=e(79800),A=e(63657),P=e(60490),z=e(60853),Q=e(9160),Y=e(93831),x=e(96170),H=e(36848),J=e(79331),D=e(67969),S=e(9554),T=e(63470),F=e(35995);function k(t,n,r){return R.apply(this,arguments)}function R(){return(R=(0,I.Z)(function*(t,n,r){const a=new Q.C(q(r)),s=(yield(0,Y.z)(a,n,r,!0)).model,f=s.lods.shift(),u=new Map,c=new Map;s.textures.forEach((p,B)=>u.set(B,et(p))),s.materials.forEach((p,B)=>c.set(B,ot(p,u)));const i=nt(f);for(const p of i.parts)st(i,p,c);const{position:C,normal:E,tangent:_,color:l,texCoord0:m}=i.vertexAttributes,g={position:C.typedBuffer,normal:(0,o.pC)(E)?E.typedBuffer:null,tangent:(0,o.pC)(_)?_.typedBuffer:null,uv:(0,o.pC)(m)?m.typedBuffer:null,color:(0,o.pC)(l)?l.typedBuffer:null},h=(0,z.w1)(g,t,r);return{transform:h.transform,components:i.components,spatialReference:t.spatialReference,vertexAttributes:new V.Q({position:h.vertexAttributes.position,normal:h.vertexAttributes.normal,tangent:h.vertexAttributes.tangent,color:g.color,uv:g.uv})}})).apply(this,arguments)}function q(t){return null!=t&&t.resolveFile?{busy:!1,request:(n=(0,I.Z)(function*(r,a,s){const f=t.resolveFile(r),u="image"===a?"image":"binary"===a?"array-buffer":"json";return(yield(0,$.default)(f,{responseType:u,signal:(0,o.pC)(s)?s.signal:null})).data}),function(a,s,f){return n.apply(this,arguments)})}:null;var n}function d(t,n){if((0,o.Wi)(t))return"-";const r=t.typedBuffer;return`${(0,U.s1)(n,r.buffer,()=>n.size)}/${r.byteOffset}/${r.byteLength}`}function tt(t){return(0,o.pC)(t)?t.toString():"-"}function nt(t){let n=0;const r={color:!1,tangent:!1,normal:!1,texCoord0:!1},a=new Map,s=new Map,f=[];for(const u of t.parts){const{attributes:{position:c,normal:i,color:C,tangent:E,texCoord0:_}}=u,l=`\n      ${d(c,a)}/\n      ${d(i,a)}/\n      ${d(C,a)}/\n      ${d(E,a)}/\n      ${d(_,a)}/\n      ${tt(u.transform)}\n    `;let m=!1;const g=(0,U.s1)(s,l,()=>(m=!0,{start:n,length:c.count}));m&&(n+=c.count),i&&(r.normal=!0),C&&(r.color=!0),E&&(r.tangent=!0),_&&(r.texCoord0=!0),f.push({gltf:u,writeVertices:m,region:g})}return{vertexAttributes:{position:(0,P.gS)(M.fP,n),normal:r.normal?(0,P.gS)(M.ct,n):null,tangent:r.tangent?(0,P.gS)(M.ek,n):null,color:r.color?(0,P.gS)(M.mc,n):null,texCoord0:r.texCoord0?(0,P.gS)(M.Eu,n):null},parts:f,components:[]}}function et(t){return new b.Z({data:t.data,wrap:lt(t.parameters.wrap)})}function ot(t,n){const r=new W.Z(function it(t,n){return(0,G.f)(v(t[0]),v(t[1]),v(t[2]),n)}(t.color,t.opacity)),a=t.emissiveFactor?new W.Z(function ut(t){return(0,Z.f)(v(t[0]),v(t[1]),v(t[2]))}(t.emissiveFactor)):null;return new X.Z({color:r,colorTexture:(0,o.Wg)((0,o.yw)(t.textureColor,s=>n.get(s))),normalTexture:(0,o.Wg)((0,o.yw)(t.textureNormal,s=>n.get(s))),emissiveColor:a,emissiveTexture:(0,o.Wg)((0,o.yw)(t.textureEmissive,s=>n.get(s))),occlusionTexture:(0,o.Wg)((0,o.yw)(t.textureOcclusion,s=>n.get(s))),alphaMode:at(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:(0,o.Wg)((0,o.yw)(t.textureMetallicRoughness,s=>n.get(s)))})}function st(t,n,r){n.writeVertices&&function rt(t,n){const{position:r,normal:a,tangent:s,color:f,texCoord0:u}=t.vertexAttributes,c=n.region.start,{attributes:i,transform:C}=n.gltf,E=i.position.count;if((0,O.t)(r.slice(c,E),i.position,C),(0,o.pC)(i.normal)&&(0,o.pC)(a)){const _=(0,j.a)((0,K.c)(),C),l=a.slice(c,E);(0,O.a)(l,i.normal,_),(0,y.oc)(_)&&(0,O.n)(l,l)}else(0,o.pC)(a)&&(0,S.f)(a,0,0,1,{dstIndex:c,count:E});if((0,o.pC)(i.tangent)&&(0,o.pC)(s)){const _=(0,j.a)((0,K.c)(),C),l=s.slice(c,E);(0,A.t)(l,i.tangent,_),(0,y.oc)(_)&&(0,A.n)(l,l)}else(0,o.pC)(s)&&(0,T.f)(s,0,0,1,1,{dstIndex:c,count:E});if((0,o.pC)(i.texCoord0)&&(0,o.pC)(u)?(0,F.n)(u.slice(c,E),i.texCoord0):(0,o.pC)(u)&&(0,F.f)(u,0,0,{dstIndex:c,count:E}),(0,o.pC)(i.color)&&(0,o.pC)(f)){const _=i.color,l=f.slice(c,E);if(4===_.elementCount)_ instanceof M.ek?(0,A.s)(l,_,255):_ instanceof M.mc?(0,T.c)(l,_):_ instanceof M.v6&&(0,A.a)(l,_,8);else{(0,T.f)(l,255,255,255,255);const m=M.ne.fromTypedArray(l.typedBuffer,l.typedBufferStride);_ instanceof M.ct?(0,O.s)(m,_,255):_ instanceof M.ne?(0,S.c)(m,_):_ instanceof M.mw&&(0,O.b)(m,_,8)}}else(0,o.pC)(f)&&(0,T.f)(f.slice(c,E),255,255,255,255)}(t,n);const a=n.gltf,s=function _t(t,n){switch(n){case D.MX.TRIANGLES:return(0,x.nh)(t,H.DX);case D.MX.TRIANGLE_STRIP:return(0,x.DA)(t);case D.MX.TRIANGLE_FAN:return(0,x.jX)(t)}}(a.indices||a.attributes.position.count,a.primitiveType),f=n.region.start;if(f)for(let u=0;u<s.length;u++)s[u]+=f;t.components.push(new N.Z({faces:s,material:r.get(a.material),trustSourceNormals:!0}))}function at(t){switch(t){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function lt(t){return{horizontal:w(t.s),vertical:w(t.t)}}function w(t){switch(t){case D.e8.CLAMP_TO_EDGE:return"clamp";case D.e8.MIRRORED_REPEAT:return"mirror";case D.e8.REPEAT:return"repeat"}}function v(t){return t**(1/J.K)*255}}}]);